"use strict";(self.webpackChunkproyecto=self.webpackChunkproyecto||[]).push([[179],{2011:(ft,Se,F)=>{F.d(Se,{Dh:()=>fe,GT:()=>_e,cc:()=>Re,hO:()=>$e,on:()=>W,pX:()=>ue,xv:()=>ye});var a=F(4650),j=F(9260),O=F(2122);ft=F.hmd(ft);const ae=["ngOnDestroy"],ue=(ge,Xe,Je,Oe={})=>new Proxy(ge,{get:(Me,De)=>Je.runOutsideAngular(()=>{var ze;if(ge[De])return!(null===(ze=Oe?.spy)||void 0===ze)&&ze.get&&Oe.spy.get(De,ge[De]),ge[De];if(ae.indexOf(De)>-1)return()=>{};const oe=Xe.toPromise().then(de=>{const ve=de&&de[De];return"function"==typeof ve?ve.bind(de):ve&&ve.then?ve.then(Q=>Je.run(()=>Q)):Je.run(()=>ve)});return new Proxy(()=>{},{get:(de,ve)=>oe[ve],apply:(de,ve,Q)=>oe.then(J=>{var pe;const ce=J&&J(...Q);return!(null===(pe=Oe?.spy)||void 0===pe)&&pe.apply&&Oe.spy.apply(De,Q,ce),ce})})})}),_e=(ge,Xe)=>{Xe.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Oe=>{Object.defineProperty(ge.prototype,Oe,Object.getOwnPropertyDescriptor(Je.prototype||Je,Oe))})})};class ie{constructor(Xe){return Xe}}const fe=new a.OlP("angularfire2.app.options"),ye=new a.OlP("angularfire2.app.name");function W(ge,Xe,Je){const Me="object"==typeof Je&&Je||{};Me.name=Me.name||"string"==typeof Je&&Je||"[DEFAULT]";const ze=j.Z.apps.filter(oe=>oe&&oe.name===Me.name)[0]||Xe.runOutsideAngular(()=>j.Z.initializeApp(ge,Me));try{JSON.stringify(ge)!==JSON.stringify(ze.options)&&q("error",`${ze.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(ze)}const q=(ge,...Xe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ge](...Xe)},X={provide:ie,useFactory:W,deps:[fe,a.R0b,[new a.FiY,ye]]};let $e=(()=>{class ge{constructor(Je){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",a.q4F.full,Je.toString())}static initializeApp(Je,Oe){return{ngModule:ge,providers:[{provide:fe,useValue:Je},{provide:ye,useValue:Oe}]}}}return ge.\u0275fac=function(Je){return new(Je||ge)(a.LFG(a.Lbi))},ge.\u0275mod=a.oAB({type:ge}),ge.\u0275inj=a.cJS({providers:[X]}),ge})();function Re(ge,Xe,Je,Oe,Me){const[,De,ze]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===ge)||[];if(De)return function Te(ge,Xe){try{return ge.toString()===Xe.toString()}catch{return ge===Xe}}(Me,ze)||(we("error",`${Xe} was already initialized on the ${Je} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Me,was:ze})),De;{const oe=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ge,oe,Me]),oe}}const ot=!!ft.hot,we=(ge,...Xe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ge](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,Se,F)=>{F.d(Se,{q4:()=>pu,iC:()=>Qn,HU:()=>Hs,vb:()=>Ki,JM:()=>oa,u3:()=>vr});var a=F(4650),j=F(259),O=F(5861),ae=F(9681),ue=F(2090),_e=F(4859),ie=F(1877),fe=F(8766);const ye="@firebase/installations",W="0.6.1",X=`w:${W}`,$e="FIS_v2",Xe=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(T){return T instanceof ue.ZR&&T.code.includes("request-failed")}function Oe({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Me(T){return{token:T.token,requestStatus:2,expiresIn:J(T.expiresIn),creationTime:Date.now()}}function De(T,I){return ze.apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*(T,I){const H=(yield I.json()).error;return Xe.create("request-failed",{requestName:T,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function oe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function de(T,{refreshToken:I}){const x=oe(T);return x.append("Authorization",function pe(T){return`${$e} ${T}`}(I)),x}function ve(T){return Q.apply(this,arguments)}function Q(){return(Q=(0,O.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function J(T){return Number(T.replace("s","000"))}function ce(T,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:x}){const H=Oe(T),K=oe(T),le=I.getImmediate({optional:!0});if(le){const _t=yield le.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Ye={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:$e,appId:T.appId,sdkVersion:X})},ut=yield ve(()=>fetch(H,Ye));if(ut.ok){const _t=yield ut.json();return{fid:_t.fid||x,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Me(_t.authToken)}}throw yield De("Create Installation",ut)})).apply(this,arguments)}function Ue(T){return new Promise(I=>{setTimeout(I,T)})}const ln=/^[cdef][\w-]{21}$/;function qe(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const x=function vn(T){return function pt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return ln.test(x)?x:""}catch{return""}}function kn(T){return`${T.appName}!${T.appId}`}const rn=new Map;function sn(T,I){const x=kn(T);Hr(x,I),function zi(T,I){const x=function $n(){return!Kr&&"BroadcastChannel"in self&&(Kr=new BroadcastChannel("[Firebase] FID Change"),Kr.onmessage=T=>{Hr(T.data.key,T.data.fid)}),Kr}();x&&x.postMessage({key:T,fid:I}),function as(){0===rn.size&&Kr&&(Kr.close(),Kr=null)}()}(x,I)}function Hr(T,I){const x=rn.get(T);if(x)for(const H of x)H(I)}let Kr=null;const tr="firebase-installations-store";let Fi=null;function cs(){return Fi||(Fi=(0,fe.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(tr)}})),Fi}function et(T,I){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(T,I){const x=kn(T),K=(yield cs()).transaction(tr,"readwrite"),le=K.objectStore(tr),Ce=yield le.get(x);return yield le.put(I,x),yield K.done,(!Ce||Ce.fid!==I.fid)&&sn(T,I.fid),I})).apply(this,arguments)}function nr(T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(T){const I=kn(T),H=(yield cs()).transaction(tr,"readwrite");yield H.objectStore(tr).delete(I),yield H.done})).apply(this,arguments)}function Dr(T,I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(T,I){const x=kn(T),K=(yield cs()).transaction(tr,"readwrite"),le=K.objectStore(tr),Ce=yield le.get(x),Ye=I(Ce);return void 0===Ye?yield le.delete(x):yield le.put(Ye,x),yield K.done,Ye&&(!Ce||Ce.fid!==Ye.fid)&&sn(T,Ye.fid),Ye})).apply(this,arguments)}function Rn(T){return On.apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(T){let I;const x=yield Dr(T.appConfig,H=>{const K=En(H),le=mt(T,K);return I=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function En(T){return xt(T||{fid:qe(),registrationStatus:0})}function mt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Xe.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},H=function gt(T,I){return Ot.apply(this,arguments)}(T,x);return{installationEntry:x,registrationPromise:H}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:oi(T)}:{installationEntry:I}}function Ot(){return(Ot=(0,O.Z)(function*(T,I){try{const x=yield ce(T,I);return et(T.appConfig,x)}catch(x){throw Je(x)&&409===x.customData.serverCode?yield nr(T.appConfig):yield et(T.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function oi(T){return lr.apply(this,arguments)}function lr(){return(lr=(0,O.Z)(function*(T){let I=yield jr(T.appConfig);for(;1===I.registrationStatus;)yield Ue(100),I=yield jr(T.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:H}=yield Rn(T);return H||x}return I})).apply(this,arguments)}function jr(T){return Dr(T,I=>{if(!I)throw Xe.create("installation-not-found");return xt(I)})}function xt(T){return function Xr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Vt(T,I){return wi.apply(this,arguments)}function wi(){return(wi=(0,O.Z)(function*({appConfig:T,heartbeatServiceProvider:I},x){const H=Jt(T,x),K=de(T,x),le=I.getImmediate({optional:!0});if(le){const _t=yield le.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Ye={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:X,appId:T.appId}})},ut=yield ve(()=>fetch(H,Ye));if(ut.ok)return Me(yield ut.json());throw yield De("Generate Auth Token",ut)})).apply(this,arguments)}function Jt(T,{fid:I}){return`${Oe(T)}/${I}/authTokens:generate`}function yr(T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(T,I=!1){let x;const H=yield Dr(T.appConfig,le=>{if(!tn(le))throw Xe.create("not-registered");const Ce=le.authToken;if(!I&&G(Ce))return le;if(1===Ce.requestStatus)return x=rt(T,I),le;{if(!navigator.onLine)throw Xe.create("app-offline");const Ye=Y(le);return x=It(T,Ye),Ye}});return x?yield x:H.authToken})).apply(this,arguments)}function rt(T,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,O.Z)(function*(T,I){let x=yield it(T.appConfig);for(;1===x.authToken.requestStatus;)yield Ue(100),x=yield it(T.appConfig);const H=x.authToken;return 0===H.requestStatus?yr(T,I):H})).apply(this,arguments)}function it(T){return Dr(T,I=>{if(!tn(I))throw Xe.create("not-registered");return function U(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function It(T,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(T,I){try{const x=yield Vt(T,I),H=Object.assign(Object.assign({},I),{authToken:x});return yield et(T.appConfig,H),x}catch(x){if(!Je(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const H=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield et(T.appConfig,H)}else yield nr(T.appConfig);throw x}})).apply(this,arguments)}function tn(T){return void 0!==T&&2===T.registrationStatus}function G(T){return 2===T.requestStatus&&!function $(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function Y(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function B(){return(B=(0,O.Z)(function*(T){const I=T,{installationEntry:x,registrationPromise:H}=yield Rn(I);return H?H.catch(console.error):yr(I).catch(console.error),x.fid})).apply(this,arguments)}function Pe(){return(Pe=(0,O.Z)(function*(T,I=!1){const x=T;return yield at(x),(yield yr(x,I)).token})).apply(this,arguments)}function at(T){return ht.apply(this,arguments)}function ht(){return(ht=(0,O.Z)(function*(T){const{registrationPromise:I}=yield Rn(T);I&&(yield I)})).apply(this,arguments)}function Qs(T){return Xe.create("missing-app-config-values",{valueName:T})}const ko="installations",Xs=T=>{const I=T.getProvider("app").getImmediate(),x=function Nn(T){if(!T||!T.options)throw Qs("App Configuration");if(!T.name)throw Qs("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!T.options[x])throw Qs(x);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Js=T=>{const I=T.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,ko).getImmediate();return{getId:()=>function k(T){return B.apply(this,arguments)}(x),getToken:K=>function re(T){return Pe.apply(this,arguments)}(x,K)}};(function xl(){(0,ae._registerComponent)(new _e.wA(ko,Xs,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("installations-internal",Js,"PRIVATE"))})(),(0,ae.registerVersion)(ye,W),(0,ae.registerVersion)(ye,W,"esm2017");const ds="@firebase/remote-config",ir=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yc{constructor(I,x,H,K){this.client=I,this.storage=x,this.storageCache=H,this.logger=K}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-x,K=H<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var x=this;return(0,O.Z)(function*(){const[H,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(I.cacheMaxAgeMillis,H))return K;I.eTag=K&&K.eTag;const le=yield x.client.fetch(I),Ce=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ce.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ce),le})()}}function xa(T=navigator){return T.languages&&T.languages[0]||T.language}class ro{constructor(I,x,H,K,le,Ce){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=H,this.projectId=K,this.apiKey=le,this.appId=Ce}fetch(I){var x=this;return(0,O.Z)(function*(){const[H,K]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ut={sdk_version:x.sdkVersion,app_instance_id:H,app_instance_id_token:K,app_id:x.appId,language_code:xa()},_t={method:"POST",headers:Ye,body:JSON.stringify(ut)},jt=fetch(Ce,_t),St=new Promise((Mr,di)=>{I.signal.addEventListener(()=>{const Rf=new Error("The operation was aborted.");Rf.name="AbortError",di(Rf)})});let Ar;try{yield Promise.race([jt,St]),Ar=yield jt}catch(Mr){let di="fetch-client-network";throw"AbortError"===Mr?.name&&(di="fetch-timeout"),ir.create(di,{originalErrorMessage:Mr?.message})}let fr=Ar.status;const js=Ar.headers.get("ETag")||void 0;let $t,zr;if(200===Ar.status){let Mr;try{Mr=yield Ar.json()}catch(di){throw ir.create("fetch-client-parse",{originalErrorMessage:di?.message})}$t=Mr.entries,zr=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===zr?fr=500:"NO_CHANGE"===zr?fr=304:("NO_TEMPLATE"===zr||"EMPTY_CONFIG"===zr)&&($t={}),304!==fr&&200!==fr)throw ir.create("fetch-status",{httpStatus:fr});return{status:fr,eTag:js,config:$t}})()}}class ms{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,O.Z)(function*(){const H=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,H)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:H}){var K=this;return(0,O.Z)(function*(){yield function Di(T,I){return new Promise((x,H)=>{const K=Math.max(I-Date.now(),0),le=setTimeout(x,K);T.addEventListener(()=>{clearTimeout(le),H(ir.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const le=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),le}catch(le){if(!function Vm(T){if(!(T instanceof ue.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Ce={throttleEndTimeMillis:Date.now()+(0,ue.$s)(H),backoffCount:H+1};return yield K.storage.setThrottleMetadata(Ce),K.attemptFetch(I,Ce)}})()}}class Hm{constructor(I,x,H,K,le){this.app=I,this._client=x,this._storageCache=H,this._storage=K,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ka(T,I){const x=T.target.error||void 0;return ir.create(I,{originalErrorMessage:x&&x?.message})}const No="app_namespace_store";class Dd{constructor(I,x,H,K=function $m(){return new Promise((T,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=H=>{I(ka(H,"storage-open"))},x.onsuccess=H=>{T(H.target.result)},x.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(x){I(ir.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=I,this.appName=x,this.namespace=H,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,O.Z)(function*(){const H=yield x.openDbPromise;return new Promise((K,le)=>{const Ye=H.transaction([No],"readonly").objectStore(No),ut=x.createCompositeKey(I);try{const _t=Ye.get(ut);_t.onerror=jt=>{le(ka(jt,"storage-get"))},_t.onsuccess=jt=>{const St=jt.target.result;K(St?St.value:void 0)}}catch(_t){le(ir.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(I,x){var H=this;return(0,O.Z)(function*(){const K=yield H.openDbPromise;return new Promise((le,Ce)=>{const ut=K.transaction([No],"readwrite").objectStore(No),_t=H.createCompositeKey(I);try{const jt=ut.put({compositeKey:_t,value:x});jt.onerror=St=>{Ce(ka(St,"storage-set"))},jt.onsuccess=()=>{le()}}catch(jt){Ce(ir.create("storage-set",{originalErrorMessage:jt?.message}))}})})()}delete(I){var x=this;return(0,O.Z)(function*(){const H=yield x.openDbPromise;return new Promise((K,le)=>{const Ye=H.transaction([No],"readwrite").objectStore(No),ut=x.createCompositeKey(I);try{const _t=Ye.delete(ut);_t.onerror=jt=>{le(ka(jt,"storage-delete"))},_t.onsuccess=()=>{K()}}catch(_t){le(ir.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Po{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const x=I.storage.getLastFetchStatus(),H=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),le=yield x;le&&(I.lastFetchStatus=le);const Ce=yield H;Ce&&(I.lastSuccessfulFetchTimestampMillis=Ce);const Ye=yield K;Ye&&(I.activeConfig=Ye)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Oy(){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Td(){(0,ae._registerComponent)(new _e.wA("remote-config",function T(I,{instanceIdentifier:x}){const H=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ir.create("registration-window");if(!(0,ue.hl)())throw ir.create("indexed-db-unavailable");const{projectId:le,apiKey:Ce,appId:Ye}=H.options;if(!le)throw ir.create("registration-project-id");if(!Ce)throw ir.create("registration-api-key");if(!Ye)throw ir.create("registration-app-id");const ut=new Dd(Ye,H.name,x=x||"firebase"),_t=new Po(ut),jt=new ie.Yd(ds);jt.logLevel=ie.in.ERROR;const St=new ro(K,ae.SDK_VERSION,x,le,Ce,Ye),Ar=new ms(St,ut),fr=new Yc(Ar,ut,_t,jt),js=new Hm(H,fr,_t,ut,jt);return function Dn(T){const I=(0,ue.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ds,"0.4.1"),(0,ae.registerVersion)(ds,"0.4.1","esm2017")}();const Pr="/firebase-messaging-sw.js",Lo="/firebase-cloud-messaging-push-scope",Os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ol="google.c.a.c_id",Kc="google.c.a.c_l",Ad="google.c.a.ts",Bo="google.c.a.e";var Ti=(()=>{return(T=Ti||(Ti={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Ti;var T})();function gs(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ci(T){const x=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(x),K=new Uint8Array(H.length);for(let le=0;le<H.length;++le)K[le]=H.charCodeAt(le);return K}const so="fcm_token_details_db",Vo="fcm_token_object_Store";function zm(T){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,O.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(so))return null;let I=null;return(yield(0,fe.X3)(so,5,{upgrade:(H=(0,O.Z)(function*(K,le,Ce,Ye){var ut;if(le<2||!K.objectStoreNames.contains(Vo))return;const _t=Ye.objectStore(Vo),jt=yield _t.index("fcmSenderId").get(T);if(yield _t.clear(),jt)if(2===le){const St=jt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(ut=St.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:gs(St.vapidKey)}}}else if(3===le){const St=jt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:gs(St.auth),p256dh:gs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:gs(St.vapidKey)}}}else if(4===le){const St=jt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:gs(St.auth),p256dh:gs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:gs(St.vapidKey)}}}}),function(le,Ce,Ye,ut){return H.apply(this,arguments)})})).close(),yield(0,fe.Lj)(so),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),zn(I)?I:null;var H}),Qc.apply(this,arguments)}function zn(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Li="firebase-messaging-store";let Tr=null;function Nl(){return Tr||(Tr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Li)}})),Tr}function oo(T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(T){const I=Si(T),H=yield(yield Nl()).transaction(Li).objectStore(Li).get(I);if(H)return H;{const K=yield zm(T.appConfig.senderId);if(K)return yield cn(T,K),K}})).apply(this,arguments)}function cn(T,I){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(T,I){const x=Si(T),K=(yield Nl()).transaction(Li,"readwrite");return yield K.objectStore(Li).put(I,x),yield K.done,I})).apply(this,arguments)}function Ns(T){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(T){const I=Si(T),H=(yield Nl()).transaction(Li,"readwrite");yield H.objectStore(Li).delete(I),yield H.done})).apply(this,arguments)}function Si({appConfig:T}){return T.appId}const Wn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(T,I){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,O.Z)(function*(T,I){const x=yield Fa(T),H=xe(I),K={method:"POST",headers:x,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(ao(T.appConfig),K)).json()}catch(Ce){throw Wn.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(le.error)throw Wn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Wn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Gm(T,I){return Na.apply(this,arguments)}function Na(){return(Na=(0,O.Z)(function*(T,I){const x=yield Fa(T),H=xe(I.subscriptionOptions),K={method:"PATCH",headers:x,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(`${ao(T.appConfig)}/${I.token}`,K)).json()}catch(Ce){throw Wn.create("token-update-failed",{errorInfo:Ce?.toString()})}if(le.error)throw Wn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Wn.create("token-update-no-token");return le.token})).apply(this,arguments)}function xd(T,I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(T,I){const H={method:"DELETE",headers:yield Fa(T)};try{const le=yield(yield fetch(`${ao(T.appConfig)}/${I}`,H)).json();if(le.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(K){throw Wn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function ao({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Fa(T){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*({appConfig:T,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function xe({p256dh:T,auth:I,endpoint:x,vapidKey:H}){const K={web:{endpoint:x,auth:I,p256dh:T}};return H!==Os&&(K.web.applicationPubKey=H),K}const Xt=6048e5;function _f(T){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(T){const I=yield yf(T.swRegistration,T.vapidKey),x={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:gs(I.getKey("auth")),p256dh:gs(I.getKey("p256dh"))},H=yield oo(T.firebaseDependencies);if(H){if(qm(H.subscriptionOptions,x))return Date.now()>=H.createTime+Xt?Pl(T,{token:H.token,createTime:Date.now(),subscriptionOptions:x}):H.token;try{yield xd(T.firebaseDependencies,H.token)}catch(K){console.warn(K)}return Fl(T.firebaseDependencies,x)}return Fl(T.firebaseDependencies,x)})).apply(this,arguments)}function ur(T){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(T){const I=yield oo(T.firebaseDependencies);I&&(yield xd(T.firebaseDependencies,I.token),yield Ns(T.firebaseDependencies));const x=yield T.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Pl(T,I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*(T,I){try{const x=yield Gm(T.firebaseDependencies,I),H=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield cn(T.firebaseDependencies,H),x}catch(x){throw yield ur(T),x}})).apply(this,arguments)}function Fl(T,I){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(T,I){const H={token:yield Ft(T,I),createTime:Date.now(),subscriptionOptions:I};return yield cn(T,H),H.token})).apply(this,arguments)}function yf(T,I){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ci(I)})})).apply(this,arguments)}function qm(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function lo(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function dr(T,I){if(!I.notification)return;T.notification={};const x=I.notification.title;x&&(T.notification.title=x);const H=I.notification.body;H&&(T.notification.body=H);const K=I.notification.image;K&&(T.notification.image=K);const le=I.notification.icon;le&&(T.notification.icon=le)}(I,T),function qi(T,I){!I.data||(T.data=I.data)}(I,T),function Ba(T,I){var x,H,K,le,Ce;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;T.fcmOptions={};const Ye=null!==(K=null===(H=I.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==K?K:null===(le=I.notification)||void 0===le?void 0:le.click_action;Ye&&(T.fcmOptions.link=Ye);const ut=null===(Ce=I.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;ut&&(T.fcmOptions.analyticsLabel=ut)}(I,T),I}function Va(T){return"object"==typeof T&&!!T&&Ol in T}function _s(T,I){const x=[];for(let H=0;H<T.length;H++)x.push(T.charAt(H)),H<I.length&&x.push(I.charAt(H));return x.join("")}function eu(T){return Wn.create("missing-app-config-values",{valueName:T})}_s("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_s("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rd{constructor(I,x,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function kd(T){if(!T||!T.options)throw eu("App Configuration Object");if(!T.name)throw eu("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=T;for(const H of I)if(!x[H])throw eu(H);return{appName:T.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:x,analyticsProvider:H}}_delete(){return Promise.resolve()}}function vf(T){return zo.apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Pr,{scope:Lo}),T.swRegistration.update().catch(()=>{})}catch(I){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function tu(T,I){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield vf(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function nu(T,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=Os)})).apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(T,I){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield nu(T,I?.vapidKey),yield tu(T,I?.serviceWorkerRegistration),_f(T)})).apply(this,arguments)}function bf(T,I,x){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(T,I,x){const H=wf(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:x[Ol],message_name:x[Kc],message_time:x[Ad],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wf(T){switch(T){case Ti.NOTIFICATION_CLICKED:return"notification_open";case Ti.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ps(){return(Ps=(0,O.Z)(function*(T,I){const x=I.data;if(!x.isFirebaseMessaging)return;T.onMessageHandler&&x.messageType===Ti.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(lo(x)):T.onMessageHandler.next(lo(x)));const H=x.data;Va(H)&&"1"===H[Bo]&&(yield bf(T,x.messageType,H))})).apply(this,arguments)}const Fs="@firebase/messaging",Hn=T=>{const I=new Rd(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Nd(T,I){return Ps.apply(this,arguments)}(I,x)),I},ys=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:H=>function Od(T,I){return Go.apply(this,arguments)}(I,H)}};function ru(){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vn(){(0,ae._registerComponent)(new _e.wA("messaging",Hn,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("messaging-internal",ys,"PRIVATE")),(0,ae.registerVersion)(Fs,"0.12.1"),(0,ae.registerVersion)(Fs,"0.12.1","esm2017")}();const Zo="analytics",Bd="firebase_id",lu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vd="https://www.googletagmanager.com/gtag/js",Zn=new ie.Yd("@firebase/analytics");function Bl(T){return Promise.all(T.map(I=>I.catch(x=>x)))}function Vl(T,I){const x=document.createElement("script");x.src=`${Vd}?l=${T}&id=${I}`,x.async=!0,document.head.appendChild(x)}function Cf(T,I,x,H,K,le){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(T,I,x,H,K,le){const Ce=H[K];try{if(Ce)yield I[Ce];else{const ut=(yield Bl(x)).find(_t=>_t.measurementId===K);ut&&(yield I[ut.appId])}}catch(Ye){Zn.error(Ye)}T("config",K,le)})).apply(this,arguments)}function vs(T,I,x,H,K){return za.apply(this,arguments)}function za(){return(za=(0,O.Z)(function*(T,I,x,H,K){try{let le=[];if(K&&K.send_to){let Ce=K.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Ye=yield Bl(x);for(const ut of Ce){const _t=Ye.find(St=>St.measurementId===ut),jt=_t&&I[_t.appId];if(!jt){le=[];break}le.push(jt)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),T("event",H,K||{})}catch(le){Zn.error(le)}})).apply(this,arguments)}function Ud(T){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(Vd)&&x.src.includes(T))return x;return null}const hr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qa=new class uu{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Yo(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Tf(T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,O.Z)(function*(T){var I;const{appId:x,apiKey:H}=T,K={method:"GET",headers:Yo(H)},le=lu.replace("{app-id}",x),Ce=yield fetch(le,K);if(200!==Ce.status&&304!==Ce.status){let Ye="";try{const ut=yield Ce.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(Ye=ut.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Ye})}return Ce.json()})).apply(this,arguments)}function Hd(T){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(T,I=qa,x){const{appId:H,apiKey:K,measurementId:le}=T.options;if(!H)throw hr.create("no-app-id");if(!K){if(le)return{measurementId:le,appId:H};throw hr.create("no-api-key")}const Ce=I.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Wa;return setTimeout((0,O.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),jd({appId:H,apiKey:K,measurementId:le},Ce,Ye,I)})).apply(this,arguments)}function jd(T,I,x){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:x},H,K=qa){var le;const{appId:Ce,measurementId:Ye}=T;try{yield du(H,I)}catch(ut){if(Ye)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Ce,measurementId:Ye};throw ut}try{const ut=yield Tf(T);return K.deleteThrottleMetadata(Ce),ut}catch(ut){const _t=ut;if(!Hl(_t)){if(K.deleteThrottleMetadata(Ce),Ye)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:Ce,measurementId:Ye};throw ut}const jt=503===Number(null===(le=_t?.customData)||void 0===le?void 0:le.httpStatus)?(0,ue.$s)(x,K.intervalMillis,30):(0,ue.$s)(x,K.intervalMillis),St={throttleEndTimeMillis:Date.now()+jt,backoffCount:x+1};return K.setThrottleMetadata(Ce,St),Zn.debug(`Calling attemptFetch again in ${jt} millis`),jd(T,St,H,K)}})).apply(this,arguments)}function du(T,I){return new Promise((x,H)=>{const K=Math.max(I-Date.now(),0),le=setTimeout(x,K);T.addEventListener(()=>{clearTimeout(le),H(hr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Hl(T){if(!(T instanceof ue.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Wa{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let co,$l;function Ko(){return(Ko=(0,O.Z)(function*(T,I,x,H,K){if(K&&K.global)T("event",x,H);else{const le=yield I;T("event",x,Object.assign(Object.assign({},H),{send_to:le}))}})).apply(this,arguments)}function Jo(T){$l=T}function hu(T){co=T}function Bs(){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(){if(!(0,ue.hl)())return Zn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(T){return Zn.warn(hr.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(T,I,x,H,K,le,Ce){var Ye;const ut=Hd(T);ut.then(fr=>{x[fr.measurementId]=fr.appId,T.options.measurementId&&fr.measurementId!==T.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>Zn.error(fr)),I.push(ut);const _t=Bs().then(fr=>{if(fr)return H.getId()}),[jt,St]=yield Promise.all([ut,_t]);Ud(le)||Vl(le,jt.measurementId),$l&&(K("consent","default",$l),Jo(void 0)),K("js",new Date);const Ar=null!==(Ye=Ce?.config)&&void 0!==Ye?Ye:{};return Ar.origin="firebase",Ar.update=!0,null!=St&&(Ar[Bd]=St),K("config",jt.measurementId,Ar),co&&(K("set",co),hu(void 0)),jt.measurementId})).apply(this,arguments)}class zl{constructor(I){this.app=I}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},na=[];const ho={};let ia,Zi,ra="dataLayer",zd=!1;function Af(T,I,x){!function Wm(){const T=[];if((0,ue.ru)()&&T.push("This is a browser extension environment."),(0,ue.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((H,K)=>`(${K+1}) ${H}`).join(" "),x=hr.create("invalid-analytics-context",{errorInfo:I});Zn.warn(x.message)}}();const H=T.options.appId;if(!H)throw hr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw hr.create("no-api-key");Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[H])throw hr.create("already-exists",{id:H});if(!zd){!function Ul(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(ra);const{wrappedGtag:le,gtagCore:Ce}=function Ga(T,I,x,H,K){let le=function(...Ce){window[H].push(arguments)};return window[K]&&"function"==typeof window[K]&&(le=window[K]),window[K]=function cu(T,I,x,H){function le(){return(le=(0,O.Z)(function*(Ce,Ye,ut){try{"event"===Ce?yield vs(T,I,x,Ye,ut):"config"===Ce?yield Cf(T,I,x,H,Ye,ut):"consent"===Ce?T("consent","update",ut):T("set",Ye)}catch(_t){Zn.error(_t)}})).apply(this,arguments)}return function K(Ce,Ye,ut){return le.apply(this,arguments)}}(le,T,I,x),{gtagCore:le,wrappedGtag:window[K]}}($r,na,ho,ra,"gtag");Zi=le,ia=Ce,zd=!0}return $r[H]=function Sf(T,I,x,H,K,le,Ce){return ta.apply(this,arguments)}(T,na,ho,I,ia,ra,x),new zl(T)}function Py(){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const tt="@firebase/analytics";!function Tn(){(0,ae._registerComponent)(new _e.wA(Zo,(I,{options:x})=>Af(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new _e.wA("analytics-internal",function T(I){try{const x=I.getProvider(Zo).getImmediate();return{logEvent:(H,K,le)=>function fn(T,I,x,H){T=(0,ue.m9)(T),function Za(T,I,x,H,K){return Ko.apply(this,arguments)}(Zi,$r[T.app.options.appId],I,x,H).catch(K=>Zn.error(K))}(x,H,K,le)}}catch(x){throw hr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(tt,"0.9.1"),(0,ae.registerVersion)(tt,"0.9.1","esm2017")}();var Cs=F(4408),Kn=F(7565);const Gd=new class po extends Kn.v{}(class fo extends Cs.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(I,x,H):(I.flush(this),0)}});var xf=F(4986),Us=F(9751),Wd=F(8505),mo=F(9468),nt=F(5363);const pu=new a.GfV("7.5.0"),Yi="__angularfire_symbol__analyticsIsSupportedValue",Ka="__angularfire_symbol__analyticsIsSupported",Qa="__angularfire_symbol__remoteConfigIsSupportedValue",Gn="__angularfire_symbol__remoteConfigIsSupported",Xa="__angularfire_symbol__messagingIsSupportedValue",Gl="__angularfire_symbol__messagingIsSupported";function oa(T,I,x){if(I){if(1===I.length)return I[0];const le=I.filter(Ce=>Ce.app===x);if(1===le.length)return le[0]}return x.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ka]||(globalThis[Ka]=Py().then(T=>globalThis[Yi]=T).catch(()=>globalThis[Yi]=!1)),globalThis[Gl]||(globalThis[Gl]=ru().then(T=>globalThis[Xa]=T).catch(()=>globalThis[Xa]=!1)),globalThis[Gn]||(globalThis[Gn]=Oy().then(T=>globalThis[Qa]=T).catch(()=>globalThis[Qa]=!1));const Ki=(T,I)=>{const x=I?[I]:(0,j.C6)(),H=[];return x.forEach(K=>{K.container.getProvider(T).instances.forEach(Ce=>{H.includes(Ce)||H.push(Ce)})}),H};function Mi(){}class Wl{constructor(I,x=Gd){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,H){const K=this.zone;return this.delegate.schedule(function(Ce){K.runGuarded(()=>{I.apply(this,[Ce])})},x,H)}}class Sr{constructor(I){this.zone=I,this.task=null}call(I,x){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)),x.pipe((0,Wd.b)({next:H,complete:H,error:H})).subscribe(I).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hs=(()=>{class T{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Wl(Zone.current)),this.insideAngular=x.run(()=>new Wl(Zone.current,xf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(x){return new(x||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Fr(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Lr(T){return Fr().ngZone.runOutsideAngular(()=>T())}function xn(T){return Fr().ngZone.run(()=>T())}function Qn(T){return Fr(),function hn(T){return function(x){return(x=x.lift(new Sr(T.ngZone))).pipe((0,mo.R)(T.outsideAngular),(0,nt.Q)(T.insideAngular))}}(Fr())(T)}const ei=(T,I)=>function(){const H=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),xn(()=>T.apply(void 0,H))},vr=(T,I)=>function(){let x;const H=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof H[le]&&(I&&(x||(x=xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)))),H[le]=ei(H[le],x));const K=Lr(()=>T.apply(this,H));if(!I){if(K instanceof Us.y){const le=Fr();return K.pipe((0,mo.R)(le.outsideAngular),(0,nt.Q)(le.insideAngular))}return xn(()=>K)}return K instanceof Us.y?K.pipe(Qn):K instanceof Promise?xn(()=>new Promise((le,Ce)=>K.then(Ye=>xn(()=>le(Ye)),Ye=>xn(()=>Ce(Ye))))):"function"==typeof K&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),K.apply(this,arguments)}:xn(()=>K)}},1808:(ft,Se,F)=>{F.d(Se,{$:()=>ao,A:()=>q,B:()=>Re,G:()=>Js,H:()=>ai,J:()=>ms,L:()=>G,M:()=>Rl,N:()=>Sd,P:()=>xf,Q:()=>Ol,R:()=>Zm,T:()=>Kc,U:()=>Os,V:()=>Ti,W:()=>gs,X:()=>zm,Y:()=>Ra,Z:()=>Ft,_:()=>Gm,a:()=>Ls,a0:()=>_f,a1:()=>ur,a2:()=>Pl,a3:()=>Fl,a4:()=>yf,a5:()=>qm,a6:()=>dr,a7:()=>qi,a8:()=>Va,a9:()=>_s,aA:()=>$,aB:()=>Ye,aC:()=>xn,aD:()=>Lr,aE:()=>yt,aI:()=>Yo,aL:()=>Bo,aa:()=>vf,ab:()=>tu,ac:()=>nu,af:()=>bf,ag:()=>wf,ah:()=>Nd,ak:()=>Li,al:()=>su,an:()=>Vd,ao:()=>$a,ap:()=>ve,aq:()=>Le,ar:()=>at,as:()=>Je,at:()=>el,au:()=>zr,av:()=>Nt,aw:()=>Oe,ax:()=>oe,ay:()=>Ar,az:()=>J,b:()=>hr,c:()=>Gn,d:()=>kf,e:()=>Gl,f:()=>Qn,g:()=>x,h:()=>vr,i:()=>ea,j:()=>le,k:()=>Xi,l:()=>Lt,m:()=>Bf,o:()=>fe,r:()=>Cs,s:()=>ws,u:()=>Gd});var a=F(5861),j=F(2090),O=F(9681),ae=F(1877),ue=F(655),_e=F(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new ae.Yd("@firebase/auth");function Xe(b,...g){ge.logLevel<=ae.in.ERROR&&ge.error(`Auth (${O.SDK_VERSION}): ${b}`,...g)}function Je(b,...g){throw ze(b,...g)}function Oe(b,...g){return ze(b,...g)}function Me(b,g,_){const C=Object.assign(Object.assign({},Te()),{[g]:_});return new j.LL("auth","Firebase",C).create(g,{appName:b.name})}function De(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Je(b,"argument-error"),Me(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return ot.create(b,...g)}function oe(b,g,..._){if(!b)throw ze(g,..._)}function de(b){const g="INTERNAL ASSERTION FAILED: "+b;throw Xe(g),new Error(g)}function ve(b,g){b||de(g)}const Q=new Map;function J(b){ve(b instanceof Function,"Expected a class definition");let g=Q.get(b);return g?(ve(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Q.set(b,g),g)}function Ve(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ue(){return"http:"===pt()||"https:"===pt()}function pt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class qe{constructor(g,_){this.shortDelay=g,this.longDelay=_,ve(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(b,g){ve(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class kn{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new qe(3e4,6e4);function Yt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Ht(b,g,_,C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(b,g,_,C,M={}){return zi(b,M,(0,a.Z)(function*(){let P={},te={};C&&("GET"===g?te=C:P={body:JSON.stringify(C)});const Ne=(0,j.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),kn.fetch()(ls(b,b.config.apiHost,_,Ne),Object.assign({method:g,headers:lt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function zi(b,g,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),g);try{const M=new Qr(b),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw tr(b,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const Ne=P.ok?te.errorMessage:te.error.message,[lt,wt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw tr(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===lt)throw tr(b,"email-already-in-use",te);if("USER_DISABLED"===lt)throw tr(b,"user-disabled",te);const Kt=C[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Me(b,Kt,wt);Je(b,Kt)}}catch(M){if(M instanceof j.ZR)throw M;Je(b,"network-request-failed")}})).apply(this,arguments)}function $n(b,g,_,C){return as.apply(this,arguments)}function as(){return(as=(0,a.Z)(function*(b,g,_,C,M={}){const P=yield Ht(b,g,_,C,M);return"mfaPendingCredential"in P&&Je(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function ls(b,g,_,C){const M=`${g}${_}?${C}`;return b.config.emulator?vn(b.config,M):`${b.config.apiScheme}://${M}`}class Qr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Oe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Oe(b,g,C);return M.customData._tokenResponse=_,M}function cs(){return(cs=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function et(b,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nr(b,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Dr(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function On(){return(On=(0,a.Z)(function*(b,g=!1){const _=(0,j.m9)(b),C=yield _.getIdToken(g),M=mt(C);oe(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,te=P?.sign_in_provider;return{claims:M,token:C,authTime:Dr(En(M.auth_time)),issuedAtTime:Dr(En(M.iat)),expirationTime:Dr(En(M.exp)),signInProvider:te||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function En(b){return 1e3*Number(b)}function mt(b){const[g,_,C]=b.split(".");if(void 0===g||void 0===_||void 0===C)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(Xe("Failed to decode base64 JWT payload"),null)}catch(M){return Xe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Ot(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof j.ZR&&lr(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function lr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class jr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class xt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xr(b){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),M=yield Ot(b,nr(_,{idToken:C}));oe(M?.users.length,_,"internal-error");const P=M.users[0];b._notifyReloadListener(P);const te=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?Bn(P.providerUserInfo):[],Ne=yr(b.providerData,te),Kt=!!b.isAnonymous&&!(b.email&&P.passwordHash||Ne?.length),In={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Ne,metadata:new xt(P.createdAt,P.lastLoginAt),isAnonymous:Kt};Object.assign(b,In)})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(b){const g=(0,j.m9)(b);yield Xr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function yr(b,g){return[...b.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}function Bn(b){return b.map(g=>{var{providerId:_}=g,C=(0,ue._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ie(){return(Ie=(0,a.Z)(function*(b,g){const _=yield zi(b,{},(0,a.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:P}=b.config,te=ls(b,M,"/v1/token",`key=${P}`),Ne=yield b._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(te,{method:"POST",headers:Ne,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gt(b){const g=mt(b);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,a.Z)(function*(){return oe(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,a.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:te}=yield function rt(b,g){return Ie.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(M,P,Number(te))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:M,expirationTime:P}=_,te=new it;return C&&(oe("string"==typeof C,"internal-error",{appName:g}),te.refreshToken=C),M&&(oe("string"==typeof M,"internal-error",{appName:g}),te.accessToken=M),P&&(oe("number"==typeof P,"internal-error",{appName:g}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return de("not implemented")}}function It(b,g){oe("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class kt{constructor(g){var{uid:_,auth:C,stsTokenManager:M}=g,P=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new xt(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const C=yield Ot(_,_.stsTokenManager.getToken(_.auth,g));return oe(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function Rn(b){return On.apply(this,arguments)}(this,g)}reload(){return function wi(b){return Jt.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new kt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,a.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Xr(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield Ot(g,function Fi(b,g){return cs.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,M,P,te,Ne,lt,wt,Kt;const In=null!==(C=_.displayName)&&void 0!==C?C:void 0,xi=null!==(M=_.email)&&void 0!==M?M:void 0,Vi=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,nl=null!==(te=_.photoURL)&&void 0!==te?te:void 0,yu=null!==(Ne=_.tenantId)&&void 0!==Ne?Ne:void 0,Kd=null!==(lt=_._redirectEventId)&&void 0!==lt?lt:void 0,aa=null!==(wt=_.createdAt)&&void 0!==wt?wt:void 0,ig=null!==(Kt=_.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:rl,emailVerified:Vf,isAnonymous:sg,providerData:il,stsTokenManager:la}=_;oe(rl&&la,g,"internal-error");const og=it.fromJSON(this.name,la);oe("string"==typeof rl,g,"internal-error"),It(In,g.name),It(xi,g.name),oe("boolean"==typeof Vf,g,"internal-error"),oe("boolean"==typeof sg,g,"internal-error"),It(Vi,g.name),It(nl,g.name),It(yu,g.name),It(Kd,g.name),It(aa,g.name),It(ig,g.name);const Qd=new kt({uid:rl,auth:g,email:xi,emailVerified:Vf,displayName:In,isAnonymous:sg,photoURL:nl,phoneNumber:Vi,tenantId:yu,stsTokenManager:og,createdAt:aa,lastLoginAt:ig});return il&&Array.isArray(il)&&(Qd.providerData=il.map(Jl=>Object.assign({},Jl))),Kd&&(Qd._redirectEventId=Kd),Qd}static _fromIdTokenResponse(g,_,C=!1){return(0,a.Z)(function*(){const M=new it;M.updateFromServerResponse(_);const P=new kt({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Xr(P),P})()}}const G=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,a.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,a.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,a.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function $(b,g,_){return`firebase:${b}:${g}:${_}`}class Y{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:M,name:P}=this.auth;this.fullUserKey=$(this.userKey,M.apiKey,P),this.fullPersistenceKey=$("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?kt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,a.Z)(function*(){if(!_.length)return new Y(J(G),g,C);const M=(yield Promise.all(_.map(function(){var wt=(0,a.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let P=M[0]||J(G);const te=$(C,g.config.apiKey,g.name);let Ne=null;for(const wt of _)try{const Kt=yield wt._get(te);if(Kt){const In=kt._fromJSON(g,Kt);wt!==P&&(Ne=In),P=wt;break}}catch{}const lt=M.filter(wt=>wt._shouldAllowMigration);return P._shouldAllowMigration&&lt.length?(P=lt[0],Ne&&(yield P._set(te,Ne.toJSON())),yield Promise.all(_.map(function(){var wt=(0,a.Z)(function*(Kt){if(Kt!==P)try{yield Kt._remove(te)}catch{}});return function(Kt){return wt.apply(this,arguments)}}())),new Y(P,g,C)):new Y(P,g,C)})()}}function U(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Pe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(k(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ht(g))return"Blackberry";if(Ae(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||re(g))&&!g.includes("edge/"))return"Chrome";if(at(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function k(b=(0,j.z$)()){return/firefox\//i.test(b)}function B(b=(0,j.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function re(b=(0,j.z$)()){return/crios\//i.test(b)}function Pe(b=(0,j.z$)()){return/iemobile/i.test(b)}function at(b=(0,j.z$)()){return/android/i.test(b)}function ht(b=(0,j.z$)()){return/blackberry/i.test(b)}function Ae(b=(0,j.z$)()){return/webos/i.test(b)}function Le(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Nt(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function wn(b=(0,j.z$)()){return Le(b)||at(b)||Ae(b)||ht(b)||/windows phone/i.test(b)||Pe(b)}function Nn(b,g=[]){let _;switch(b){case"Browser":_=U((0,j.z$)());break;case"Worker":_=`${U((0,j.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class Qs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=P=>new Promise((te,Ne)=>{try{te(g(P))}catch(lt){Ne(lt)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,a.Z)(function*(){if(_.auth.currentUser===g)return;const C=[];try{for(const M of _.queue)yield M(g),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const P of C)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class ko{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xs(this),this.idTokenSubscription=new Xs(this),this.beforeStateQueue=new Qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=J(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var M,P;if(!C._deleted&&(C.persistenceManager=yield Y.create(C,g),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(P=C.currentUser)||void 0===P?void 0:P.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let P=M,te=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ne=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,lt=P?._redirectEventId,wt=yield _.tryRedirectSignIn(g);(!Ne||Ne===lt)&&wt?.user&&(P=wt.user,te=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(P)}catch(Ne){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ne))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){try{yield Xr(g)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Zt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const C=g?(0,j.m9)(g):null;return C&&oe(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,a.Z)(function*(){if(!C._deleted)return g&&oe(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,a.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(J(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,a.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&J(g)||_._popupRedirectResolver;oe(C,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[J(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(te,this,"internal-error"),te.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,C,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function yt(b){return(0,j.m9)(b)}class Xs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Js(b,g,_){const C=yt(b);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=xl(g),{host:te,port:Ne}=function ds(b){const g=xl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const P=M[1];return{host:P,port:rr(C.substr(P.length+1))}}{const[P,te]=C.split(":");return{host:P,port:rr(te)}}}(g);C.config.emulator={url:`${P}//${te}${null===Ne?"":`:${Ne}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:te,port:Ne,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function eo(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function xl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function rr(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ai{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,_){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function Ci(b,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:resetPassword",Yt(b,g))})).apply(this,arguments)}function kl(b,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pf(b,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",Yt(b,g))})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPassword",Yt(b,g))})).apply(this,arguments)}function hs(b,g){return no.apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:sendOobCode",Yt(b,g))})).apply(this,arguments)}function fs(b,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(b,g){return hs(b,g)})).apply(this,arguments)}function mf(b,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(b,g){return hs(b,g)})).apply(this,arguments)}function Ei(b,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(b,g){return hs(b,g)})).apply(this,arguments)}function Ro(b,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(b,g){return hs(b,g)})).apply(this,arguments)}function Zc(){return(Zc=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,g))})).apply(this,arguments)}function Yc(){return(Yc=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,g))})).apply(this,arguments)}class xa extends ai{constructor(g,_,C,M=null){super("password",C),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new xa(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new xa(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function Ma(b,g){return to.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function li(b,g){return Zc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Je(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return kl(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Bm(b,g){return Yc.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Je(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ro(b,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithIdp",Yt(b,g))})).apply(this,arguments)}class ms extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ms(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Je("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=_,P=(0,ue._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const te=new ms(C,M);return te.idToken=P.idToken||void 0,te.accessToken=P.accessToken||void 0,te.secret=P.secret,te.nonce=P.nonce,te.pendingToken=P.pendingToken||null,te}_getIdTokenResponse(g){return ro(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,ro(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ro(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function Um(b,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:sendVerificationCode",Yt(b,g))})).apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,g))})).apply(this,arguments)}function Ed(){return(Ed=(0,a.Z)(function*(b,g){const _=yield $n(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,g));if(_.temporaryProof)throw tr(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const jm={USER_NOT_FOUND:"user-not-found"};function Dd(){return(Dd=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),jm)})).apply(this,arguments)}class Po extends ai{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Po({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Po({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Hm(b,g){return ka.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function No(b,g){return Ed.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function $m(b,g){return Dd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:P}=g;return C||_||M||P?new Po({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:P}):null}}class Fo{constructor(g){var _,C,M,P,te,Ne;const lt=(0,j.zd)((0,j.pd)(g)),wt=null!==(_=lt.apiKey)&&void 0!==_?_:null,Kt=null!==(C=lt.oobCode)&&void 0!==C?C:null,In=function Td(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=lt.mode)&&void 0!==M?M:null);oe(wt&&Kt&&In,"argument-error"),this.apiKey=wt,this.operation=In,this.code=Kt,this.continueUrl=null!==(P=lt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=lt.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ne=lt.tenantId)&&void 0!==Ne?Ne:null}static parseLink(g){const _=function Id(b){const g=(0,j.zd)((0,j.pd)(b)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||g||b}(g);try{return new Fo(_)}catch{return null}}}let Rl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return xa._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Fo.parseLink(C);return oe(M,"argument-error"),xa._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Pr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Lo extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Os extends Lo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),ms._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Os.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Os.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:P,nonce:te,providerId:Ne}=g;if(!C&&!M&&!_&&!P||!Ne)return null;try{return new Os(Ne)._credential({idToken:_,accessToken:C,nonce:te,pendingToken:P})}catch{return null}}}let Sd=(()=>{class b extends Lo{constructor(){super("facebook.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ol=(()=>{class b extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Kc=(()=>{class b extends Lo{constructor(){super("github.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Bo extends ai{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ro(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,ro(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ro(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:P}=_;return C&&M&&P&&C===M?new Bo(C,P):null}static _create(g,_){return new Bo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ti extends Pr{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ti.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ti.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Bo.fromJSON(g);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Bo._create(C,_)}catch{return null}}}let gs=(()=>{class b extends Lo{constructor(){super("twitter.com")}static credential(_,C){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ci(b,g){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signUp",Yt(b,g))})).apply(this,arguments)}class Ii{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,M=!1){return(0,a.Z)(function*(){const P=yield kt._fromIdTokenResponse(g,C,M),te=Vo(C);return new Ii({user:P,providerId:te,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=Vo(C);return new Ii({user:g,providerId:M,_tokenResponse:C,operationType:_})})()}}function Vo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function zm(b){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,a.Z)(function*(b){var g;const _=yt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Ii({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield ci(_,{returnSecureToken:!0}),M=yield Ii._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class zn extends j.ZR{constructor(g,_,C,M){var P;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,zn.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,M){return new zn(g,_,C,M)}}function Md(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?zn._fromErrorAndOperation(b,P,g,C):P})}function gf(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Li(b,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b);yield Gi(!0,_,g);const{providerUserInfo:C}=yield et(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=gf(C||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Nl(b,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(b,g,_=!1){const C=yield Ot(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ii._forOperation(b,"link",C)})).apply(this,arguments)}function Gi(b,g,_){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.Z)(function*(b,g,_){yield Xr(g);const M=!1===b?"provider-already-linked":"no-such-provider";oe(gf(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function Xc(b,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(b,g,_=!1){const{auth:C}=b,M="reauthenticate";try{const P=yield Ot(b,Md(C,M,g,b),_);oe(P.idToken,C,"internal-error");const te=mt(P.idToken);oe(te,C,"internal-error");const{sub:Ne}=te;return oe(b.uid===Ne,C,"user-mismatch"),Ii._forOperation(b,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Je(C,"user-mismatch"),P}})).apply(this,arguments)}function Jc(b,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(b,g,_=!1){const C="signIn",M=yield Md(b,C,g),P=yield Ii._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ra(b,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(b,g){return Jc(yt(b),g)})).apply(this,arguments)}function Ft(b,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b);return yield Gi(!1,_,g.providerId),Nl(_,g)})).apply(this,arguments)}function Gm(b,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(b,g){return Xc((0,j.m9)(b),g)})).apply(this,arguments)}function xd(b,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithCustomToken",Yt(b,g))})).apply(this,arguments)}function ao(b,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(b,g){const _=yt(b),C=yield xd(_,{token:g,returnSecureToken:!0}),M=yield Ii._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Uo{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?xe._fromServerResponse(g,_):Je(g,"internal-error")}}class xe extends Uo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new xe(_)}}function Xt(b,g,_){var C;oe((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function _f(b,g,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:g};_&&Xt(C,M,_),yield mf(C,M)})).apply(this,arguments)}function ur(b,g,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(b,g,_){yield Ci((0,j.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Pl(b,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(b,g){yield pf((0,j.m9)(b),{oobCode:g})})).apply(this,arguments)}function Fl(b,g){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b),C=yield Ci(_,{oobCode:g}),M=C.requestType;switch(oe(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,_,"internal-error");default:oe(C.email,_,"internal-error")}let P=null;return C.mfaInfo&&(P=Uo._fromServerResponse(yt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function yf(b,g){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(b,g){const{data:_}=yield Fl((0,j.m9)(b),g);return _.email})).apply(this,arguments)}function qm(b,g,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(b,g,_){const C=yt(b),M=yield ci(C,{returnSecureToken:!0,email:g,password:_}),P=yield Ii._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(P.user),P})).apply(this,arguments)}function dr(b,g,_){return Ra((0,j.m9)(b),Rl.credential(g,_))}function qi(b,g,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:g};oe(_.handleCodeInApp,C,"argument-error"),_&&Xt(C,M,_),yield Ei(C,M)})).apply(this,arguments)}function Va(b,g){return"EMAIL_SIGNIN"===Fo.parseLink(g)?.operation}function _s(b,g,_){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),M=Rl.credentialWithLink(g,_||Ve());return oe(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ra(C,M)})).apply(this,arguments)}function eu(b,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:createAuthUri",Yt(b,g))})).apply(this,arguments)}function vf(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(b,g){const C={identifier:g,continueUri:Ue()?Ve():"http://localhost"},{signinMethods:M}=yield eu((0,j.m9)(b),C);return M||[]})).apply(this,arguments)}function tu(b,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Xt(_.auth,M,g);const{email:P}=yield fs(_.auth,M);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function nu(b,g,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Xt(C.auth,P,_);const{email:te}=yield Ro(C.auth,P);te!==b.email&&(yield b.reload())})).apply(this,arguments)}function Od(b,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bf(b,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,a.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,j.m9)(b),P={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},te=yield Ot(C,Od(C.auth,P));C.displayName=te.displayName||null,C.photoURL=te.photoUrl||null;const Ne=C.providerData.find(({providerId:lt})=>"password"===lt);Ne&&(Ne.displayName=C.displayName,Ne.photoURL=C.photoURL),yield C._updateTokensIfNecessary(te)})).apply(this,arguments)}function wf(b,g){return Ps((0,j.m9)(b),g,null)}function Nd(b,g){return Ps((0,j.m9)(b),null,g)}function Ps(b,g,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(b,g,_){const{auth:C}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const te=yield Ot(b,kl(C,P));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Hn{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class ys extends Hn{constructor(g,_,C,M){super(g,_,C),this.username=M}}class Vn extends Hn{constructor(g,_){super(g,"facebook.com",_)}}class ru extends ys{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class iu extends Hn{constructor(g,_){super(g,"google.com",_)}}class Fd extends ys{constructor(g,_,C){super(g,"twitter.com",_,C)}}function su(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Pd(b){var g,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const te=null===(_=null===(g=mt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Hn(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!C)return null;switch(C){case"facebook.com":return new Vn(P,M);case"github.com":return new ru(P,M);case"google.com":return new iu(P,M);case"twitter.com":return new Fd(P,M,b.screenName||null);case"custom":case"anonymous":return new Hn(P,null);default:return new Hn(P,C,M)}}(_)}class Ai{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new Ai("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ai("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ai._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return Ai._fromIdtoken(g.multiFactorSession.idToken)}return null}}class lu{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=yt(g),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(Ne=>Uo._fromServerResponse(C,Ne));oe(M.mfaPendingCredential,C,"internal-error");const te=Ai._fromMfaPendingCredential(M.mfaPendingCredential);return new lu(te,P,function(){var Ne=(0,a.Z)(function*(lt){const wt=yield lt._process(C,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(_.operationType){case"signIn":const In=yield Ii._fromIdTokenResponse(C,_.operationType,Kt);return yield C._updateCurrentUser(In.user),In;case"reauthenticate":return oe(_.user,C,"internal-error"),Ii._forOperation(_.user,_.operationType,Kt);default:Je(C,"internal-error")}});return function(lt){return Ne.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function Vd(b,g){var _;const C=(0,j.m9)(b),M=g;return oe(g.customData.operationType,C,"argument-error"),oe(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),lu._fromError(C,M)}function Zn(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:start",Yt(b,g))}class Ul{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Uo._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Ul(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Ai._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,a.Z)(function*(){const M=g,P=yield C.getSession(),te=yield Ot(C.user,M._process(C.user.auth,P,_));return yield C.user._updateTokensIfNecessary(te),C.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield _.user.getIdToken(),P=yield Ot(_.user,function Vl(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(b,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==C),yield _.user._updateTokensIfNecessary(P);try{yield _.user.reload()}catch(te){if("auth/user-token-expired"!==te?.code)throw te}})()}}const Cf=new WeakMap;function $a(b){const g=(0,j.m9)(b);return Cf.has(g)||Cf.set(g,Ul._fromUser(g)),Cf.get(g)}const vs="__sak";class za{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(vs,"1"),this.storage.removeItem(vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const hr=(()=>{class b extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cu(){const b=(0,j.z$)();return B(b)||Le(b)}()&&function us(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),P=this.localCache[C];M!==P&&_(C,P,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ne,lt,wt)=>{this.notifyListeners(Ne,wt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(M);if(_.newValue!==Ne)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const P=()=>{const Ne=this.storage.getItem(M);!C&&this.localCache[M]===Ne||this.notifyListeners(M,Ne)},te=this.storage.getItem(M);!function Bt(){return(0,j.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,P=this;return(0,a.Z)(function*(){yield M().call(P,_,C),P.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,a.Z)(function*(){const P=yield C().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var C=()=>super._remove,M=this;return(0,a.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Ls=(()=>{class b extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let qa=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(P=>P.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,a.Z)(function*(){const M=_,{eventId:P,eventType:te,data:Ne}=M.data,lt=C.handlersMap[te];if(!lt?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const wt=Array.from(lt).map(function(){var In=(0,a.Z)(function*(xi){return xi(M.origin,Ne)});return function(xi){return In.apply(this,arguments)}}()),Kt=yield function uu(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(wt);M.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:Kt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Yo(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class Tf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var M=this;return(0,a.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,Ne;return new Promise((lt,wt)=>{const Kt=Yo("",20);P.port1.start();const In=setTimeout(()=>{wt(new Error("unsupported_event"))},C);Ne={messageChannel:P,onMessage(xi){const Vi=xi;if(Vi.data.eventId===Kt)switch(Vi.data.status){case"ack":clearTimeout(In),te=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),lt(Vi.data.response);break;default:clearTimeout(In),clearTimeout(te),wt(new Error("invalid_response"))}}},M.handlers.add(Ne),P.port1.addEventListener("message",Ne.onMessage),M.target.postMessage({eventType:g,eventId:Kt,data:_},[P.port2])}).finally(()=>{Ne&&M.removeMessageHandler(Ne)})})()}}function Yn(){return window}function ui(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function bs(){return(bs=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wa="firebaseLocalStorageDb",Za="firebaseLocalStorage",Ko="fbase_key";class uo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Qo(b,g){return b.transaction([Za],g?"readwrite":"readonly").objectStore(Za)}function jl(){const b=indexedDB.open(Wa,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Za,{keyPath:Ko})}catch(M){_(M)}}),b.addEventListener("success",(0,a.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Za)?g(C):(C.close(),yield function $d(){const b=indexedDB.deleteDatabase(Wa);return new uo(b).toPromise()}(),g(yield jl()))}))})}function Ya(b,g,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(b,g,_){const C=Qo(b,!0).put({[Ko]:g,value:_});return new uo(C).toPromise()})).apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(b,g){const _=Qo(b,!1).get(g),C=yield new uo(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function $l(b,g){const _=Qo(b,!0).delete(g);return new uo(_).toPromise()}const ea=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield jl()),_.db})()}_withRetries(_){var C=this;return(0,a.Z)(function*(){let M=0;for(;;)try{const P=yield C._openDb();return yield _(P)}catch(P){if(M++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return ui()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=qa._getInstance(function Hl(){return ui()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function jd(){return bs.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Tf(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(C=P[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=P[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function du(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield jl();return yield Ya(_,vs,"1"),yield $l(_,vs),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(P=>Ya(P,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,a.Z)(function*(){const M=yield C._withRetries(P=>function If(b,g){return Xo.apply(this,arguments)}(P,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(M=>$l(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const C=yield _._withRetries(te=>{const Ne=Qo(te,!1).getAll();return new uo(Ne).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:te,value:Ne}of C)P.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(Ne)&&(_.notifyListeners(te,Ne),M.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!P.has(te)&&(_.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Sf(b,g){return Ht(b,"POST","/v2/accounts/mfaSignIn:start",Yt(b,g))}function $r(){return($r=(0,a.Z)(function*(b){return(yield Ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ho(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=M=>{const P=Oe("internal-error");P.customData=M,_(P)},C.type="text/javascript",C.charset="UTF-8",function na(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function ra(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class zd{constructor(g){this.auth=g,this.counter=Zi,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Pn(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Zi;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Zi))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var C;return null===(C=_._widgets.get(g||Zi))||void 0===C||C.execute(),""})()}}class Pn{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;oe(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wm(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Af=ra("rcb"),yw=new qe(3e4,6e4);class Py{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Yn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return oe(function Mf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Yn().grecaptcha):new Promise((C,M)=>{const P=Yn().setTimeout(()=>{M(Oe(g,"network-request-failed"))},yw.get());Yn()[Af]=()=>{Yn().clearTimeout(P),delete Yn()[Af];const Ne=Yn().grecaptcha;if(!Ne)return void M(Oe(g,"internal-error"));const lt=Ne.render;Ne.render=(wt,Kt)=>{const In=lt(wt,Kt);return this.counter++,In},this.hostLanguage=_,C(Ne)},ho(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Af,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Yn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vw{load(g){return(0,a.Z)(function*(){return new zd(g)})()}clearedOneInstance(){}}const Vs="recaptcha",Fy={theme:"light",type:"image"};class Zm{constructor(g,_=Object.assign({},Fy),C){this.parameters=_,this.type=Vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(C),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vw:new Py,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(P=>{const te=Ne=>{!Ne||(g.tokenChangeListeners.delete(te),P(Ne))};g.tokenChangeListeners.add(te),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=Yn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){oe(Ue()&&!ui(),g.auth,"internal-error"),yield function Ir(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function zl(b){return $r.apply(this,arguments)}(g.auth);oe(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fn{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Po._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function ws(b,g,_){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(b,g,_){const C=yt(b),M=yield Kn(C,g,(0,j.m9)(_));return new fn(M,P=>Ra(C,P))})).apply(this,arguments)}function Lt(b,g,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);yield Gi(!1,C,"phone");const M=yield Kn(C.auth,g,(0,j.m9)(_));return new fn(M,P=>Ft(C,P))})).apply(this,arguments)}function Cs(b,g,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),M=yield Kn(C.auth,g,(0,j.m9)(_));return new fn(M,P=>Gm(C,P))})).apply(this,arguments)}function Kn(b,g,_){return po.apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(b,g,_){var C;const M=yield _.verify();try{let P;if(oe("string"==typeof M,b,"argument-error"),oe(_.type===Vs,b,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const te=P.session;if("phoneNumber"in P)return oe("enroll"===te.type,b,"internal-error"),(yield Zn(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===te.type,b,"internal-error");const Ne=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return oe(Ne,b,"missing-multi-factor-info"),(yield Sf(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Um(b,{phoneNumber:P.phoneNumber,recaptchaToken:M});return te}}finally{_._reset()}})).apply(this,arguments)}function Gd(b,g){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(b,g){yield Nl((0,j.m9)(b),g)})).apply(this,arguments)}let xf=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yt(_)}verifyPhoneNumber(_,C){return Kn(this.auth,_,(0,j.m9)(C))}static credential(_,C){return Po._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Po._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Us(b,g){return g?J(g):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Wd extends ai{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ro(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ro(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ro(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function mo(b){return Jc(b.auth,new Wd(b),b.bypassAuthState)}function nt(b){const{auth:g,user:_}=b;return oe(_,g,"internal-error"),Xc(_,new Wd(b),b.bypassAuthState)}function pu(b){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(b){const{auth:g,user:_}=b;return oe(_,g,"internal-error"),Nl(_,new Wd(b),b.bypassAuthState)})).apply(this,arguments)}class Ka{constructor(g,_,C,M,P=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:P,tenantId:te,error:Ne,type:lt}=g;if(Ne)return void _.reject(Ne);const wt={auth:_.auth,requestUri:C,sessionId:M,tenantId:te||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(lt)(wt))}catch(Kt){_.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return mo;case"linkViaPopup":case"linkViaRedirect":return pu;case"reauthViaPopup":case"reauthViaRedirect":return nt;default:Je(this.auth,"internal-error")}}resolve(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qa=new qe(2e3,1e4);function Gn(b,g,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(b,g,_){const C=yt(b);De(b,g,Pr);const M=Us(C,_);return new ql(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Gl(b,g,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Pr);const M=Us(C.auth,_);return new ql(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function kf(b,g,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Pr);const M=Us(C.auth,_);return new ql(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let ql=(()=>{class b extends Ka{constructor(_,C,M,P,te){super(_,C,P,te),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const C=yield _.execute();return oe(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,a.Z)(function*(){ve(1===_.filter.length,"Popup operations only handle one event");const C=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Qa.get())};_()}}return b.currentPopupAction=null,b})();const Ki=new Map;class Mi extends Ka{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let C=Ki.get(_.auth._key());if(!C){try{const P=(yield function Wl(b,g){return Sr.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(P)}catch(M){C=()=>Promise.reject(M)}Ki.set(_.auth._key(),C)}return _.bypassAuthState||Ki.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Sr(){return(Sr=(0,a.Z)(function*(b,g){const _=_o(g),C=go(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Hs(b,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(b,g){return go(b)._set(_o(g),"true")})).apply(this,arguments)}function Lr(){Ki.clear()}function xn(b,g){Ki.set(b._key(),g)}function go(b){return J(b._redirectPersistence)}function _o(b){return $("pendingRedirect",b.config.apiKey,b.name)}function Qn(b,g,_){return function hn(b,g,_){return ei.apply(this,arguments)}(b,g,_)}function ei(){return(ei=(0,a.Z)(function*(b,g,_){const C=yt(b);De(b,g,Pr),yield C._initializationPromise;const M=Us(C,_);return yield Hs(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function vr(b,g,_){return function T(b,g,_){return I.apply(this,arguments)}(b,g,_)}function I(){return(I=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Pr),yield C.auth._initializationPromise;const M=Us(C.auth,_);yield Hs(M,C.auth);const P=yield _t(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function x(b,g,_){return function H(b,g,_){return K.apply(this,arguments)}(b,g,_)}function K(){return(K=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Pr),yield C.auth._initializationPromise;const M=Us(C.auth,_);yield Gi(!1,C,g.providerId),yield Hs(M,C.auth);const P=yield _t(C);return M._openRedirect(C.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function le(b,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(b,g){return yield yt(b)._initializationPromise,Ye(b,g,!1)})).apply(this,arguments)}function Ye(b,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(b,g,_=!1){const C=yt(b),M=Us(C,g),te=yield new Mi(C,M,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield C._persistUserIfCurrent(te.user),yield C._setRedirectUser(null,g)),te})).apply(this,arguments)}function _t(b){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(b){const g=Yo(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ar{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function $t(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!js(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(g))}saveEventToCache(g){this.cachedEventUids.add(fr(g)),this.lastProcessedEventTime=Date.now()}}function fr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function js({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function zr(b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(b,g={}){return Ht(b,"GET","/v1/projects",g)})).apply(this,arguments)}const di=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rf=/^https?/;function Qi(){return(Qi=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield zr(b);for(const _ of g)try{if(Ly(_))return}catch{}Je(b,"unauthorized-domain")})).apply(this,arguments)}function Ly(b){const g=Ve(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===C}if(!Rf.test(_))return!1;if(di.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const Km=new qe(3e4,6e4);function Of(){const b=Yn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Xn=null;function yo(b){return Xn=Xn||function bw(b){return new Promise((g,_)=>{var C,M,P;function te(){Of(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Of(),_(Oe(b,"network-request-failed"))},timeout:Km.get()})}if(null!==(M=null===(C=Yn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(P=Yn().gapi)||void 0===P||!P.load){const Ne=ra("iframefcb");return Yn()[Ne]=()=>{gapi.load?te():_(Oe(b,"network-request-failed"))},ho(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(lt=>_(lt))}te()}}).catch(g=>{throw Xn=null,g})}(b),Xn}const Nf=new qe(5e3,15e3),Pf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},By=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vy(b){const g=b.config;oe(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?vn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:O.SDK_VERSION},M=By.get(b.config.apiHost);M&&(C.eid=M);const P=b._getFrameworks();return P.length&&(C.fw=P.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function mu(){return mu=(0,a.Z)(function*(b){const g=yield yo(b),_=Yn().gapi;return oe(_,b,"internal-error"),g.open({where:document.body,url:Vy(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pf,dontclear:!0},C=>new Promise(function(){var M=(0,a.Z)(function*(P,te){yield C.restyle({setHideOnLeave:!1});const Ne=Oe(b,"network-request-failed"),lt=Yn().setTimeout(()=>{te(Ne)},Nf.get());function wt(){Yn().clearTimeout(lt),P(C)}C.ping(wt).then(wt,()=>{te(Ne)})});return function(P,te){return M.apply(this,arguments)}}()))}),mu.apply(this,arguments)}const Uy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function el(b,g,_,C,M,P){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:M};if(g instanceof Pr){g.setDefaultLanguage(b.languageCode),te.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[lt,wt]of Object.entries(P||{}))te[lt]=wt}if(g instanceof Lo){const lt=g.getScopes().filter(wt=>""!==wt);lt.length>0&&(te.scopes=lt.join(","))}b.tenantId&&(te.tid=b.tenantId);const Ne=te;for(const lt of Object.keys(Ne))void 0===Ne[lt]&&delete Ne[lt];return`${function Jm({config:b}){return b.emulator?vn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(Ne).slice(1)}`}const tl="webStorageSupport",Xi=class Ql{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=Ye,this._overrideRedirectResult=xn}_openPopup(g,_,C,M){var P=this;return(0,a.Z)(function*(){var te;ve(null===(te=P.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ne=el(g,_,C,Ve(),M);return function Cw(b,g,_,C=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-C)/2,0).toString();let Ne="";const lt=Object.assign(Object.assign({},Uy),{width:C.toString(),height:M.toString(),top:P,left:te}),wt=(0,j.z$)().toLowerCase();_&&(Ne=re(wt)?"_blank":_),k(wt)&&(g=g||"http://localhost",lt.scrollbars="yes");const Kt=Object.entries(lt).reduce((xi,[Vi,nl])=>`${xi}${Vi}=${nl},`,"");if(function bn(b=(0,j.z$)()){var g;return Le(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(wt)&&"_self"!==Ne)return function Kl(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",Ne),new gu(null);const In=window.open(g||"",Ne,Kt);oe(In,b,"popup-blocked");try{In.focus()}catch{}return new gu(In)}(g,Ne,Yo())})()}_openRedirect(g,_,C,M){var P=this;return(0,a.Z)(function*(){return yield P._originValidation(g),function Hd(b){Yn().location.href=b}(el(g,_,C,Ve(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(ve(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const C=yield function Xm(b){return mu.apply(this,arguments)}(g),M=new Ar(g);return C.register("authEvent",P=>(oe(P?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(tl,{type:tl},M=>{var P;const te=null===(P=M?.[0])||void 0===P?void 0:P[tl];void 0!==te&&_(!!te),Je(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ym(b){return Qi.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return wn()||B()||Le()}};class Lf extends class Zd{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Lf(g)}_finalizeEnroll(g,_,C){return function Bl(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ta(b,g){return Ht(b,"POST","/v2/accounts/mfaSignIn:finalize",Yt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bf=(()=>{class b{constructor(){}static assertion(_){return Lf._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Xl="@firebase/auth";class eg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function zy(b){(0,O._registerComponent)(new _e.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:P,authDomain:te}=C.options;return((Ne,lt)=>{oe(P&&!P.includes(":"),"invalid-api-key",{appName:Ne.name}),oe(!te?.includes(":"),"argument-error",{appName:Ne.name});const wt={apiKey:P,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(b)},Kt=new ko(Ne,lt,wt);return function ce(b,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(J);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(Kt,_),Kt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new _e.wA("auth-internal",g=>{const _=yt(g.getProvider("auth").getImmediate());return new eg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Xl,"0.21.1",function $y(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(Xl,"0.21.1","esm2017")}("Browser")},2090:(ft,Se,F)=>{F.d(Se,{$s:()=>it,BH:()=>Me,G6:()=>pt,L:()=>fe,LL:()=>rn,P0:()=>Xe,Pz:()=>Oe,Sg:()=>De,UG:()=>de,US:()=>_e,ZB:()=>q,ZR:()=>kn,aH:()=>Je,b$:()=>J,eu:()=>Zt,hl:()=>ln,jU:()=>ve,m9:()=>tn,ne:()=>On,pd:()=>Ks,r3:()=>Qr,ru:()=>Q,tV:()=>ye,uI:()=>oe,vZ:()=>et,w1:()=>ce,xO:()=>Mn,xb:()=>Fi,z$:()=>ze,zI:()=>qe,zd:()=>Dr});const ae=function(G){const $=[];let Y=0;for(let U=0;U<G.length;U++){let k=G.charCodeAt(U);k<128?$[Y++]=k:k<2048?($[Y++]=k>>6|192,$[Y++]=63&k|128):55296==(64512&k)&&U+1<G.length&&56320==(64512&G.charCodeAt(U+1))?(k=65536+((1023&k)<<10)+(1023&G.charCodeAt(++U)),$[Y++]=k>>18|240,$[Y++]=k>>12&63|128,$[Y++]=k>>6&63|128,$[Y++]=63&k|128):($[Y++]=k>>12|224,$[Y++]=k>>6&63|128,$[Y++]=63&k|128)}return $},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let k=0;k<G.length;k+=3){const B=G[k],re=k+1<G.length,Pe=re?G[k+1]:0,at=k+2<G.length,ht=at?G[k+2]:0;let Nt=(15&Pe)<<2|ht>>6,bn=63&ht;at||(bn=64,re||(Nt=64)),U.push(Y[B>>2],Y[(3&B)<<4|Pe>>4],Y[Nt],Y[bn])}return U.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(ae(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let Y=0,U=0;for(;Y<G.length;){const k=G[Y++];if(k<128)$[U++]=String.fromCharCode(k);else if(k>191&&k<224){const B=G[Y++];$[U++]=String.fromCharCode((31&k)<<6|63&B)}else if(k>239&&k<365){const at=((7&k)<<18|(63&G[Y++])<<12|(63&G[Y++])<<6|63&G[Y++])-65536;$[U++]=String.fromCharCode(55296+(at>>10)),$[U++]=String.fromCharCode(56320+(1023&at))}else{const B=G[Y++],re=G[Y++];$[U++]=String.fromCharCode((15&k)<<12|(63&B)<<6|63&re)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const Y=$?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let k=0;k<G.length;){const B=Y[G.charAt(k++)],Pe=k<G.length?Y[G.charAt(k)]:0;++k;const ht=k<G.length?Y[G.charAt(k)]:64;++k;const Le=k<G.length?Y[G.charAt(k)]:64;if(++k,null==B||null==Pe||null==ht||null==Le)throw Error();U.push(B<<2|Pe>>4),64!==ht&&(U.push(Pe<<4&240|ht>>2),64!==Le&&U.push(ht<<6&192|Le))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){return function(G){const $=ae(G);return _e.encodeByteArray($,!0)}(G).replace(/\./g,"")},ye=function(G){try{return _e.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function q(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const Y in $)!$.hasOwnProperty(Y)||!X(Y)||(G[Y]=q(G[Y],$[Y]));return G}function X(G){return"__proto__"!==G}const we=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&ye(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Xe=G=>{const $=(G=>{var $,Y;return null===(Y=null===($=we())||void 0===$?void 0:$.emulatorHosts)||void 0===Y?void 0:Y[G]})(G);if(!$)return;const Y=$.lastIndexOf(":");if(Y<=0||Y+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const U=parseInt($.substring(Y+1),10);return"["===$[0]?[$.substring(1,Y-1),U]:[$.substring(0,Y),U]},Je=()=>{var G;return null===(G=we())||void 0===G?void 0:G.config},Oe=G=>{var $;return null===($=we())||void 0===$?void 0:$[`_${G}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Y)=>{this.resolve=$,this.reject=Y})}wrapCallback($){return(Y,U)=>{Y?this.reject(Y):this.resolve(U),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Y):$(Y,U))}}}function De(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=$||"demo-project",k=G.iat||0,B=G.sub||G.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:k,exp:k+3600,auth_time:k,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(re)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function de(){var G;const $=null===(G=we())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function Q(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const G=ze();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function pt(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ln(){try{return"object"==typeof indexedDB}catch{return!1}}function Zt(){return new Promise((G,$)=>{try{let Y=!0;const U="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(U);k.onsuccess=()=>{k.result.close(),Y||self.indexedDB.deleteDatabase(U),G(!0)},k.onupgradeneeded=()=>{Y=!1},k.onerror=()=>{var B;$((null===(B=k.error)||void 0===B?void 0:B.message)||"")}}catch(Y){$(Y)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kn extends Error{constructor($,Y,U){super(Y),this.code=$,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor($,Y,U){this.service=$,this.serviceName=Y,this.errors=U}create($,...Y){const U=Y[0]||{},k=`${this.service}/${$}`,B=this.errors[$],re=B?function sn(G,$){return G.replace(Yt,(Y,U)=>{const k=$[U];return null!=k?String(k):`<${U}?>`})}(B,U):"Error";return new kn(k,`${this.serviceName}: ${re} (${k}).`,U)}}const Yt=/\{\$([^}]+)}/g;function Qr(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function Fi(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function et(G,$){if(G===$)return!0;const Y=Object.keys(G),U=Object.keys($);for(const k of Y){if(!U.includes(k))return!1;const B=G[k],re=$[k];if(ar(B)&&ar(re)){if(!et(B,re))return!1}else if(B!==re)return!1}for(const k of U)if(!Y.includes(k))return!1;return!0}function ar(G){return null!==G&&"object"==typeof G}function Mn(G){const $=[];for(const[Y,U]of Object.entries(G))Array.isArray(U)?U.forEach(k=>{$.push(encodeURIComponent(Y)+"="+encodeURIComponent(k))}):$.push(encodeURIComponent(Y)+"="+encodeURIComponent(U));return $.length?"&"+$.join("&"):""}function Dr(G){const $={};return G.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[k,B]=U.split("=");$[decodeURIComponent(k)]=decodeURIComponent(B)}}),$}function Ks(G){const $=G.indexOf("?");if(!$)return"";const Y=G.indexOf("#",$);return G.substring($,Y>0?Y:void 0)}function On(G,$){const Y=new En(G,$);return Y.subscribe.bind(Y)}class En{constructor($,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{$(this)}).catch(U=>{this.error(U)})}next($){this.forEachObserver(Y=>{Y.next($)})}error($){this.forEachObserver(Y=>{Y.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Y,U){let k;if(void 0===$&&void 0===Y&&void 0===U)throw new Error("Missing Observer.");k=function gt(G,$){if("object"!=typeof G||null===G)return!1;for(const Y of $)if(Y in G&&"function"==typeof G[Y])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Y,complete:U},void 0===k.next&&(k.next=Ot),void 0===k.error&&(k.error=Ot),void 0===k.complete&&(k.complete=Ot);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),B}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,$)}sendOne($,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Y(this.observers[$])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function it(G,$=1e3,Y=2){const U=$*Math.pow(Y,G),k=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+k)}function tn(G){return G&&G._delegate?G._delegate:G}},8982:(ft,Se,F)=>{var a=F(4650);let j=null;function O(){return j}const ie=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ye(){return(0,a.LFG)(q)}()},providedIn:"platform"}),n})();const W=new a.OlP("Location Initialized");let q=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function $e(){return new q((0,a.LFG)(ie))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Xe)},providedIn:"root"}),n})();const ge=new a.OlP("appBaseHref");let Xe=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ot(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const u=this.prepareExternalUrl(i+ot(o));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){const u=this.prepareExternalUrl(i+ot(o));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let u=this.prepareExternalUrl(i+ot(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){let u=this.prepareExternalUrl(i+ot(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ot(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ot,n.joinWithSlash=Re,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(a.LFG(we))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Me(){return new Oe((0,a.LFG)(we))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function kl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let _n=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class to{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new to(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,u),no(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{no(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function no(n,e){n.context.$implicit=e.item}let Dn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mf{constructor(){this.$implicit=null,this.ngIf=null}}function cr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Ei{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ps=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ro=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ei(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ps,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Oo=(()=>{class n{constructor(t,r,i){i._addDefault(new Ei(t,r))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ps,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ti="browser";function Vo(n){return"server"===n}let Md=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new gf((0,a.LFG)(ie),window)}),n})();class gf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Tr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Li(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oo{}class Ps extends class Nd extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){j||(j=n)}(new Ps)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pd(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==t?null:function ys(n){Hn=Hn||document.createElement("a"),Hn.setAttribute("href",n);const e=Hn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kl(document.cookie,e)}}let Hn,Fs=null;const Vn=new a.OlP("TRANSITION_ID"),iu=[{provide:a.ip1,useFactory:function ru(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Vn,ie,a.zs3],multi:!0}];let su=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=new a.OlP("EventManagerPlugins");let au=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ou),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ll{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Wo=(()=>{class n extends qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ld),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ld))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ld(n){O().remove(n)}const Zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bd=/%COMP%/g;function Vl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Vl(n,i,t):(i=i.replace(Bd,n),t.push(i))}return t}function Ul(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $a=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new vs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ud(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new Ef(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Vl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(au),a.LFG(Wo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class vs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ga(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ga(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Zo[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Zo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ul(r)):this.eventManager.addEventListener(e,t,Ul(r))}}function Ga(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ud extends vs{constructor(e,t,r,i){super(e),this.component=r;const o=Vl(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Zn(n){return"_ngcontent-%COMP%".replace(Bd,n)}(i+"-"+r.id),this.hostAttr=function Bl(n){return"_nghost-%COMP%".replace(Bd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ef extends vs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Vl(i.id,i.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hr=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Df=["alt","control","meta","shift"],Ls={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qa=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),Df.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),u+=v+".")}),u+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(t,r){let i=Ls[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Df.forEach(u=>{u!==i&&(0,uu[u])(t)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Ti},{provide:a.g9A,useValue:function jd(){Ps.makeCurrent()},multi:!0},{provide:ie,useFactory:function du(){return(0,a.RDi)(document),document},deps:[]}]),co=new a.OlP(""),Za=[{provide:a.rWj,useClass:class Fd{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let o=i.length,u=!1;const h=function(m){u=u||m,o--,0==o&&r(u)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ko=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function bs(){return new a.qLn},deps:[]},{provide:ou,useClass:hr,multi:!0,deps:[ie,a.R0b,a.Lbi]},{provide:ou,useClass:qa,multi:!0,deps:[ie]},{provide:$a,useClass:$a,deps:[au,Wo,a.AFp]},{provide:a.FYo,useExisting:$a},{provide:qo,useExisting:Wo},{provide:Wo,useClass:Wo,deps:[ie]},{provide:au,useClass:au,deps:[ou,a.R0b]},{provide:oo,useClass:su,deps:[]},[]];let uo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Vn,useExisting:a.AFp},iu]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(co,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ko,...Za],imports:[io,a.hGG]}),n})(),Wi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ya(){return new Wi((0,a.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):a.LFG(Zm),r},providedIn:"root"}),n})(),Zm=(()=>{class n extends Vs{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Fy(n){return new Zm(n.get(ie))}(a.LFG(a.zs3)),r},providedIn:"root"}),n})();var fn=F(8996),ws=F(3269);function tt(...n){const e=(0,ws.yG)(n);return(0,fn.D)(n,e)}var Lt=F(7579);class Tn extends Lt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const fo=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kn=F(9751);const{isArray:po}=Array,{getPrototypeOf:Gd,prototype:qd,keys:xf}=Object;function Us(n){if(1===n.length){const e=n[0];if(po(e))return{args:e,keys:null};if(function Wd(n){return n&&"object"==typeof n&&Gd(n)===qd}(e)){const t=xf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var mo=F(4671),nt=F(4004);const{isArray:pu}=Array;function Ka(n){return(0,nt.U)(e=>function Yi(n,e){return pu(e)?n(...e):n(e)}(n,e))}function Qa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Gn=F(5403),Xa=F(9672);function Gl(...n){const e=(0,ws.yG)(n),t=(0,ws.jO)(n),{args:r,keys:i}=Us(n);if(0===r.length)return(0,fn.D)([],e);const o=new Kn.y(function Ja(n,e,t=mo.y){return r=>{kf(e,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let m=0;m<i;m++)kf(e,()=>{const v=(0,fn.D)(n[m],e);let D=!1;v.subscribe((0,Gn.x)(r,S=>{o[m]=S,D||(D=!0,h--),h||r.next(t(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Qa(i,u):mo.y));return t?o.pipe(Ka(t)):o}function kf(n,e,t){n?(0,Xa.f)(t,n,e):e()}var sa=F(8189);function oa(...n){return function ql(){return(0,sa.J)(1)}()((0,fn.D)(n,(0,ws.yG)(n)))}var Ki=F(8421);function Mi(n){return new Kn.y(e=>{(0,Ki.Xf)(n()).subscribe(e)})}var Wl=F(9635),Sr=F(576);function Hs(n,e){const t=(0,Sr.m)(n)?n:()=>n,r=i=>i.error(t());return new Kn.y(e?i=>e.schedule(r,0,i):r)}var Fr=F(515),Lr=F(727),xn=F(4482);function go(){return(0,xn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _o extends Kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lr.w0.EMPTY)}return e}refCount(){return go()(this)}}function Qn(n,e){return(0,xn.e)((t,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,Gn.x)(r,m=>{i?.unsubscribe();let v=0;const D=o++;(0,Ki.Xf)(n(m,D)).subscribe(i=(0,Gn.x)(r,S=>r.next(e?e(m,S,D,v++):S),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function hn(n){return n<=0?()=>Fr.E:(0,xn.e)((e,t)=>{let r=0;e.subscribe((0,Gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ei(...n){const e=(0,ws.yG)(n);return(0,xn.e)((t,r)=>{(e?oa(n,t,e):oa(n,t)).subscribe(r)})}function vr(n,e){return(0,xn.e)((t,r)=>{let i=0;t.subscribe((0,Gn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var T=F(5577);function I(n){return(0,xn.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function x(n=H){return(0,xn.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function H(){return new fo}function K(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vr((i,o)=>n(i,o,r)):mo.y,hn(1),t?I(e):x(()=>new fo))}function le(n,e){return(0,Sr.m)(e)?(0,T.z)(n,e,1):(0,T.z)(n,1)}var Ce=F(8505);function Ye(n){return(0,xn.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,u=>{o=(0,Ki.Xf)(n(u,Ye(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ut(n,e,t,r,i){return(o,u)=>{let h=t,m=e,v=0;o.subscribe((0,Gn.x)(u,D=>{const S=v++;m=h?n(m,D,S):(h=!0,D),r&&u.next(m)},i&&(()=>{h&&u.next(m),u.complete()})))}}function _t(n,e){return(0,xn.e)(ut(n,e,arguments.length>=2,!0))}function jt(n){return n<=0?()=>Fr.E:(0,xn.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function St(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vr((i,o)=>n(i,o,r)):mo.y,jt(1),t?I(e):x(()=>new fo))}function Ar(n,e=!1){return(0,xn.e)((t,r)=>{let i=0;t.subscribe((0,Gn.x)(r,o=>{const u=n(o,i++);(u||e)&&r.next(o),!u&&r.complete()}))})}function js(n){return(0,xn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $t="primary",zr=Symbol("RouteTitle");class Mr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function di(n){return new Mr(n)}function Rf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ly(n[i],e[i]))return!1;return!0}function Ly(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Km(n){return Array.prototype.concat.apply([],n)}function Of(n){return n.length>0?n[n.length-1]:null}function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yo(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,fn.D)(Promise.resolve(n)):tt(n)}const ww={exact:function Xm(n,e,t){if(!Kl(n.segments,e.segments)||!Zl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Xm(n.children[r],e.children[r],t))return!1;return!0},subset:Uy},Pf={exact:function Vy(n,e){return Qi(n,e)},subset:function mu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ly(n[t],e[t]))},ignored:()=>!0};function By(n,e,t){return ww[t.paths](n.root,e.root,t.matrixParams)&&Pf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Uy(n,e,t){return Hy(n,e,e.segments,t)}function Hy(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Kl(i,t)||e.hasChildren()||!Zl(i,t,r))}if(n.segments.length===t.length){if(!Kl(n.segments,t)||!Zl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Uy(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Kl(n.segments,i)&&Zl(n.segments,i,r)&&n.children[$t])&&Hy(n.children[$t],e,o,r)}}function Zl(n,e,t){return e.every((r,i)=>Pf[t](n[i].parameters,r.parameters))}class Yl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=di(this.queryParams)),this._queryParamMap}toString(){return Jm.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}}class gu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=di(this.parameters)),this._parameterMap}toString(){return eg(this)}}function Kl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new el},providedIn:"root"}),n})();class el{parse(e){const t=new g(e);return new Yl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ql(e.root,!0)}`,r=function zy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zd(t)}=${Zd(i)}`).join("&"):`${Zd(t)}=${Zd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Lf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jm=new el;function tl(n){return n.segments.map(e=>eg(e)).join("/")}function Ql(n,e){if(!n.hasChildren())return tl(n);if(e){const t=n.children[$t]?Ql(n.children[$t],!1):"",r=[];return Xn(n.children,(i,o)=>{o!==$t&&r.push(`${o}:${Ql(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function jy(n,e){let t=[];return Xn(n.children,(r,i)=>{i===$t&&(t=t.concat(e(r,i)))}),Xn(n.children,(r,i)=>{i!==$t&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$t?[Ql(n.children[$t],!1)]:[`${i}:${Ql(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${tl(n)}/${t[0]}`:`${tl(n)}/(${t.join("//")})`}}function Xi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(n){return Xi(n).replace(/%3B/gi,";")}function Bf(n){return Xi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function _u(n){return Xl(n.replace(/\+/g,"%20"))}function eg(n){return`${Bf(n.path)}${function $y(n){return Object.keys(n).map(e=>`;${Bf(e)}=${Bf(n[e])}`).join("")}(n.parameters)}`}const tg=/^[^\/()?;=#]+/;function Yd(n){const e=n.match(tg);return e?e[0]:""}const ng=/^[^=?&#]+/,rg=/^[^&#]+/;class g{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$t]=new en(e,t)),r}parseSegment(){const e=Yd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new gu(Xl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yd(this.remaining);i&&(r=i,this.capture(r))}e[Xl(t)]=Xl(r)}parseQueryParam(e){const t=function hi(n){const e=n.match(ng);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function b(n){const e=n.match(rg);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=_u(t),o=_u(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$t);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[$t]:new en([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function _(n){return n.segments.length>0?new en([],{[$t]:n}):n}function C(n){const e={};for(const r of Object.keys(n.children)){const o=C(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function M(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function P(n){return n instanceof Yl}function Kt(n,e,t,r,i){if(0===t.length)return Vi(e.root,e.root,e.root,r,i);const o=function Kd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Xn(o.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new yu(t,e,r)}(t);return o.toRoot()?Vi(e.root,e.root,new en([],{}),r,i):function u(m){const v=function rl(n,e,t,r){if(n.isAbsolute)return new aa(e.root,!0,0);if(-1===r)return new aa(t,t===e.root,0);return function Vf(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new a.vHH(4005,!1);i=r.segments.length}return new aa(r,!1,i-o)}(t,r+(In(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),D=v.processChildren?la(v.segmentGroup,v.index,o.commands):il(v.segmentGroup,v.index,o.commands);return Vi(e.root,v.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function In(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xi(n){return"object"==typeof n&&null!=n&&n.outlets}function Vi(n,e,t,r,i){let u,o={};r&&Xn(r,(m,v)=>{o[v]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),u=n===e?t:nl(n,e,t);const h=_(C(u));return new Yl(h,o,i)}function nl(n,e,t){const r={};return Xn(n.children,(i,o)=>{r[o]=i===e?t:nl(i,e,t)}),new en(n.segments,r)}class yu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&In(r[0]))throw new a.vHH(4003,!1);const i=r.find(xi);if(i&&i!==Of(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function il(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return la(n,e,t);const r=function og(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const u=n.segments[i],h=t[r];if(xi(h))break;const m=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Gy(m,v,u))return o;r+=2}else{if(!Gy(m,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new en(n.segments.slice(0,r.pathIndex),{});return o.children[$t]=new en(n.segments.slice(r.pathIndex),n.children),la(o,0,i)}return r.match&&0===i.length?new en(n.segments,{}):r.match&&!n.hasChildren()?Qd(n,e,t):r.match?la(n,0,i):Qd(n,e,t)}function la(n,e,t){if(0===t.length)return new en(n.segments,{});{const r=function sg(n){return xi(n[0])?n[0].outlets:{[$t]:n}}(t),i={};return Xn(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=il(n.children[u],e,o))}),Xn(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new en(n.segments,i)}}function Qd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(xi(o)){const m=Jl(o.outlets);return new en(r,m)}if(0===i&&In(t[0])){r.push(new gu(n.segments[e].path,ag(t[0]))),i++;continue}const u=xi(o)?o.outlets[$t]:`${o}`,h=i<t.length-1?t[i+1]:null;u&&h&&In(h)?(r.push(new gu(u,ag(h))),i+=2):(r.push(new gu(u,{})),i++)}return new en(r,{})}function Jl(n){const e={};return Xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qd(new en([],{}),0,t))}),e}function ag(n){const e={};return Xn(n,(t,r)=>e[r]=`${t}`),e}function Gy(n,e,t){return n==t.path&&Qi(e,t.parameters)}class sl{constructor(e,t){this.id=e,this.url=t}}class Uf extends sl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vu extends sl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lg extends sl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ew extends sl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gI extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _I extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yI extends sl{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dw extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qy extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wy{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ec{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Yy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Yy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mw(e,this._root).map(t=>t.value)}}function Yy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Yy(n,t);if(r)return r}return null}function Mw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mw(n,t);if(r.length)return r.unshift(e),r}return[]}class $s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ky extends Zy{constructor(e,t){super(e),this.snapshot=t,Hf(this,e)}toString(){return this.snapshot.toString()}}function Qy(n,e){const t=function xw(n,e){const u=new bu([],{},{},"",{},$t,e,null,n.root,-1,{});return new Jy("",new $s(u,[]))}(n,e),r=new Tn([new gu("",{})]),i=new Tn({}),o=new Tn({}),u=new Tn({}),h=new Tn(""),m=new ca(r,i,u,h,o,$t,e,t.root);return m.snapshot=t.root,new Ky(new $s(m,[]),t)}class ca{constructor(e,t,r,i,o,u,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,nt.U)(v=>v[zr]))??tt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>di(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>di(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function cg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bu{constructor(e,t,r,i,o,u,h,m,v,D,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[zr],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=D,this._correctedLastPathIndex=N??D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=di(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=di(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jy extends Zy{constructor(e,t){super(t),this.url=e,Hf(this,t)}toString(){return ug(this._root)}}function Hf(n,e){e.value._routerState=n,e.children.forEach(t=>Hf(n,t))}function ug(n){const e=n.children.length>0?` { ${n.children.map(ug).join(", ")} } `:"";return`${n.value}${e}`}function jf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function Ym(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wu(n,e){const t=Qi(n.params,e.params)&&function Cw(n,e){return Kl(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wu(n.parent,e.parent))}function Jd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function CI(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jd(n,r,i);return Jd(n,r)})}(n,e,t);return new $s(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Jd(n,h)),u}}const r=function EI(n){return new ca(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Jd(n,o));return new $s(r,i)}}const dg="ngNavigationCancelingError";function hg(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=P(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$f(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $f(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[dg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function fg(n){return tc(n)&&P(n.url)}function tc(n){return n&&n[dg]}class DI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zf,this.attachRef=null}}let zf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new DI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ev=!1;let tv=(()=>{class n{constructor(t,r,i,o,u){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=i||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,ev);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,ev);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,ev);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,ev);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new nv(t,h,i.injector);if(r&&function TI(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zf),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ca?this.route:e===zf?this.childContexts:this.parent.get(e,t)}}let pg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[tv],encapsulation:2}),n})();function Gf(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rv(n){const e=n.children&&n.children.map(rv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=pg),t}function zs(n){return n.outlet||$t}function ua(n,e){const t=n.filter(r=>zs(r)===e);return t.push(...n.filter(r=>zs(r)!==e)),t}function da(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OI{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Xd(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Xn(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Xd(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Xd(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Xd(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(jf(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),jf(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=da(i.snapshot),m=h?.get(a._Vd)??null;u.attachRef=null,u.route=i,u.resolver=m,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Rw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mg{constructor(e,t){this.component=e,this.route=t}}function NI(n,e,t){const r=n._root;return qf(r,e?e._root:null,t,[r.value])}function Cu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function qf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xd(e);return n.children.forEach(u=>{(function FI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function LI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kl(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wu(n,e)||!Qi(n.queryParams,e.queryParams);default:return!wu(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Rw(r)):(o.data=u.data,o._resolvedData=u._resolvedData),qf(n,e,o.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new mg(h.outlet.component,u))}else u&&Wf(e,h,i),i.canActivateChecks.push(new Rw(r)),qf(n,null,o.component?h?h.children:null:t,r,i)})(u,o[u.value.outlet],t,r.concat([u.value]),i),delete o[u.value.outlet]}),Xn(o,(u,h)=>Wf(u,t.getContext(h),i)),i}function Wf(n,e,t){const r=Xd(n),i=n.value;Xn(r,(o,u)=>{Wf(o,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new mg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nc(n){return"function"==typeof n}function Yf(n){return n instanceof fo||"EmptyError"===n?.name}const eh=Symbol("INITIAL_VALUE");function Kf(){return Qn(n=>Gl(n.map(e=>e.pipe(hn(1),ei(eh)))).pipe((0,nt.U)(e=>{for(const t of e)if(!0!==t){if(t===eh)return eh;if(!1===t||t instanceof Yl)return t}return!0}),vr(e=>e!==eh),hn(1)))}function _g(n){return(0,Wl.z)((0,Ce.b)(e=>{if(P(e))throw hg(0,e)}),(0,nt.U)(e=>!0===e))}const pr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iv(n,e,t,r,i){const o=sv(n,e,t);return o.matched?function jI(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?tt(i.map(u=>{const h=Cu(u,n);return yo(function CR(n){return n&&nc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Kf(),_g()):tt(!0)}(r=Gf(e,r),e,t).pipe((0,nt.U)(u=>!0===u?o:{...pr})):tt(o)}function sv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...pr}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rf)(t,n,e);if(!i)return{...pr};const o={};Xn(i.posParams,(h,m)=>{o[m]=h.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function th(n,e,t,r,i="corrected"){if(t.length>0&&function zI(n,e,t){return t.some(r=>yg(n,e,r)&&zs(r)!==$t)}(n,t,r)){const u=new en(e,function $I(n,e,t,r){const i={};i[$t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&zs(o)!==$t){const u=new en([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[zs(o)]=u}return i}(n,e,r,new en(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function GI(n,e,t){return t.some(r=>yg(n,e,r))}(n,t,r)){const u=new en(n.segments,function Vw(n,e,t,r,i,o){const u={};for(const h of r)if(yg(n,t,h)&&!i[zs(h)]){const m=new en([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:e.length,u[zs(h)]=m}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new en(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function yg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uw(n,e,t,r){return!!(zs(n)===r||r!==$t&&yg(e,t,n))&&("**"===n.path||sv(e,n,t).matched)}function qI(n,e,t){return 0===e.length&&!n.children[t]}const ov=!1;class rc{constructor(e){this.segmentGroup=e||null}}class vg{constructor(e){this.urlTree=e}}function nh(n){return Hs(new rc(n))}function av(n){return Hs(new vg(n))}class $w{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=th(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$t).pipe((0,nt.U)(o=>this.createUrlTree(C(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ye(o=>{if(o instanceof vg)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof rc?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$t).pipe((0,nt.U)(i=>this.createUrlTree(C(i),e.queryParams,e.fragment))).pipe(Ye(i=>{throw i instanceof rc?this.noMatchError(i):i}))}noMatchError(e){return new a.vHH(4002,ov)}createUrlTree(e,t,r){const i=_(e);return new Yl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,nt.U)(o=>new en([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,fn.D)(i).pipe(le(o=>{const u=r.children[o],h=ua(t,o);return this.expandSegmentGroup(e,h,u,o).pipe((0,nt.U)(m=>({segment:m,outlet:o})))}),_t((o,u)=>(o[u.outlet]=u.segment,o),{}),St())}expandSegment(e,t,r,i,o,u){return(0,fn.D)(r).pipe(le(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,u).pipe(Ye(v=>{if(v instanceof rc)return tt(null);throw v}))),K(h=>!!h),Ye((h,m)=>{if(Yf(h))return qI(t,i,o)?tt(new en([],{})):nh(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,u,h){return Uw(i,t,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u):nh(t):nh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?av(o):this.lineralizeSegments(r,o).pipe((0,T.z)(u=>{const h=new en(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:D}=sv(t,i,o);if(!h)return nh(t);const S=this.applyRedirectCommands(m,i.redirectTo,D);return i.redirectTo.startsWith("/")?av(S):this.lineralizeSegments(i,S).pipe((0,T.z)(N=>this.expandSegment(e,t,r,N.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=Gf(r,e),r.loadChildren?(r._loadedRoutes?tt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,nt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new en(i,{})))):tt(new en(i,{}))):iv(t,r,i,e).pipe(Qn(({matched:u,consumedSegments:h,remainingSegments:m})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,T.z)(D=>{const S=D.injector??e,N=D.routes,{segmentGroup:V,slicedSegments:z}=th(t,h,m,N),ee=new en(V.segments,V.children);if(0===z.length&&ee.hasChildren())return this.expandChildren(S,N,ee).pipe((0,nt.U)(Ke=>new en(h,Ke)));if(0===N.length&&0===z.length)return tt(new en(h,{}));const ne=zs(r)===o;return this.expandSegment(S,ee,N,z,ne?$t:o,!0).pipe((0,nt.U)(st=>new en(h.concat(st.segments),st.children)))})):nh(t)))}getChildConfig(e,t,r){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Bw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(u=>{const h=Cu(u,n);return yo(function Zf(n){return n&&nc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Kf(),_g())}(e,t,r).pipe((0,T.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ce.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function WI(n){return Hs($f(ov,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[$t])return Hs(new a.vHH(4e3,ov));i=i.children[$t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Yl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xn(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let u={};return Xn(t.children,(h,m)=>{u[m]=this.createSegmentGroup(e,h,r,i)}),new en(o,u)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,ov);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ZI{}class Gw{constructor(e,t,r,i,o,u,h,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const e=th(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$t).pipe((0,nt.U)(t=>{if(null===t)return null;const r=new bu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $s(r,t),o=new Jy(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=Xy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,fn.D)(Object.keys(r.children)).pipe(le(i=>{const o=r.children[i],u=ua(t,i);return this.processSegmentGroup(e,u,o,i)}),_t((i,o)=>i&&o?(i.push(...o),i):null),Ar(i=>null!==i),I(null),St(),(0,nt.U)(i=>{if(null===i)return null;const o=Qf(i);return function Eu(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,fn.D)(t).pipe(le(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,o)),K(u=>!!u),Ye(u=>{if(Yf(u))return qI(r,i,o)?tt([]):tt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!Uw(t,r,i,o))return tt(null);let u;if("**"===t.path){const h=i.length>0?Of(i).parameters:{},m=Xf(r)+i.length;u=tt({snapshot:new bu(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hv(t),zs(t),t.component??t._loadedComponent??null,t,bg(r),m,wg(t),m),consumedSegments:[],remainingSegments:[]})}else u=iv(r,t,i,e).pipe((0,nt.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:D})=>{if(!h)return null;const S=Xf(r)+m.length;return{snapshot:new bu(m,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hv(t),zs(t),t.component??t._loadedComponent??null,t,bg(r),S,wg(t),S),consumedSegments:m,remainingSegments:v}}));return u.pipe(Qn(h=>{if(null===h)return tt(null);const{snapshot:m,consumedSegments:v,remainingSegments:D}=h;e=t._injector??e;const S=t._loadedInjector??e,N=function YI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:z}=th(r,v,D,N.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===z.length&&V.hasChildren())return this.processChildren(S,N,V).pipe((0,nt.U)(ne=>null===ne?null:[new $s(m,ne)]));if(0===N.length&&0===z.length)return tt([new $s(m,[])]);const ee=zs(t)===o;return this.processSegment(S,N,V,z,ee?$t:o).pipe((0,nt.U)(ne=>null===ne?null:[new $s(m,ne)]))}))}}function dv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qf(n){const e=[],t=new Set;for(const r of n){if(!dv(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Qf(r.children);e.push(new $s(r.value,i))}return e.filter(r=>!t.has(r))}function bg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xf(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function hv(n){return n.data||{}}function wg(n){return n.resolve||{}}function Ww(n){return"string"==typeof n.title||null===n.title}function fv(n){return Qn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,nt.U)(()=>e)):tt(e)})}let Cg=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$t);return r}getResolvedTitleForRoute(t){return t.data[zr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Zw)},providedIn:"root"}),n})(),Zw=(()=>{class n extends Cg{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nS{}class TR extends class Yw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const sc=new a.OlP("",{providedIn:"root",factory:()=>({})}),oc=new a.OlP("ROUTES");let Du=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=yo(t.loadComponent()).pipe((0,Ce.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),js(()=>{this.componentLoaders.delete(t)})),i=new _o(r,()=>new Lt.x).pipe(go());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,D=!1;Array.isArray(h)?v=h:(m=h.create(t).injector,v=Km(m.get(oc,[],a.XFs.Self|a.XFs.Optional)));return{routes:v.map(rv),injector:m}}),js(()=>{this.childrenLoaders.delete(r)})),u=new _o(o,()=>new Lt.x).pipe(go());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return yo(t()).pipe((0,T.z)(r=>r instanceof a.YKP||Array.isArray(r)?tt(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iS{}class IR{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function sS(n){throw n}function oS(n,e,t){return e.parse("/")}const aS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Eg(){const n=(0,a.f3M)(Ff),e=(0,a.f3M)(zf),t=(0,a.f3M)(Oe),r=(0,a.f3M)(a.zs3),i=(0,a.f3M)(a.Sil),o=(0,a.f3M)(oc,{optional:!0})??[],u=(0,a.f3M)(sc,{optional:!0})??{},h=(0,a.f3M)(Zw),m=(0,a.f3M)(Cg,{optional:!0}),v=(0,a.f3M)(iS,{optional:!0}),D=(0,a.f3M)(nS,{optional:!0}),S=new Jn(null,n,e,t,r,i,Km(o));return v&&(S.urlHandlingStrategy=v),D&&(S.routeReuseStrategy=D),S.titleStrategy=m??h,function Xw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let Jn=(()=>{class n{constructor(t,r,i,o,u,h,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt.x,this.errorHandler=sS,this.malformedUriErrorHandler=oS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=new IR,this.routeReuseStrategy=new TR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Du),this.configLoader.onLoadEndListener=N=>this.triggerEvent(new Wy(N)),this.configLoader.onLoadStartListener=N=>this.triggerEvent(new Tw(N)),this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const S=u.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Qm(){return new Yl(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qy(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(vr(i=>0!==i.id),(0,nt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qn(i=>{let o=!1,u=!1;return tt(i).pipe((0,Ce.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qn(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Dg(h.source)&&(this.browserUrlTree=h.extractedUrl),tt(h).pipe(Qn(S=>{const N=this.transitions.getValue();return r.next(new Uf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions.getValue()?Fr.E:Promise.resolve(S)}),function lv(n,e,t,r){return Qn(i=>function jw(n,e,t,r,i){return new $w(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,nt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ce.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function QI(n,e,t,r,i,o){return(0,T.z)(u=>function zw(n,e,t,r,i,o,u="emptyOnly",h="legacy"){return new Gw(n,e,t,r,i,u,h,o).recognize().pipe(Qn(m=>null===m?function uv(n){return new Kn.y(e=>e.error(n))}(new ZI):tt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,o).pipe((0,nt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ce.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(V,S)}this.browserUrlTree=S.urlAfterRedirects}const N=new gI(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(N)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:V,source:z,restoredState:ee,extras:ne}=h,Be=new Uf(N,this.serializeUrl(V),z,ee);r.next(Be);const st=Qy(V,this.rootComponentType).snapshot;return tt(i={...h,targetSnapshot:st,urlAfterRedirects:V,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Fr.E}),(0,Ce.b)(h=>{const m=new _I(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,nt.U)(h=>i={...h,guards:NI(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function DR(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?tt({...t,guardsResult:!0}):function Fw(n,e,t,r){return(0,fn.D)(n).pipe((0,T.z)(i=>function gg(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?tt(o.map(h=>{const m=da(e)??i,v=Cu(h,m);return yo(function Pw(n){return n&&nc(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(K())})).pipe(Kf()):tt(!0)}(i.component,i.route,t,e,r)),K(i=>!0!==i,!0))}(u,r,i,n).pipe((0,T.z)(h=>h&&function al(n){return"boolean"==typeof n}(h)?function BI(n,e,t,r){return(0,fn.D)(e).pipe(le(i=>oa(function UI(n,e){return null!==n&&e&&e(new vI(n)),tt(!0)}(i.route.parent,r),function VI(n,e){return null!==n&&e&&e(new Iw(n)),tt(!0)}(i.route,r),function Lw(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function PI(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Mi(()=>tt(u.guards.map(m=>{const v=da(u.node)??t,D=Cu(m,v);return yo(function Nw(n){return n&&nc(n.canActivateChild)}(D)?D.canActivateChild(r,n):v.runInContext(()=>D(r,n))).pipe(K())})).pipe(Kf())));return tt(o).pipe(Kf())}(n,i.path,t),function HI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(o=>Mi(()=>{const u=da(e)??t,h=Cu(o,u);return yo(function Ow(n){return n&&nc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(K())}));return tt(i).pipe(Kf())}(n,i.route,t))),K(i=>!0!==i,!0))}(r,o,n,e):tt(h)),(0,nt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ce.b)(h=>{if(i.guardsResult=h.guardsResult,P(h.guardsResult))throw hg(0,h.guardsResult);const m=new yI(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),vr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),fv(h=>{if(h.guards.canActivateChecks.length)return tt(h).pipe((0,Ce.b)(m=>{const v=new Dw(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Qn(m=>{let v=!1;return tt(m).pipe(function XI(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let o=0;return(0,fn.D)(i).pipe(le(u=>function qw(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!Ww(i)&&(o[zr]=i.title),function rh(n,e,t,r){const i=function JI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return tt({});const o={};return(0,fn.D)(i).pipe((0,T.z)(u=>function eS(n,e,t,r){const i=da(e)??r,o=Cu(n,i);return yo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[u],e,t,r).pipe(K(),(0,Ce.b)(h=>{o[u]=h}))),jt(1),function fr(n){return(0,nt.U)(()=>n)}(o),Ye(u=>Yf(u)?Fr.E:Hs(u)))}(o,n,e,r).pipe((0,nt.U)(u=>(n._resolvedData=u,n.data=Xy(n,t).resolve,i&&Ww(i)&&(n.data[zr]=i.title),null)))}(u.route,r,n,e)),(0,Ce.b)(()=>o++),jt(1),(0,T.z)(u=>o===i.length?tt(t):Fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ce.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Ce.b)(m=>{const v=new qy(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),fv(h=>{const m=v=>{const D=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Ce.b)(S=>{v.component=S}),(0,nt.U)(()=>{})));for(const S of v.children)D.push(...m(S));return D};return Gl(m(h.targetSnapshot.root)).pipe(I(),hn(1))}),fv(()=>this.afterPreactivation()),(0,nt.U)(h=>{const m=function wI(n,e,t){const r=Jd(n,e._root,t?t._root:void 0);return new Ky(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),(0,Ce.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(r=>(new OI(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ce.b)({next(){o=!0},complete(){o=!0}}),js(()=>{o||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ye(h=>{if(u=!0,tc(h)){fg(h)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new lg(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(m),fg(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dg(i.source)};this.scheduleNavigation(v,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new Ew(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return Fr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:m}=r,v=i||this.routerState.root,D=m?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...o};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=o||null}return null!==S&&(S=this.removeEmptyProps(S)),Kt(v,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=P(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function lS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...aS}:!1===r?{...Qw}:r,P(t))return By(this.currentUrlTree,t,i);const o=this.parseUrl(t);return By(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let h,m,v;u?(h=u.resolve,m=u.reject,v=u.promise):v=new Promise((N,V)=>{h=N,m=V});const D=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:D,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new lg(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return Eg()},providedIn:"root"}),n})();function Dg(n){return"imperative"!==n}let Tg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Lt.x,this.subscription=t.events.subscribe(o=>{o instanceof vu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,u){return!!(0!==t||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jn),a.Y36(ca),a.Y36(we))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class Jw{}let dS=(()=>{class n{constructor(t,r,i,o,u){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vr(t=>t instanceof vu),le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,fn.D)(i).pipe((0,sa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):tt(null);const o=i.pipe((0,T.z)(u=>null===u?tt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,fn.D)([o,u]).pipe((0,sa.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Jw),a.LFG(Du))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ac=new a.OlP("");let ha=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Uf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ec&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ec(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ep(n,e){return{\u0275kind:n,\u0275providers:e}}function Sg(n){return[{provide:oc,multi:!0,useValue:n}]}function pv(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(Jn),i=n.get(fS);1===n.get(Ag)&&r.initialNavigation(),n.get(tC,null,a.XFs.Optional)?.setUpPreloading(),n.get(ac,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const fS=new a.OlP("",{factory:()=>new Lt.x}),Ag=new a.OlP("",{providedIn:"root",factory:()=>1});const tC=new a.OlP("");function vo(n){return ep(0,[{provide:tC,useExisting:dS},{provide:Jw,useExisting:n}])}const nC=new a.OlP("ROUTER_FORROOT_GUARD"),gS=[Oe,{provide:Ff,useClass:el},{provide:Jn,useFactory:Eg},zf,{provide:ca,useFactory:function hS(n){return n.routerState.root},deps:[Jn]},Du];function _S(){return new a.PXZ("Router",Jn)}let mv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gS,[],Sg(t),{provide:nC,useFactory:qt,deps:[[Jn,new a.FiY,new a.tp0]]},{provide:sc,useValue:r||{}},r?.useHash?{provide:we,useClass:Je}:{provide:we,useClass:Xe},{provide:ac,useFactory:()=>{const n=(0,a.f3M)(Jn),e=(0,a.f3M)(Md),t=(0,a.f3M)(sc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ha(n,e,t)}},r?.preloadingStrategy?vo(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:_S},r?.initialNavigation?rC(r):[],[{provide:gv,useFactory:pv},{provide:a.tb,multi:!0,useExisting:gv}]]}}static forChild(t){return{ngModule:n,providers:[Sg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nC,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pg]}),n})();function qt(n){return"guarded"}function rC(n){return["disabled"===n.initialNavigation?ep(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ag,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ep(2,[{provide:Ag,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const u=e.get(Jn),h=e.get(fS);(function i(o){e.get(Jn).events.pipe(vr(h=>h instanceof vu||h instanceof lg||h instanceof Ew),(0,nt.U)(h=>h instanceof vu||h instanceof lg&&(0===h.code||1===h.code)&&null),vr(h=>null!==h),hn(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),u.afterPreactivation=()=>(o(!0),r||h.closed?tt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const gv=new a.OlP("");var Mg=F(4986),nn=F(2122);function _v(){return(0,xn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function np(n,e=mo.y){return n=n??wS,(0,xn.e)((t,r)=>{let i,o=!0;t.subscribe((0,Gn.x)(r,u=>{const h=e(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}function wS(n,e){return n===e}var Ct,bo=F(2011),sC=(F(9568),F(3942)),be=F(5861),xr=F(9681),rp=F(4859),fa=F(1877),Wt=F(2090),CS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lc={},oC=oC||{},zt=CS||self;function ip(){}function yv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vv="closure_uid_"+(1e9*Math.random()>>>0),aC=0;function xg(n,e,t){return n.call.apply(n.bind,arguments)}function ES(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fi(n,e,t){return(fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xg:ES).apply(null,arguments)}function kg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function pi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function cc(){this.s=this.s,this.o=this.o}cc.prototype.s=!1,cc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ih(n){Object.prototype.hasOwnProperty.call(n,vv)&&n[vv]||(n[vv]=++aC)}(this)},cc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Rg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yv(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let u=0;u<o;u++)n[i+u]=r[u]}else n.push(r)}}function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};var uC=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",ip,e),zt.removeEventListener("test",ip,e)}catch{}return n}();function sh(n){return/^[\s\xa0]*$/.test(n)}var TS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function op(n,e){return n<e?-1:n>e?1:0}function Og(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function ll(n){return-1!=Og().indexOf(n)}function uc(n){return uc[" "](n),n}uc[" "]=ip;var oh,n,hC=ll("Opera"),cl=ll("Trident")||ll("MSIE"),Gs=ll("Edge"),Ng=Gs||cl,fC=ll("Gecko")&&!(-1!=Og().toLowerCase().indexOf("webkit")&&!ll("Edge"))&&!(ll("Trident")||ll("MSIE"))&&!ll("Edge"),bv=-1!=Og().toLowerCase().indexOf("webkit")&&!ll("Edge");function pa(){var n=zt.document;return n?n.documentMode:void 0}e:{var Pg="",ap=(n=Og(),fC?/rv:([^\);]+)(\)|;)/.exec(n):Gs?/Edge\/([\d\.]+)/.exec(n):cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bv?/WebKit\/(\S+)/.exec(n):hC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ap&&(Pg=ap?ap[1]:""),cl){var pC=pa();if(null!=pC&&pC>parseFloat(Pg)){oh=String(pC);break e}}oh=Pg}var mC={};var wv=zt.document&&cl&&(pa()||parseInt(oh,10))||void 0;function Iu(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fC){e:{try{uc(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Iu.X.h.call(this)}}pi(Iu,mi);var Cv={2:"touch",3:"pen",4:"mouse"};Iu.prototype.h=function(){Iu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fg="closure_listenable_"+(1e6*Math.random()|0),IS=0;function SS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++IS,this.ba=this.ea=!1}function Lg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ev(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Dv(n){const e={};for(const t in n)e[t]=n[t];return e}const AS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gC(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<AS.length;o++)t=AS[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Tv(n){this.src=n,this.g={},this.h=0}function Bg(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=lC(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Lg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vg(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}Tv.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Vg(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new SS(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var Iv="closure_lm_"+(1e6*Math.random()|0),cp={};function MS(n,e,t,r,i){if(r&&r.once)return kS(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)MS(n,e[o],t,r,i);return null}return t=ma(t),n&&n[Fg]?n.N(e,t,sp(r)?!!r.capture:!!r,i):xS(n,e,t,!1,r,i)}function xS(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var u=sp(i)?!!i.capture:!!i,h=yC(n);if(h||(n[Iv]=h=new Tv(n)),(t=h.add(e,t,r,u,o)).proxy)return t;if(r=function NR(){const e=PR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(OS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kS(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)kS(n,e[o],t,r,i);return null}return t=ma(t),n&&n[Fg]?n.O(e,t,sp(r)?!!r.capture:!!r,i):xS(n,e,t,!0,r,i)}function RS(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)RS(n,e[o],t,r,i);else r=sp(r)?!!r.capture:!!r,t=ma(t),n&&n[Fg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vg(o=n.g[e],t,r,i))&&(Lg(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=yC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vg(e,t,r,i)),(t=-1<n?e[n]:null)&&_C(t))}function _C(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Fg])Bg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(OS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yC(e))?(Bg(t,n),0==t.h&&(t.src=null,e[Iv]=null)):Lg(n)}}}function OS(n){return n in cp?cp[n]:cp[n]="on"+n}function PR(n,e){if(n.ba)n=!0;else{e=new Iu(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&_C(n),n=t.call(r,e)}return n}function yC(n){return(n=n[Iv])instanceof Tv?n:null}var vC="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(n){return"function"==typeof n?n:(n[vC]||(n[vC]=function(e){return n.handleEvent(e)}),n[vC])}function Br(){cc.call(this),this.i=new Tv(this),this.P=this,this.I=null}function gi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var i=e;gC(e=new mi(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];i=up(u,r,!0,e)&&i}if(i=up(u=e.g=n,r,!0,e)&&i,i=up(u,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=up(u=e.g=t[o],r,!1,e)&&i}function up(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ba&&u.capture==t){var h=u.listener,m=u.ha||u.src;u.ea&&Bg(n.i,u),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}pi(Br,cc),Br.prototype[Fg]=!0,Br.prototype.removeEventListener=function(n,e,t,r){RS(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lg(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dp=zt.JSON.stringify;function bC(){var n=TC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Av,wC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dc,n=>n.reset());class dc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CC(n){zt.setTimeout(()=>{throw n},0)}function EC(n,e){Av||function DC(){var n=zt.Promise.resolve(void 0);Av=function(){n.then(Ug)}}(),Mv||(Av(),Mv=!0),TC.add(n,e)}var Mv=!1,TC=new class Sv{constructor(){this.h=this.g=null}add(e,t){const r=wC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ug(){for(var n;n=bC();){try{n.h.call(n.g)}catch(t){CC(t)}var e=wC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mv=!1}function ul(n,e){Br.call(this),this.h=n||1,this.g=e||zt,this.j=fi(this.lb,this),this.l=Date.now()}function hp(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hc(n,e,t){if("function"==typeof n)t&&(n=fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function Hg(n){n.g=hc(()=>{n.g=null,n.i&&(n.i=!1,Hg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pi(ul,Br),(Ct=ul.prototype).ca=!1,Ct.R=null,Ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gi(this,"tick"),this.ca&&(hp(this),this.start()))}},Ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){ul.X.M.call(this),hp(this),delete this.g};class jg extends cc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hg(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lh(n){cc.call(this),this.h=n,this.g={}}pi(lh,cc);var xv=[];function $g(n,e,t,r){Array.isArray(t)||(t&&(xv[0]=t.toString()),t=xv);for(var i=0;i<t.length;i++){var o=MS(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function zg(n){Ev(n.g,function(e,t){this.g.hasOwnProperty(t)&&_C(e)},n),n.g={}}function fp(){this.g=!0}function pp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return dp(t)}catch{return e}}(n,t)+(r?" "+r:"")})}lh.prototype.M=function(){lh.X.M.call(this),zg(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fp.prototype.Aa=function(){this.g=!1},fp.prototype.info=function(){};var Su={},Rv=null;function mp(){return Rv=Rv||new Br}function SC(n){mi.call(this,Su.Pa,n)}function _i(n){const e=mp();gi(e,new SC(e))}function Ov(n,e){mi.call(this,Su.STAT_EVENT,n),this.stat=e}function Ui(n){const e=mp();gi(e,new Ov(e,n))}function FS(n,e){mi.call(this,Su.Qa,n),this.size=e}function gp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}Su.Pa="serverreachability",pi(SC,mi),Su.STAT_EVENT="statevent",pi(Ov,mi),Su.Qa="timingevent",pi(FS,mi);var ch={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Nv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Pv(){}function MC(){}Pv.prototype.h=null;var Lv,uh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fv(){mi.call(this,"d")}function Gg(){mi.call(this,"c")}function qg(){}function dh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new lh(this),this.O=LS,this.T=new ul(n=Ng?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bv}function Bv(){this.i=null,this.g="",this.h=!1}pi(Fv,mi),pi(Gg,mi),pi(qg,Pv),qg.prototype.g=function(){return new XMLHttpRequest},qg.prototype.i=function(){return{}},Lv=new qg;var LS=45e3,qs={},hh={};function Vv(n,e,t){n.K=1,n.v=Mu(ga(e)),n.s=t,n.P=!0,xC(n,null)}function xC(n,e){n.F=Date.now(),_p(n),n.A=ga(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),NC(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Bv,n.g=xp(n.l,t?e:null,!n.s),0<n.N&&(n.L=new jg(fi(n.La,n,n.g),n.N)),$g(n.S,n.g,"readystatechange",n.ib),e=n.H?Dv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),_i(),function kv(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var D=v[0];v=v[1];var S=D.split("_");u=2<=S.length&&"type"==S[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function BS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Uv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=VS(n,t),i==hh){4==e&&(n.o=4,Ui(14),r=!1),pp(n.j,n.m,null,"[Incomplete Response]");break}if(i==qs){n.o=4,Ui(15),pp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}pp(n.j,n.m,i,null),ph(n,i)}BS(n)&&i!=hh&&i!=qs&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),r_(e),e.K=!0,Ui(11))):(pp(n.j,n.m,t,"[Invalid Chunked Response]"),Au(n),yp(n))}function VS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hh:(t=Number(e.substring(t,r)),isNaN(t)?qs:(r+=1)+t>e.length?hh:(e=e.substr(r,t),n.C=r+t,e))}function _p(n){n.V=Date.now()+n.O,kC(n,n.O)}function kC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gp(fi(n.gb,n),e)}function fh(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function yp(n){0==n.l.G||n.I||jC(n.l,n)}function Au(n){fh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hp(n.T),zg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ph(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jv(t.h,n)))if(!n.J&&jv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;yh(t),Ip(t)}Kv(t),Ui(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=gp(fi(t.cb,t),6e3));if(1>=FC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else _a(t,11)}else if((n.J||t.g==n)&&yh(t),!sh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const D=v[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const S=v[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.J=r=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const z=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var o=r.h;o.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($v(o,o.h),o.h=null))}if(r.D){const ee=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.za=ee,Cn(r.F,r.D,ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=$C(r,r.H?r.ka:null,r.V),u.J){LC(r.h,u);var h=u,m=r.J;m&&h.setTimeout(m),h.B&&(fh(h),_p(h)),r.g=u}else Yv(r);0<t.i.length&&Sp(t)}else"stop"!=v[0]&&"close"!=v[0]||_a(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?_a(t,7):n_(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}_i()}catch{}}function US(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wg(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Hv(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Ct=dh.prototype).setTimeout=function(n){this.O=n},Ct.ib=function(n){n=n.target;const e=this.L;e&&3==es(n)?e.l():this.La(n)},Ct.La=function(n){try{if(n==this.g)e:{const D=es(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||Ng||this.g&&(this.h.h||this.g.fa()||Fu(this.g)))){this.I||4!=D||7==e||_i(),fh(this);var t=this.g.aa();this.Y=t;t:if(BS(this)){var r=Fu(this.g);n="";var i=r.length,o=4==es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Au(this),yp(this);var u="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function NS(n,e,t,r,i,o,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sh(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ui(12),Au(this),yp(this);break e}pp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ph(this,t)}this.P?(Uv(this,D,u),Ng&&this.i&&3==D&&($g(this.S,this.T,"tick",this.hb),this.T.start())):(pp(this.j,this.m,u,null),ph(this,u)),4==D&&Au(this),this.i&&!this.I&&(4==D?jC(this.l,this):(this.i=!1,_p(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ui(12)):(this.o=0,Ui(13)),Au(this),yp(this)}}}catch{}},Ct.hb=function(){if(this.g){var n=es(this.g),e=this.g.fa();this.C<e.length&&(fh(this),Uv(this,n,e),this.i&&4!=n&&_p(this))}},Ct.cancel=function(){this.I=!0,Au(this)},Ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function PS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_i(),Ui(17)),Au(this),this.o=2,yp(this)):kC(this,this.V-n)};var Zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fc){this.h=void 0!==e?e:n.h,vp(this,n.j),this.s=n.s,this.g=n.g,bp(this,n.m),this.l=n.l,e=n.i;var t=new Cp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Yg(this,t),this.o=n.o}else n&&(t=String(n).match(Zg))?(this.h=!!e,vp(this,t[1]||"",!0),this.s=pc(t[2]||""),this.g=pc(t[3]||"",!0),bp(this,t[4]),this.l=pc(t[5]||"",!0),Yg(this,t[6]||"",!0),this.o=pc(t[7]||"")):(this.h=!!e,this.i=new Cp(null,this.h))}function ga(n){return new fc(n)}function vp(n,e,t){n.j=t?pc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Yg(n,e,t){e instanceof Cp?(n.i=e,function GS(n,e){e&&!n.j&&(xu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OC(this,r),NC(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dl(e,$S)),n.i=new Cp(e,n.h))}function Cn(n,e,t){n.i.set(e,t)}function Mu(n){return Cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,HS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function HS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dl(e,Kg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dl(e,Kg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dl(t,"/"==t.charAt(0)?jS:RC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dl(t,wp)),n.join("")};var Kg=/[#\/\?@]/g,RC=/[#\?:]/g,jS=/[#\?]/g,$S=/[#\?@]/g,wp=/#/g;function Cp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xu(n){n.g||(n.g=new Map,n.h=0,n.i&&function FR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OC(n,e){xu(n),e=mh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zS(n,e){return xu(n),e=mh(n,e),n.g.has(e)}function NC(n,e,t){OC(n,e),0<t.length&&(n.i=null,n.g.set(mh(n,e),Rg(t)),n.h+=t.length)}function mh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qg(n){this.l=n||qS,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ct=Cp.prototype).add=function(n,e){xu(this),this.i=null,n=mh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ct.forEach=function(n,e){xu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ct.oa=function(){xu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Ct.W=function(n){xu(this);let e=[];if("string"==typeof n)zS(this,n)&&(e=e.concat(this.g.get(mh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ct.set=function(n,e){return xu(this),this.i=null,zS(this,n=mh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=o;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var qS=10;function Xg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FC(n){return n.h?1:n.g?n.g.size:0}function jv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $v(n,e){n.g?n.g.add(e):n.h=e}function LC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function BC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Rg(n.i)}function zv(){}function Jg(){this.g=new zv}function ku(n,e,t){const r=t||"";try{US(n,function(i,o){let u=i;sp(i)&&(u=dp(i)),e.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ep(n){this.l=n.ac||null,this.j=n.jb||!1}function e_(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qg.prototype.cancel=function(){if(this.i=BC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zv.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},zv.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},pi(Ep,Pv),Ep.prototype.g=function(){return new e_(this.l,this.j)},Ep.prototype.i=function(n){return function(){return n}}({}),pi(e_,Br);var Dp=0;function VC(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ji(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hl(n)}function hl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ct=e_.prototype).open=function(n,e){if(this.readyState!=Dp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hl(this)},Ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ji(this)),this.readyState=Dp},Ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VC(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ji(this):hl(this),3==this.readyState&&VC(this)}},Ct.Va=function(n){this.g&&(this.response=this.responseText=n,Ji(this))},Ct.Ua=function(n){this.g&&(this.response=n,Ji(this))},Ct.ga=function(){this.g&&Ji(this)},Ct.setRequestHeader=function(n,e){this.v.append(n,e)},Ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(e_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ki=zt.JSON.parse;function Un(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tp,this.K=this.L=!1}pi(Un,Br);var Tp="",Ws=/^https?$/i,Gv=["POST","PUT"];function Ru(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ou(n),fl(n)}function Ou(n){n.D||(n.D=!0,gi(n,"complete"),gi(n,"error"))}function Nu(n){if(n.h&&typeof oC<"u"&&(!n.C[1]||4!=es(n)||2!=n.aa()))if(n.v&&4==es(n))hc(n.Ha,0,n);else if(gi(n,"readystatechange"),4==es(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(Zg)[1]||null;if(!i&&zt.self&&zt.self.location){var o=zt.self.location.protocol;i=o.substr(0,o.length-1)}r=!Ws.test(i?i.toLowerCase():"")}t=r}if(t)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var u=2<es(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Ou(n)}}finally{fl(n)}}}function fl(n,e){if(n.g){Pu(n);const t=n.g,r=n.C[0]?ip:null;n.g=null,n.C=null,e||gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function Pu(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function es(n){return n.g?n.g.readyState:0}function Fu(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(n){let e="";return Ev(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function t_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Lu(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cn(n,e,t))}function _h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qv(n){this.Ca=0,this.i=[],this.j=new fp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=_h("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=_h("baseRetryDelayMs",5e3,n),this.bb=_h("retryDelaySeedMs",1e4,n),this.$a=_h("forwardChannelMaxRetries",2,n),this.ta=_h("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Qg(n&&n.concurrentRequestLimit),this.Fa=new Jg,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function n_(n){if(Wv(n),3==n.G){var e=n.U++,t=ga(n.F);Cn(t,"SID",n.I),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),Ap(n,t),(e=new dh(n,n.j,e,void 0)).K=2,e.v=Mu(ga(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=xp(e.l,null),e.g.da(e.v)),e.F=Date.now(),_p(e)}s_(n)}function Ip(n){n.g&&(r_(n),n.g.cancel(),n.g=null)}function Wv(n){Ip(n),n.u&&(zt.clearTimeout(n.u),n.u=null),yh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Sp(n){Xg(n.h)||n.m||(n.m=!0,EC(n.Ja,n),n.C=0)}function Zv(n,e){var t;t=e?e.m:n.U++;const r=ga(n.F);Cn(r,"SID",n.I),Cn(r,"RID",t),Cn(r,"AID",n.T),Ap(n,r),n.o&&n.s&&t_(r,n.o,n.s),t=new dh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=HC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),$v(n.h,t),Vv(t,r,e)}function Ap(n,e){n.ia&&Ev(n.ia,function(t,r){Cn(e,r,t)}),n.l&&US({},function(t,r){Cn(e,r,t)})}function HC(n,e,t){t=Math.min(n.i.length,t);var r=n.l?fi(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let m=0;m<t;m++){let v=i[m].h;const D=i[m].g;if(v-=o,0>v)o=Math.max(0,i[m].h-100),h=!1;else try{ku(D,u,"req"+v+"_")}catch{r&&r(D)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Yv(n){n.g||n.u||(n.Z=1,EC(n.Ia,n),n.A=0)}function Kv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=gp(fi(n.Ia,n),Mp(n,n.A)),n.A++,0))}function r_(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function i_(n){n.g=new dh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ga(n.sa);Cn(e,"RID","rpc"),Cn(e,"SID",n.I),Cn(e,"CI",n.L?"0":"1"),Cn(e,"AID",n.T),Cn(e,"TYPE","xmlhttp"),Ap(n,e),n.o&&n.s&&t_(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Mu(ga(e)),t.s=null,t.P=!0,xC(t,n)}function yh(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function jC(n,e){var t=null;if(n.g==e){yh(n),r_(n),n.g=null;var r=2}else{if(!jv(n.h,e))return;t=e.D,LC(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;gi(r=mp(),new FS(r,t)),Sp(n)}else Yv(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function UC(n,e){return!(FC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=gp(fi(n.Ja,n,e),Mp(n,n.C)),n.C++,0)))}(n,e)||2==r&&Kv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:_a(n,5);break;case 4:_a(n,10);break;case 3:_a(n,6);break;default:_a(n,2)}}function Mp(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function _a(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=fi(n.kb,n);t||(t=new fc("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||vp(t,"https"),Mu(t)),function LR(n,e){const t=new fp;if(zt.Image){const r=new Image;r.onload=kg(mc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kg(mc,t,r,"TestLoadImage: error",!1,e),r.onabort=kg(mc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kg(mc,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ui(2);n.G=0,n.l&&n.l.va(e),s_(n),Wv(n)}function s_(n){if(n.G=0,n.la=[],n.l){const e=BC(n.h);(0!=e.length||0!=n.i.length)&&(cC(n.la,e),cC(n.la,n.i),n.h.i.length=0,Rg(n.i),n.i.length=0),n.l.ua()}}function $C(n,e,t){var r=t instanceof fc?ga(t):new fc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),bp(r,r.m);else{var i=zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fc(null,void 0);r&&vp(o,r),e&&(o.g=e),i&&bp(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&Cn(r,t,e),Cn(r,"VER",n.ma),Ap(n,r),r}function xp(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t&&n.Da&&!n.ra?new Ep({jb:!0}):n.ra)).Ka(n.H),e}function kp(){}function vh(){if(cl&&!(10<=Number(wv)))throw Error("Environmental error: no available transport.")}function ts(n,e){Br.call(this),this.g=new qv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!sh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Bu(this)}function o_(n){Fv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Qv(){Gg.call(this),this.status=1}function Bu(n){this.g=n}(Ct=Un.prototype).Ka=function(n){this.L=n},Ct.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lv.g(),this.C=function AC(n){return n.h||(n.h=n.i())}(this.u?this.u:Lv),this.g.onreadystatechange=fi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void Ru(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=zt.FormData&&n instanceof zt.FormData,!(0<=lC(Gv,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pu(this),0<this.B&&((this.K=function gh(n){return cl&&function OR(){return function dC(n){var e=mC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=TS(String(oh)).split("."),t=TS("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",o=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=op(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||op(0==i[2].length,0==o[2].length)||op(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fi(this.qa,this)):this.A=hc(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Ru(this,o)}},Ct.qa=function(){typeof oC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},Ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),fl(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fl(this,!0)),Un.X.M.call(this)},Ct.Ha=function(){this.s||(this.F||this.v||this.l?Nu(this):this.fb())},Ct.fb=function(){Nu(this)},Ct.aa=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},Ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ki(e)}},Ct.Ea=function(){return this.m},Ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=qv.prototype).ma=8,Ct.G=1,Ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new dh(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Dv(o),gC(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HC(this,i,e),Cn(t=ga(this.F),"RID",n),Cn(t,"CVER",22),this.D&&Cn(t,"X-HTTP-Session-Id",this.D),Ap(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(Lu(o)))+"&"+e:this.o&&t_(t,this.o,o)),$v(this.h,i),this.Ya&&Cn(t,"TYPE","init"),this.O?(Cn(t,"$req",e),Cn(t,"SID","null"),i.Z=!0,Vv(i,t,null)):Vv(i,t,e),this.G=2}}else 3==this.G&&(n?Zv(this,n):0==this.i.length||Xg(this.h)||Zv(this))},Ct.Ia=function(){if(this.u=null,i_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=gp(fi(this.eb,this),n)}},Ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ui(10),Ip(this),i_(this))},Ct.cb=function(){null!=this.v&&(this.v=null,Ip(this),Kv(this),Ui(19))},Ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ui(2)):(this.j.info("Failed to ping google.com"),Ui(1))},(Ct=kp.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Ra=function(){},vh.prototype.g=function(n,e){return new ts(n,e)},pi(ts,Br),ts.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ui(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=$C(n,null,n.V),Sp(n)},ts.prototype.close=function(){n_(this.g)},ts.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dp(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Sp(e)},ts.prototype.M=function(){this.g.l=null,delete this.j,n_(this.g),delete this.g,ts.X.M.call(this)},pi(o_,Fv),pi(Qv,Gg),pi(Bu,kp),Bu.prototype.xa=function(){gi(this.g,"a")},Bu.prototype.wa=function(n){gi(this.g,new o_(n))},Bu.prototype.va=function(n){gi(this.g,new Qv)},Bu.prototype.ua=function(){gi(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,ch.NO_ERROR=0,ch.TIMEOUT=8,ch.HTTP_ERROR=6,Nv.COMPLETE="complete",MC.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",Br.prototype.listen=Br.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.Oa,Un.prototype.getLastErrorCode=Un.prototype.Ea,Un.prototype.getStatus=Un.prototype.aa,Un.prototype.getResponseJson=Un.prototype.Sa,Un.prototype.getResponseText=Un.prototype.fa,Un.prototype.send=Un.prototype.da,Un.prototype.setWithCredentials=Un.prototype.Ka;var Xv=lc.createWebChannelTransport=function(){return new vh},zC=lc.getStatEventTarget=function(){return mp()},Jv=lc.ErrorCode=ch,GC=lc.EventType=Nv,qC=lc.Event=Su,eb=lc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},WC=lc.FetchXmlHttpFactory=Ep,a_=lc.WebChannel=MC,ZC=lc.XhrIo=Un;const tb="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let gc="9.16.0";const pl=new fa.Yd("@firebase/firestore");function l_(){return pl.logLevel}function He(n,...e){if(pl.logLevel<=fa.in.DEBUG){const t=e.map(c_);pl.debug(`Firestore (${gc}): ${n}`,...t)}}function br(n,...e){if(pl.logLevel<=fa.in.ERROR){const t=e.map(c_);pl.error(`Firestore (${gc}): ${n}`,...t)}}function _c(n,...e){if(pl.logLevel<=fa.in.WARN){const t=e.map(c_);pl.warn(`Firestore (${gc}): ${n}`,...t)}}function c_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function vt(n,e){n||ct()}function Qe(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Wt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class on{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class YS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new on;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new on,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,be.Z)(function*(){yield v.promise,yield o(r.currentUser)}))},m=v=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new on)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt("string"==typeof r.accessToken),new nb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new Vr(e)}}class KS{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class QC{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new KS(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bh{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,He("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.A=t.token,new rb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ib{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function Vu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function XS(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new qn(0,0))}static max(){return new Et(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ns{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ns.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),u=t.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends ns{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ns{construct(e,t,r){return new Sn(e,t,r)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(pn.fromString(e))}static fromName(e){return new Ge(pn.fromString(e).popFirst(5))}static empty(){return new Ge(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new pn(e.slice()))}}class rs{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function u_(n){return n.fields.find(e=>2===e.kind)}function yc(n){return n.fields.filter(e=>2!==e.kind)}rs.UNKNOWN_ID=-1;class d_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rp(0,Es.min())}}function h_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new Es(i,Ge.empty(),e)}function wh(n){return new Es(n.readTime,n.key,-1)}class Es{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Es(Et.min(),Ge.empty(),-1)}static max(){return new Es(Et.max(),Ge.empty(),-1)}}function f_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ml(n){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==JC)throw n;He("LocalStore","Unexpectedly lost primary lease")}),Ch.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},m=>r(m))}),u=!0,o===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next(D=>{u[v]=D,++h,h===o&&r(u)},D=>i(D))}})}static doWhile(e,t){return new he((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class Op{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new on,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vc(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=p_(r.target.error);this.P.reject(new vc(e,i))}}static open(e,t,r,i){try{return new Op(t,e.transaction(i,r))}catch(o){throw new vc(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eE(t)}}class Zs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Zs.D((0,Wt.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),bc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Wt.hl)())return!1;if(Zs.N())return!0;const e=(0,Wt.z$)(),t=Zs.D(e),r=0<t&&t<10,i=Zs.k(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{r(u.target.result)},o.onblocked=()=>{i(new vc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Fe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new vc(e,h))},o.onupgradeneeded=u=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,be.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.F(e);const m=Op.open(o.db,e,u?"readonly":"readwrite",r),v=i(m).next(D=>(m.V(),D)).catch(D=>(m.abort(D),he.reject(D))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,D="FirebaseError"!==v.name&&h<3;if(He("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),o.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ob{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return bc(this.q.delete())}}class vc extends Fe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gl(n){return"IndexedDbTransactionError"===n.name}class eE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bc(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),bc(this.store.add(e))}get(e){return bc(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),bc(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),bc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.H(i,(u,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(r.range);return new he((o,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=o=>{const u=p_(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new he((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const m=new ob(h),v=t(h.primaryKey,h.value,m);if(v instanceof he){const D=v.catch(S=>(m.done(),he.reject(S)));r.push(D)}m.isDone?i():null===m.G?h.continue():h.continue(m.G)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bc(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=p_(r.target.error);t(i)}})}let ab=!1;function p_(n){const e=Zs.D((0,Wt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ab||(ab=!0,setTimeout(()=>{throw r},0)),r}}return n}class tE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){gl(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ml(r)}yield t.nt(6e4)}))}}class nE{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,o=!0;return he.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return He("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,o)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=wh(o);f_(u,r)>0&&(r=u)}),new Es(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let is=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class rE{constructor(e,t,r,i,o,u,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}function iE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Np(n){return null==n}function Pp(n){return 0===n&&1/n==-1/0}function oE(n){return"number"==typeof n&&Number.isInteger(n)&&!Pp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const nA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(n){if(vt(!!n),"string"==typeof n){let e=0;const t=nA.exec(n);if(vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hu(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function lb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aE(n){const e=n.mapValue.fields.__previous_value__;return lb(e)?aE(e):e}function Fp(n){const e=Cc(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}const Ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lp={nullValue:"NULL_VALUE"};function Dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lb(n)?4:rA(n)?9007199254740991:10:ct()}function wo(n,e){if(n===e)return!0;const t=Dc(n);if(t!==Dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Cc(r.timestampValue),u=Cc(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Hu(n.bytesValue).isEqual(Hu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return wr(r.geoPointValue.latitude)===wr(i.geoPointValue.latitude)&&wr(r.geoPointValue.longitude)===wr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return wr(r.integerValue)===wr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=wr(r.doubleValue),u=wr(i.doubleValue);return o===u?Pp(o)===Pp(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Vu(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(iE(o)!==iE(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!wo(o[h],u[h])))return!1;return!0}(n,e);default:return ct()}var i}function Eh(n,e){return void 0!==(n.values||[]).find(t=>wo(t,e))}function _l(n,e){if(n===e)return 0;const t=Dc(n),r=Dc(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(i,o){const u=wr(i.integerValue||i.doubleValue),h=wr(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return cb(n.timestampValue,e.timestampValue);case 4:return cb(Fp(n),Fp(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(i,o){const u=Hu(i),h=Hu(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),h=o.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=Gt(u[m],h[m]);if(0!==v)return v}return Gt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const u=Gt(wr(i.latitude),wr(o.latitude));return 0!==u?u:Gt(wr(i.longitude),wr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const u=i.values||[],h=o.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=_l(u[m],h[m]);if(v)return v}return Gt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ec.mapValue&&o===Ec.mapValue)return 0;if(i===Ec.mapValue)return 1;if(o===Ec.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),m=o.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let D=0;D<h.length&&D<v.length;++D){const S=Gt(h[D],v[D]);if(0!==S)return S;const N=_l(u[h[D]],m[v[D]]);if(0!==N)return N}return Gt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw ct()}}function cb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Cc(n),r=Cc(e),i=Gt(t.seconds,r.seconds);return 0!==i?i:Gt(t.nanos,r.nanos)}function ju(n){return m_(n)}function m_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Cc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hu(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=m_(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${m_(r.fields[h])}`;return o+"}"}(n.mapValue):ct();var e}function Tc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bp(n){return!!n&&"integerValue"in n}function $u(n){return!!n&&"arrayValue"in n}function Ic(n){return!!n&&"nullValue"in n}function lE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function g_(n){return!!n&&"mapValue"in n}function ya(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ya(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ya(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rA(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ub(n){return"nullValue"in n?Lp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tc(wc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function VR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tc(wc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ec:ct()}function db(n,e){const t=_l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hb(n,e){const t=_l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zu{constructor(e,t){this.position=e,this.inclusive=t}}function Mt(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(r=o.field.isKeyField()?Ge.comparator(Ge.fromName(u.referenceValue),t.key):_l(u,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function cE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}class uE{}class un extends uE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new fE(e,t,r):"array-contains"===t?new iA(e,r):"in"===t?new gE(e,r):"not-in"===t?new sA(e,r):"array-contains-any"===t?new Vp(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new pE(e,r):new mE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_l(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.matchesComparison(_l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mn extends uE{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new mn(e,t)}matches(e){return Dh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dh(n){return"and"===n.op}function Th(n){return"or"===n.op}function Ih(n){return mr(n)&&Dh(n)}function mr(n){for(const e of n.filters)if(e instanceof mn)return!1;return!0}function dE(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+ju(n.value);if(Ih(n))return n.filters.map(e=>dE(e)).join(",");{const e=n.filters.map(t=>dE(t)).join(",");return`${n.op}(${e})`}}function fb(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&wo(t.value,r.value)):n instanceof mn?function(t,r){return r instanceof mn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,u)=>i&&fb(o,r.filters[u]),!0)}(n,e):void ct();var t,r}function pb(n,e){const t=n.filters.concat(e);return mn.create(t,n.op)}function hE(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${ju(e.value)}`:n instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(hE).join(" ,")+"}"}(n):"Filter";var e}class fE extends un{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class pE extends un{constructor(e,t){super(e,"in",t),this.keys=mb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mE extends un{constructor(e,t){super(e,"not-in",t),this.keys=mb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class iA extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $u(t)&&Eh(t.arrayValue,this.value)}}class gE extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eh(this.value.arrayValue,t)}}class sA extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eh(this.value.arrayValue,t)}}class Vp extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$u(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}class Sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function oA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Cr{constructor(e,t){this.comparator=e,this.root=t||ti.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ti.RED,this.left=i??ti.EMPTY,this.right=o??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ti(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1,ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(e){return new gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ah(n){return n.hasNext()?n.getNext():void 0}class ni{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ni([])}unionWith(e){let t=new Fn(Sn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!g_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(t)}setAll(e){let t=Sn.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=ya(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());g_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];g_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kr(ya(this.value))}}function _E(n){const e=[];return Uu(n.fields,(t,r)=>{const i=new Sn([t]);if(g_(r)){const o=_E(r.mapValue).fields;if(0===o.length)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ni(e)}class er{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new er(e,0,Et.min(),Et.min(),Et.min(),kr.empty(),0)}static newFoundDocument(e,t,r,i){return new er(e,1,t,Et.min(),r,i,0)}static newNoDocument(e,t){return new er(e,2,t,Et.min(),Et.min(),kr.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Et.min(),Et.min(),kr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aA{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function __(n,e=null,t=[],r=[],i=null,o=null,u=null){return new aA(n,e,t,r,i,o,u)}function Sc(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ju(r)).join(",")),e.ft=t}return e.ft}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cE(n.startAt,e.startAt)&&cE(n.endAt,e.endAt)}function y_(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Up(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function yE(n,e,t){let r=Lp,i=!0;for(const o of Up(n,e)){let u=Lp,h=!0;switch(o.op){case"<":case"<=":u=ub(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Lp}db({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];db({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function vE(n,e,t){let r=Ec,i=!0;for(const o of Up(n,e)){let u=Ec,h=!0;switch(o.op){case">=":case">":u=VR(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ec}hb({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];hb({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Ac{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.dt=null,this._t=null}}function lA(n,e,t,r,i,o,u,h){return new Ac(n,e,t,r,i,o,u,h)}function Hp(n){return new Ac(n)}function cA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function v_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qu(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _b(n){return null!==n.collectionGroup}function Wu(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=qu(e),r=v_(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Sh(t)),e.dt.push(new Sh(Sn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Sh(Sn.keyField(),o))}}}return e.dt}function Ri(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=__(e.path,e.collectionGroup,Wu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Wu(e))t.push(new Sh(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new zu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zu(e.startAt.position,e.startAt.inclusive):null;e._t=__(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Zu(n,e){e.getFirstInequalityField(),qu(n);const t=n.filters.concat([e]);return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b_(n,e,t){return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jp(n,e){return Mh(Ri(n),Ri(e))&&n.limitType===e.limitType}function bE(n){return`${Sc(Ri(n))}|lt:${n.limitType}`}function yb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>hE(r)).join(", ")}]`),Np(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ju(r)).join(",")),`Target(${t})`}(Ri(n))}; limitType=${n.limitType})`}function vb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Wu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,u){const h=Mt(i,o,u);return i.inclusive?h<=0:h<0}(t.startAt,Wu(t),r)||t.endAt&&!function(i,o,u){const h=Mt(i,o,u);return i.inclusive?h>=0:h>0}(t.endAt,Wu(t),r)));var t,r}function bb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wE(n){return(e,t)=>{let r=!1;for(const i of Wu(n)){const o=uA(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function uA(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,o,u){const h=o.data.field(i),m=u.data.field(i);return null!==h&&null!==m?_l(h,m):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function xh(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pp(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function wb(n,e){return oE(e)?CE(e):xh(n,e)}class w_{constructor(){this._=void 0}}function EE(n,e,t){return n instanceof kh?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof yl?DE(n,e):n instanceof Mc?Eb(n,e):function(r,i){const o=Cb(r,i),u=TE(o)+TE(r.gt);return Bp(o)&&Bp(r.gt)?CE(u):xh(r.yt,u)}(n,e)}function dA(n,e,t){return n instanceof yl?DE(n,e):n instanceof Mc?Eb(n,e):t}function Cb(n,e){return n instanceof Rh?Bp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kh extends w_{}class yl extends w_{constructor(e){super(),this.elements=e}}function DE(n,e){const t=IE(e);for(const r of n.elements)t.some(i=>wo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mc extends w_{constructor(e){super(),this.elements=e}}function Eb(n,e){let t=IE(e);for(const r of n.elements)t=t.filter(i=>!wo(i,r));return{arrayValue:{values:t}}}class Rh extends w_{constructor(e,t){super(),this.yt=e,this.gt=t}}function TE(n){return wr(n.integerValue||n.doubleValue)}function IE(n){return $u(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yu{constructor(e,t){this.field=e,this.transform=t}}class SE{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class E_{}function AE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Oh(n.key,sr.none()):new Ku(n.key,n.data,sr.none());{const t=n.data,r=kr.empty();let i=new Fn(Sn.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?r.delete(o):r.set(o,u),i=i.add(o)}return new va(n.key,r,new ni(i.toArray()),sr.none())}}function fA(n,e,t){n instanceof Ku?function(r,i,o){const u=r.value.clone(),h=kE(r.fieldTransforms,i,o.transformResults);u.setAll(h),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof va?function(r,i,o){if(!C_(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=kE(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(xE(r)),h.setAll(u),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $p(n,e,t,r){return n instanceof Ku?function(i,o,u,h){if(!C_(i.precondition,o))return u;const m=i.value.clone(),v=Db(i.fieldTransforms,h,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof va?function(i,o,u,h){if(!C_(i.precondition,o))return u;const m=Db(i.fieldTransforms,h,o),v=o.data;return v.setAll(xE(i)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(u=t,C_(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function pA(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Cb(r.transform,i||null);null!=o&&(null===t&&(t=kr.empty()),t.set(r.field,o))}return t||null}function ME(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vu(t,r,(i,o)=>function hA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yl&&r instanceof yl||t instanceof Mc&&r instanceof Mc?Vu(t.elements,r.elements,wo):t instanceof Rh&&r instanceof Rh?wo(t.gt,r.gt):t instanceof kh&&r instanceof kh);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ku extends E_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class va extends E_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kE(n,e,t){const r=new Map;vt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,dA(u,h,t[i]))}return r}function Db(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,EE(o,u,e))}return r}class Oh extends E_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tb extends E_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mA{constructor(e){this.count=e}}var Er,dn;function Ib(n){switch(n){default:return ct();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function D_(n){if(void 0===n)return br("GRPC error has no .code"),me.UNKNOWN;switch(n){case Er.OK:return me.OK;case Er.CANCELLED:return me.CANCELLED;case Er.UNKNOWN:return me.UNKNOWN;case Er.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Er.INTERNAL:return me.INTERNAL;case Er.UNAVAILABLE:return me.UNAVAILABLE;case Er.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Er.NOT_FOUND:return me.NOT_FOUND;case Er.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Er.ABORTED:return me.ABORTED;case Er.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Er.DATA_LOSS:return me.DATA_LOSS;default:return ct()}}(dn=Er||(Er={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class xc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}const gA=new Cr(Ge.comparator);function Oi(){return gA}const RE=new Cr(Ge.comparator);function Nh(...n){let e=RE;for(const t of n)e=e.insert(t.key,t);return e}function Qu(n){let e=RE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Co(){return T_()}function OE(){return T_()}function T_(){return new xc(n=>n.toString(),(n,e)=>n.isEqual(e))}const NE=new Cr(Ge.comparator),Sb=new Fn(Ge.comparator);function Qt(...n){let e=Sb;for(const t of n)e=e.add(t);return e}const Ab=new Fn(Gt);function I_(){return Ab}class Ph{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ph(Et.min(),i,I_(),Oi(),Qt())}}class Xu{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xu(r,t,Qt(),Qt(),Qt())}}class zp{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class Mb{constructor(e,t){this.targetId=e,this.Et=t}}class xb{constructor(e,t,r=Gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class kb{constructor(){this.At=0,this.Rt=FE(),this.bt=Gr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Qt(),t=Qt(),r=Qt();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new Xu(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=FE()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class _A{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Oi(),this.qt=PE(),this.Ut=new Fn(Gt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const o=i.target;if(y_(o))if(0===r){const u=new Ge(o.path);this.Qt(t,u,er.newNoDocument(u,Et.min()))}else vt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,u)=>{const h=this.Yt(u);if(h){if(o.current&&y_(h.target)){const m=new Ge(h.target.path);null!==this.Lt.get(m)||this.te(u,m)||this.Qt(u,m,er.newNoDocument(m,e))}o.St&&(t.set(u,o.Ct()),o.xt())}});let r=Qt();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.Yt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(e));const i=new Ph(e,t,this.Ut,this.Lt,r);return this.Lt=Oi(),this.qt=PE(),this.Ut=new Fn(Gt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new kb,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Fn(Gt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new kb),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function PE(){return new Cr(Ge.comparator)}function FE(){return new Cr(Ge.comparator)}const yA={asc:"ASCENDING",desc:"DESCENDING"},LE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class BE{constructor(e,t){this.databaseId=e,this.wt=t}}function Fh(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(n,e){return n.wt?e.toBase64():e.toUint8Array()}function HR(n,e){return Fh(n,e.toTimestamp())}function Ur(n){return vt(!!n),Et.fromTimestamp(function(e){const t=Cc(e);return new qn(t.seconds,t.nanos)}(n))}function Rb(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UE(n){const e=pn.fromString(n);return vt(ZE(e)),e}function Gp(n,e){return Rb(n.databaseId,e.path)}function Eo(n,e){const t=UE(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(jE(t))}function S_(n,e){return Rb(n.databaseId,e)}function HE(n){const e=UE(n);return 4===e.length?pn.emptyPath():jE(e)}function qp(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jE(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $E(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function zE(n,e,t){const r=Eo(n,e.name),i=Ur(e.updateTime),o=e.createTime?Ur(e.createTime):Et.min(),u=new kr({mapValue:{fields:e.fields}}),h=er.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function vl(n,e){let t;if(e instanceof Ku)t={update:$E(n,e.key,e.value)};else if(e instanceof Oh)t={delete:Gp(n,e.key)};else if(e instanceof va)t={update:$E(n,e.key,e.data),updateMask:Wp(e.fieldMask)};else{if(!(e instanceof Tb))return ct();t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof kh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rh)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:HR(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ct()),t;var i}function A_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?sr.updateTime(Ur(i.updateTime)):void 0!==i.exists?sr.exists(i.exists):sr.none():sr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,u){let h=null;"setToServerValue"in u?(vt("REQUEST_TIME"===u.setToServerValue),h=new kh):"appendMissingElements"in u?h=new yl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Mc(u.removeAllFromArray.values||[]):"increment"in u?h=new Rh(o,u.increment):ct();const m=Sn.fromServerFormat(u.fieldPath);return new Yu(m,h)}(n,i)):[];var i;if(e.update){const i=Eo(n,e.update.name),o=new kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new ni((e.updateMask.fieldPaths||[]).map(v=>Sn.fromServerFormat(v)));return new va(i,o,u,t,r)}return new Ku(i,o,t,r)}if(e.delete){const i=Eo(n,e.delete);return new Oh(i,t)}if(e.verify){const i=Eo(n,e.verify);return new Tb(i,t)}return ct()}function Ob(n,e){return{documents:[S_(n,e.path)]}}function M_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=S_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=S_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return WE(mn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:Lh((D=v).field),direction:jR(D.dir)};var D})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=(v=e.limit,n.wt||Np(v)?v:{value:v});var v,h,m;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function Nb(n){let e=HE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){vt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let o=[];t.where&&(o=function(D){const S=qE(D);return S instanceof mn&&Ih(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new Sh(Bh((S=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(D){let S;return S="object"==typeof D?D.value:D,Np(S)?null:S}(t.limit));let m=null;var D;t.startAt&&(m=new zu((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new zu(D.values||[],!D.before)}(t.endAt)),lA(e,i,u,o,h,"F",m,v)}function qE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bh(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Bh(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bh(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bh(e.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(n):void 0!==n.fieldFilter?un.create(Bh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(t=>qE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(n):ct();var e}function jR(n){return yA[n]}function CA(n){return LE[n]}function EA(n){return UR[n]}function Lh(n){return{fieldPath:n.canonicalString()}}function Bh(n){return Sn.fromServerFormat(n.fieldPath)}function WE(n){return n instanceof un?function(e){if("=="===e.op){if(lE(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NAN"}};if(Ic(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lE(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NAN"}};if(Ic(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(e.field),op:CA(e.op),value:e.value}}}(n):n instanceof mn?function(e){const t=e.getFilters().map(r=>WE(r));return 1===t.length?t[0]:{compositeFilter:{op:EA(e.op),filters:t}}}(n):ct()}function Wp(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YE(e)),e=ba(n.get(t),e);return YE(e)}function ba(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function YE(n){return n+"\x01\x01"}function Ds(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&ct(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let m;0===i.length?m=h:(i+=h,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(o,u),i+="\0";break;case"\x11":i+=n.substring(o,u+1);break;default:ct()}o=u+2}return new pn(r)}const Vh=["userId","batchId"];function x_(n,e){return[n,yi(e)]}function KE(n,e,t){return[n,yi(e),t]}const DA={},k_=["prefixPath","collectionGroup","readTime","documentId"],R_=["prefixPath","collectionGroup","documentId"],TA=["collectionGroup","readTime","prefixPath","documentId"],IA=["canonicalId","targetId"],QE=["targetId","path"],XE=["path","targetId"],Pb=["collectionId","parent"],JE=["indexId","uid"],SA=["uid","sequenceNumber"],AA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$R=["indexId","uid","orderedDocumentKey"],Fb=["userId","collectionPath","documentId"],Lb=["userId","collectionPath","largestBatchId"],eD=["userId","collectionGroup","largestBatchId"],O_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bb=[...O_,"documentOverlays"],tD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nD=tD,MA=[...nD,"indexConfiguration","indexState","indexEntries"];class Vb extends sb{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function qr(n,e){const t=Qe(n);return Zs.M(t.se,e)}class Zp{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fA(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$p(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$p(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=OE();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const m=AE(u,h);null!==m&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Vu(this.mutations,e.mutations,(t,r)=>ME(t,r))&&Vu(this.baseMutations,e.baseMutations,(t,r)=>ME(t,r))}}class N_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){vt(e.mutations.length===r.length);let i=NE;const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new N_(e,t,r,i)}}class P_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bl{constructor(e,t,r,i,o=Et.min(),u=Et.min(),h=Gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ub{constructor(e){this.ie=e}}function Hb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Yp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gp(i=n.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Fh(i,o.version.toTimestamp()),createTime:Fh(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ju(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:Ju(e.version)}}var i,o;return r}function Yp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ju(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kc(n){const e=new qn(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function ed(n,e){const t=(e.baseMutations||[]).map(o=>A_(n.ie,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(u.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const r=e.mutations.map(o=>A_(n.ie,o)),i=qn.fromMillis(e.localWriteTimeMs);return new Zp(e.batchId,i,t,r)}function Wr(n){const e=kc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?kc(n.lastLimboFreeSnapshotVersion):Et.min();let r;var i;return void 0!==n.query.documents?(vt(1===(i=n.query).documents.length),r=Ri(Hp(HE(i.documents[0])))):r=Ri(Nb(n.query)),new bl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Gr.fromBase64String(n.resumeToken))}function td(n,e){const t=Ju(e.snapshotVersion),r=Ju(e.lastLimboFreeSnapshotVersion);let i;i=y_(e.target)?Ob(n.ie,e.target):M_(n.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sc(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jb(n){const e=Nb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b_(e,e.limit,"L"):e}function $b(n,e){return new P_(e.largestBatchId,A_(n.ie,e.overlayMutation))}function kA(n,e){const t=e.path.lastSegment();return[n,yi(e.path.popLast()),t]}function RA(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ju(r.readTime),documentKey:yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class rD{getBundleMetadata(e,t){return zb(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:kc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return zb(e).put({bundleId:(r=t).id,createTime:Ju(Ur(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Uh(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:jb(i.bundledQuery),readTime:kc(i.readTime)};var i})}saveNamedQuery(e,t){return Uh(e).put({name:(r=t).name,readTime:Ju(Ur(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zb(n){return qr(n,"bundles")}function Uh(n){return qr(n,"namedQueries")}class F_{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new F_(e,t.uid||"")}getOverlay(e,t){return nd(e).get(kA(this.userId,t)).next(r=>r?$b(this.yt,r):null)}getOverlays(e,t){const r=Co();return he.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new P_(t,u);i.push(this.oe(e,h))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(yi(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(nd(e).Y("collectionPathOverlayIndex",h))}),he.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Co(),o=yi(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return nd(e).W("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=$b(this.yt,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Co();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return nd(e).Z({index:"collectionGroupOverlayIndex",range:h},(m,v,D)=>{const S=$b(this.yt,v);o.size()<i||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):D.done()}).next(()=>o)}oe(e,t){return nd(e).put(function(r,i,o){const[u,h,m]=kA(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:vl(r.ie,o.mutation)}}(this.yt,this.userId,t))}}function nd(n){return qr(n,"documentOverlays")}class rd{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Pp(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Hu(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?rA(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ct()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function iD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function sD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=iD(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}rd.Ie=new rd;class OA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=sD(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=sD(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class NA{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Gb{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Hh{constructor(){this.$e=new OA,this.Be=new NA(this.$e),this.Le=new Gb(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Rc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rc(this.indexId,this.documentKey,this.arrayValue,r)}}function Do(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=L_(n.arrayValue,e.arrayValue),0!==t?t:(t=L_(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function L_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){vt(e.collectionGroup===this.collectionId);const t=u_(e);if(void 0!==t&&!this.We(t))return!1;const r=yc(e);let i=0,o=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[o++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(o>=this.Ke.length||!this.He(this.Ke[o++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qb(n){var e,t;if(vt(n instanceof un||n instanceof mn),n instanceof un){if(n instanceof gE){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>un.create(n.field,"==",o)))||[];return mn.create(i,"or")}return n}const r=n.filters.map(i=>qb(i));return mn.create(r,n.op)}function PA(n){if(0===n.getFilters().length)return[];const e=V_(qb(n));return vt(oD(e)),B_(e)||Oc(e)?[e]:e.getFilters()}function B_(n){return n instanceof un}function Oc(n){return n instanceof mn&&Ih(n)}function oD(n){return B_(n)||Oc(n)||function(e){if(e instanceof mn&&Th(e)){for(const t of e.getFilters())if(!B_(t)&&!Oc(t))return!1;return!0}return!1}(n)}function V_(n){if(vt(n instanceof un||n instanceof mn),n instanceof un)return n;if(1===n.filters.length)return V_(n.filters[0]);const e=n.filters.map(r=>V_(r));let t=mn.create(e,n.op);return t=U_(t),oD(t)?t:(vt(t instanceof mn),vt(Dh(t)),vt(t.filters.length>1),t.filters.reduce((r,i)=>Kp(r,i)))}function Kp(n,e){let t;return vt(n instanceof un||n instanceof mn),vt(e instanceof un||e instanceof mn),t=n instanceof un?e instanceof un?mn.create([n,e],"and"):FA(n,e):e instanceof un?FA(e,n):function(r,i){if(vt(r.filters.length>0&&i.filters.length>0),Dh(r)&&Dh(i))return pb(r,i.getFilters());const o=Th(r)?r:i,u=Th(r)?i:r,h=o.filters.map(m=>Kp(m,u));return mn.create(h,"or")}(n,e),U_(t)}function FA(n,e){if(Dh(e))return pb(e,n.getFilters());{const t=e.filters.map(r=>Kp(n,r));return mn.create(t,"or")}}function U_(n){if(vt(n instanceof un||n instanceof mn),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return U_(e[0]);if(mr(n))return n;const t=e.map(i=>U_(i)),r=[];return t.forEach(i=>{i instanceof un?r.push(i):i instanceof mn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:mn.create(r,n.op)}class GR{constructor(){this.Je=new Wb}addToCollectionParentIndex(e,t){return this.Je.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Es.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Wb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fn(pn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(pn.comparator)).toArray()}}const H_=new Uint8Array(0);class LA{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Wb,this.Xe=new xc(r=>Sc(r),(r,i)=>Mh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const o={collectionId:r,parent:yi(i)};return Zb(e).put(o)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[XS(t),""],!1,!0);return Zb(e).W(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Ds(u.parent))}return r})}addFieldIndex(e,t){const r=j_(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const o=r.add(i);if(t.indexState){const u=$h(e);return o.next(h=>{u.put(RA(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=j_(e),i=$h(e),o=jh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jh(e);let i=!0;const o=new Map;return he.forEach(this.Ze(t),u=>this.tn(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Qt();const h=[];return he.forEach(o,(m,v)=>{var D;He("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Ke=>`${Ke.fieldPath}:${Ke.kind}`).join(",")}`} to execute ${Sc(t)}`);const S=function(Ke,We){const Dt=u_(We);if(void 0===Dt)return null;for(const Tt of Up(Ke,Dt.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(v,m),N=function(Ke,We){const Dt=new Map;for(const Tt of yc(We))for(const an of Up(Ke,Tt.fieldPath))switch(an.op){case"==":case"in":Dt.set(Tt.fieldPath.canonicalString(),an.value);break;case"not-in":case"!=":return Dt.set(Tt.fieldPath.canonicalString(),an.value),Array.from(Dt.values())}return null}(v,m),V=function(Ke,We){const Dt=[];let Tt=!0;for(const an of yc(We)){const Yr=0===an.kind?yE(Ke,an.fieldPath,Ke.startAt):vE(Ke,an.fieldPath,Ke.startAt);Dt.push(Yr.value),Tt&&(Tt=Yr.inclusive)}return new zu(Dt,Tt)}(v,m),z=function(Ke,We){const Dt=[];let Tt=!0;for(const an of yc(We)){const Yr=0===an.kind?vE(Ke,an.fieldPath,Ke.endAt):yE(Ke,an.fieldPath,Ke.endAt);Dt.push(Yr.value),Tt&&(Tt=Yr.inclusive)}return new zu(Dt,Tt)}(v,m),ee=this.en(m,v,V),ne=this.en(m,v,z),Be=this.nn(m,v,N),st=this.sn(m.indexId,S,ee,V.inclusive,ne,z.inclusive,Be);return he.forEach(st,Ke=>r.J(Ke,t.limit).next(We=>{We.forEach(Dt=>{const Tt=Ge.fromSegments(Dt.documentKey);u.has(Tt)||(u=u.add(Tt),h.push(Tt))})}))}).next(()=>h)}return he.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:PA(mn.create(e.filters,"and")).map(r=>__(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,o,u,h){const m=(null!=t?t.length:1)*Math.max(r.length,o.length),v=m/(null!=t?t.length:1),D=[];for(let S=0;S<m;++S){const N=t?this.rn(t[S/v]):H_,V=this.on(e,N,r[S%v],i),z=this.un(e,N,o[S%v],u),ee=h.map(ne=>this.on(e,N,ne,!0));D.push(...this.createRange(V,z,ee))}return D}on(e,t,r,i){const o=new Rc(e,Ge.empty(),t,r);return i?o:o.Ue()}un(e,t,r,i){const o=new Rc(e,Ge.empty(),t,r);return i?o.Ue():o}tn(e,t){const r=new zR(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return he.forEach(i,o=>this.tn(e,o).next(u=>{u?0!==r&&u.fields.length<function(h){let m=new Fn(Sn.comparator),v=!1;for(const D of h.filters)for(const S of D.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field));for(const D of h.orderBy)D.field.isKeyField()||(m=m.add(D.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Hh;for(const i of yc(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const u=r.qe(i.kind);rd.Ie.ue(o,u)}return r.Fe()}rn(e){const t=new Hh;return rd.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Hh;return rd.Ie.ue(Tc(this.databaseId,t),r.qe(function(i){const o=yc(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Hh);let o=0;for(const u of yc(e)){const h=r[o++];for(const m of i)if(this.hn(t,u.fieldPath)&&$u(h))i=this.ln(i,u,h);else{const v=m.qe(u.kind);rd.Ie.ue(h,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const m=new Hh;m.seed(h.Fe()),rd.Ie.ue(u,m.qe(t.kind)),o.push(m)}return o}hn(e,t){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=j_(e),i=$h(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(o=>{const u=[];return he.forEach(o,h=>i.get([h.indexId,this.uid]).next(m=>{u.push(function(v,D){const S=D?new Rp(D.sequenceNumber,new Es(kc(D.readTime),new Ge(Ds(D.documentKey)),D.largestBatchId)):Rp.empty(),N=v.fields.map(([V,z])=>new d_(Sn.fromServerFormat(V),z));return new rs(v.indexId,v.collectionGroup,N,S)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Gt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=j_(e),o=$h(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>he.forEach(h,m=>o.put(RA(m.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?he.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),he.forEach(h,m=>this._n(e,i,m).next(v=>{const D=this.wn(o,m);return v.isEqual(D)?he.resolve():this.mn(e,o,m,v,D)}))))})}gn(e,t,r,i){return jh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return jh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=jh(e);let o=new Fn(Do);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,h)=>{o=o.add(new Rc(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}wn(e,t){let r=new Fn(Do);const i=this.cn(t,e);if(null==i)return r;const o=u_(t);if(null!=o){const u=e.data.field(o.fieldPath);if($u(u))for(const h of u.arrayValue.values||[])r=r.add(new Rc(t.indexId,e.key,this.rn(h),i))}else r=r.add(new Rc(t.indexId,e.key,H_,i));return r}mn(e,t,r,i,o){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,m,v,D,S){const N=h.getIterator(),V=m.getIterator();let z=Ah(N),ee=Ah(V);for(;z||ee;){let ne=!1,Be=!1;if(z&&ee){const st=v(z,ee);st<0?Be=!0:st>0&&(ne=!0)}else null!=z?Be=!0:ne=!0;ne?(D(ee),ee=Ah(V)):Be?(S(z),z=Ah(N)):(z=Ah(N),ee=Ah(V))}}(i,o,Do,h=>{u.push(this.gn(e,t,r,h))},h=>{u.push(this.yn(e,t,r,h))}),he.waitFor(u)}dn(e){let t=1;return $h(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Do(u,h)).filter((u,h,m)=>!h||0!==Do(u,m[h-1]));const i=[];i.push(e);for(const u of r){const h=Do(u,e),m=Do(u,t);if(0===h)i[0]=e.Ue();else if(h>0&&m<0)i.push(u),i.push(u.Ue());else if(m>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];o.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,H_,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,H_,[]]))}return o}pn(e,t){return Do(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Yb)}getMinOffset(e,t){return he.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||ct())).next(Yb)}}function Zb(n){return qr(n,"collectionParents")}function jh(n){return qr(n,"indexEntries")}function j_(n){return qr(n,"indexConfiguration")}function $h(n){return qr(n,"indexState")}function Yb(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;f_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Es(e.readTime,e.documentKey,t)}const aD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ss{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kb(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const m=r.Z({range:u},(D,S,N)=>(h++,N.delete()));o.push(m.next(()=>{vt(1===h)}));const v=[];for(const D of t.mutations){const S=KE(e,D.key.path,t.batchId);o.push(i.delete(S)),v.push(D.key)}return he.waitFor(o).next(()=>v)}function $_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class Qp{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){vt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Qp(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).Z({index:"userMutationsIndex",range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=id(e),u=wl(e);return u.add({}).next(h=>{vt("number"==typeof h);const m=new Zp(h,t,r,i),v=function(N,V,z){const ee=z.baseMutations.map(Be=>vl(N.ie,Be)),ne=z.mutations.map(Be=>vl(N.ie,Be));return{userId:V,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ee,mutations:ne}}(this.yt,this.userId,m),D=[];let S=new Fn((N,V)=>Gt(N.canonicalString(),V.canonicalString()));for(const N of i){const V=KE(this.userId,N.key.path,h);S=S.add(N.key.path.popLast()),D.push(u.put(v)),D.push(o.put(V,DA))}return S.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.In[h]=m.keys()}),he.waitFor(D).next(()=>m)})}lookupMutationBatch(e,t){return wl(e).get(t).next(r=>r?(vt(r.userId===this.userId),ed(this.yt,r)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return wl(e).Z({index:"userMutationsIndex",range:i},(u,h,m)=>{h.userId===this.userId&&(vt(h.batchId>=r),o=ed(this.yt,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return wl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).W("userMutationsIndex",t).next(r=>r.map(i=>ed(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=x_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return id(e).Z({range:i},(u,h,m)=>{const[v,D,S]=u,N=Ds(D);if(v===this.userId&&t.path.isEqual(N))return wl(e).get(S).next(V=>{if(!V)throw ct();vt(V.userId===this.userId),o.push(ed(this.yt,V))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Gt);const i=[];return t.forEach(o=>{const u=x_(this.userId,o.path),h=IDBKeyRange.lowerBound(u),m=id(e).Z({range:h},(v,D,S)=>{const[N,V,z]=v,ee=Ds(V);N===this.userId&&o.path.isEqual(ee)?r=r.add(z):S.done()});i.push(m)}),he.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=x_(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new Fn(Gt);return id(e).Z({range:u},(m,v,D)=>{const[S,N,V]=m,z=Ds(N);S===this.userId&&r.isPrefixOf(z)?z.length===i&&(h=h.add(V)):D.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(o=>{i.push(wl(e).get(o).next(u=>{if(null===u)throw ct();vt(u.userId===this.userId),r.push(ed(this.yt,u))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Kb(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return id(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const m=Ds(o[1]);i.push(m)}else h.done()}).next(()=>{vt(0===i.length)})})}containsKey(e,t){return Qb(e,this.userId,t)}Rn(e){return lD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Qb(n,e,t){const r=x_(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return id(n).Z({range:o,X:!0},(h,m,v)=>{const[D,S,N]=h;D===e&&S===i&&(u=!0),v.done()}).next(()=>u)}function wl(n){return qr(n,"mutations")}function id(n){return qr(n,"documentMutations")}function lD(n){return qr(n,"mutationQueues")}class sd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sd(0)}static vn(){return new sd(-1)}}class qR{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new sd(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Et.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>od(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return od(e).Z((u,h)=>{const m=Wr(h);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,o.push(this.removeTargetData(e,m)))}).next(()=>he.waitFor(o)).next(()=>i)}forEachTarget(e,t){return od(e).Z((r,i)=>{const o=Wr(i);t(o)})}Vn(e){return BA(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}Sn(e,t){return BA(e).put("targetGlobalKey",t)}Dn(e,t){return od(e).put(td(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return od(e).Z({range:i,index:"queryTargetsIndex"},(u,h,m)=>{const v=Wr(h);Mh(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ad(e);return t.forEach(u=>{const h=yi(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=ad(e);return he.forEach(t,o=>{const u=yi(o.path);return he.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ad(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ad(e);let o=Qt();return i.Z({range:r,X:!0},(u,h,m)=>{const v=Ds(u[1]),D=new Ge(v);o=o.add(D)}).next(()=>o)}containsKey(e,t){const r=yi(t.path),i=IDBKeyRange.bound([r],[XS(r)],!1,!0);let o=0;return ad(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],m,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}ne(e,t){return od(e).get(t).next(r=>r?Wr(r):null)}}function od(n){return qr(n,"targets")}function BA(n){return qr(n,"targetGlobal")}function ad(n){return qr(n,"targetDocuments")}function VA([n,e],[t,r]){const i=Gt(n,t);return 0===i?Gt(e,r):i}class WR{constructor(e){this.xn=e,this.buffer=new Fn(VA),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){gl(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ml(r)}yield t.Fn(3e5)}))}}class YR{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(is.at);const r=new WR(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(aD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aD):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,o,u,h,m,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,u=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,h=Date.now(),this.removeTargets(e,r,t))).next(S=>(o=S,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(v=Date.now(),l_()<=fa.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${S} documents in `+(v-m)+`ms\nTotal Duration: ${v-D}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:S})))}}class KR{constructor(e,t){this.db=e,this.garbageCollector=new YR(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Xb(e,r)}removeReference(e,t,r){return Xb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xb(e,t)}Gn(e,t){return function(r,i){let o=!1;return lD(r).tt(u=>Qb(r,u,i).next(h=>(h&&(o=!0),he.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Kn(e,(u,h)=>{if(h<=t){const m=this.Gn(e,u).next(v=>{if(!v)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Et.min()),ad(e).delete([0,yi(u.path)])))});i.push(m)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xb(e,t)}Kn(e,t){const r=ad(e);let i,o=is.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(o!==is.at&&t(new Ge(Ds(i)),o),o=v,i=m):o=is.at}).next(()=>{o!==is.at&&t(new Ge(Ds(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xb(n,e){return ad(n).put((r=n.currentSequenceNumber,{targetId:0,path:yi(e.path),sequenceNumber:r}));var r}class Xp{constructor(){this.changes=new xc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QR{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Nc(e).put(r)}removeEntry(e,t,r){return Nc(e).delete(function(i,o){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Yp(o),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=er.newInvalidDocument(t);return Nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(i,o)=>{r=this.jn(t,o)}).next(()=>r)}Wn(e,t){let r={size:0,document:er.newInvalidDocument(t)};return Nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(i,o)=>{r={document:this.jn(t,o),size:$_(o)}}).next(()=>r)}getEntries(e,t){let r=Oi();return this.zn(e,t,(i,o)=>{const u=this.jn(i,o);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=Oi(),i=new Cr(Ge.comparator);return this.zn(e,t,(o,u)=>{const h=this.jn(o,u);r=r.insert(o,h),i=i.insert(o,$_(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return he.resolve();let i=new Fn(t0);t.forEach(m=>i=i.add(m));const o=IDBKeyRange.bound(G_(i.first()),G_(i.last())),u=i.getIterator();let h=u.getNext();return Nc(e).Z({index:"documentKeyIndex",range:o},(m,v,D)=>{const S=Ge.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&t0(h,S)<0;)r(h,null),h=u.getNext();h&&h.isEqual(S)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?D.j(G_(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Yp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nc(e).W(IDBKeyRange.bound(i,o,!0)).next(u=>{let h=Oi();for(const m of u){const v=this.jn(Ge.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let o=Oi();const u=q_(t,r),h=q_(t,Es.max());return Nc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,D)=>{const S=this.jn(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===i&&D.done()}).next(()=>o)}newChangeBuffer(e){return new z_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return e0(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Qn(e,t){return e0(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function xA(n,e){let t;if(e.document)t=zE(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=kc(e.noDocument.readTime);t=er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=Ge.fromSegments(e.unknownDocument.path),i=kc(e.unknownDocument.version);t=er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new qn(r[0],r[1]);return Et.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return er.newInvalidDocument(e)}}function Jb(n){return new QR(n)}class z_ extends Xp{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Fn((o,u)=>Gt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,h.readTime)),u.isValidDocument()){const m=Hb(this.Yn.yt,u);i=i.add(o.path.popLast()),r+=$_(m)-h.size,t.push(this.Yn.addEntry(e,o,m))}else if(r-=h.size,this.trackRemovals){const m=Hb(this.Yn.yt,u.convertToNoDocument(Et.min()));t.push(this.Yn.addEntry(e,o,m))}}),i.forEach(o=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Yn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function e0(n){return qr(n,"remoteDocumentGlobal")}function Nc(n){return qr(n,"remoteDocumentsV14")}function G_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function q_(n,e){const t=e.documentKey.path.toArray();return[n,Yp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function t0(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Gt(t[o],r[o]),i)return i;return i=Gt(t.length,r.length),i||(i=Gt(t[t.length-2],r[r.length-2]),i||Gt(t[t.length-1],r[r.length-1]))}class UA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class n0{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&$p(r.mutation,i,ni.empty(),qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=Co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Nh();return o.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=Oi();const u=T_(),h=T_();return t.forEach((m,v)=>{const D=r.get(v.key);i.has(v.key)&&(void 0===D||D.mutation instanceof va)?o=o.insert(v.key,v):void 0!==D?(u.set(v.key,D.mutation.getFieldMask()),$p(D.mutation,v,D.mutation.getFieldMask(),qn.now())):u.set(v.key,ni.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((v,D)=>u.set(v,D)),t.forEach((v,D)=>{var S;return h.set(v,new UA(D,null!==(S=u.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const r=T_();let i=new Cr((u,h)=>u-h),o=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let D=r.get(m)||ni.empty();D=h.applyToLocalView(v,D),r.set(m,D);const S=(i.get(h.batchId)||Qt()).add(m);i=i.insert(h.batchId,S)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,D=m.value,S=OE();D.forEach(N=>{if(!o.has(N)){const V=AE(t.get(N),r.get(N));null!==V&&S.set(N,V),o=o.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,S))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):he.resolve(Co());let h=-1,m=o;return u.next(v=>he.forEach(v,(D,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(D)?he.resolve():this.remoteDocumentCache.getEntry(e,D).next(N=>{m=m.insert(D,N)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,m,v,Qt())).next(D=>({batchId:h,changes:Qu(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Nh();return this.indexManager.getCollectionParents(e,i).next(u=>he.forEach(u,h=>{const m=(v=t,D=h.child(i),new Ac(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((D,S)=>{o=o.insert(D,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(o=>{o.forEach((h,m)=>{const v=m.getKey();null===i.get(v)&&(i=i.insert(v,er.newInvalidDocument(v)))});let u=Nh();return i.forEach((h,m)=>{const v=o.get(h);void 0!==v&&$p(v.mutation,m,ni.empty(),qn.now()),vb(t,m)&&(u=u.insert(h,m))}),u})}}class XR{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ur(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:jb(r.bundledQuery),readTime:Ur(r.readTime)}),he.resolve();var r}}class HA{constructor(){this.overlays=new Cr(Ge.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Co();return he.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.oe(e,t,o)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Co(),o=t.length+1,u=new Ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Cr((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let D=o.get(v.largestBatchId);null===D&&(D=Co(),o=o.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const h=Co(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,D)=>h.set(v,D)),!(h.size()>=i)););return he.resolve(h)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new P_(t,r));let o=this.es.get(t);void 0===o&&(o=Qt(),this.es.set(t,o)),this.es.set(t,o.add(r.key))}}class r0{constructor(){this.ns=new Fn(ri.ss),this.rs=new Fn(ri.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ri(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ri(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new pn([])),r=new ri(t,e),i=new ri(t,e+1),o=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new pn([])),r=new ri(t,e),i=new ri(t,e+1);let o=Qt();return this.rs.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new ri(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Gt(e._s,t._s)}static os(e,t){return Gt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class W_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fn(ri.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.ws;this.ws++;const u=new Zp(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new ri(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),i=new ri(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);o.push(h)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Gt);return t.forEach(i=>{const o=new ri(i,0),u=new ri(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{r=r.add(h._s)})}),he.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ge.isDocumentKey(o)||(o=o.child(""));const u=new ri(new Ge(o),0);let h=new Fn(Gt);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(m._s)),!0)},u),he.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){vt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return he.forEach(t.mutations,i=>{const o=new ri(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ri(t,0),i=this.gs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jA{constructor(e){this.Es=e,this.docs=new Cr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():er.newInvalidDocument(i))}),he.resolve(r)}getAllFromCollection(e,t,r){let i=Oi();const o=new Ge(t.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||f_(wh(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ct()}As(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JR(this)}getSize(e){return he.resolve(this.size)}}class JR extends Xp{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class e1{constructor(e){this.persistence=e,this.Rs=new xc(t=>Sc(t),Mh),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new r0,this.targetCount=0,this.vs=sd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class $A{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new is(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new e1(this),this.indexManager=new GR,this.remoteDocumentCache=new jA(r=>this.referenceDelegate.xs(r)),this.yt=new Ub(t),this.Ns=new XR(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new W_(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new zA(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,t){return he.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class zA extends sb{constructor(e){super(),this.currentSequenceNumber=e}}class Z_{constructor(e){this.persistence=e,this.Fs=new r0,this.$s=null}static Bs(e){return new Z_(e)}get Ls(){if(this.$s)return this.$s;throw ct()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(o=>{o||t.removeEntry(i,Et.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class GA{constructor(e){this.yt=e}$(e,t,r,i){const o=new Op("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vh,{unique:!0}),h.createObjectStore("documentMutations"),qA(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=he.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),qA(e)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,m){return m.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vh,{unique:!0});const D=m.store("mutations"),S=v.map(N=>D.put(N));return he.waitFor(S)})}(e,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(o))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(o))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,o))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(o))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:Fb});m.createIndex("collectionPathOverlayIndex",Lb,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",eD,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:k_});m.createIndex("documentKeyIndex",R_),m.createIndex("collectionGroupIndex",TA)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,o))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:JE}).createIndex("sequenceNumberIndex",SA,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:AA}).createIndex("documentKeyIndex",$R,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=$_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>he.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>he.forEach(h,m=>{vt(m.userId===o.userId);const v=ed(this.yt,m);return Kb(e,o.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Z((u,h)=>{const m=new pn(u),v=[0,yi(m)];o.push(t.get(v).next(D=>D?he.resolve():t.put({targetId:0,path:yi(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(o))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Pb});const r=t.store("collectionParents"),i=new Wb,o=u=>{if(i.add(u)){const h=u.lastSegment(),m=u.popLast();return r.put({collectionId:h,parent:yi(m)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const m=new pn(u);return o(m.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,m],v)=>{const D=Ds(h);return o(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const o=Wr(i),u=td(this.yt,o);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((o,u)=>{const h=t.store("remoteDocumentsV14"),m=(v=u,v.document?new Ge(pn.fromString(v.document.name).popFirst(5)):v.noDocument?Ge.fromSegments(v.noDocument.path):v.unknownDocument?Ge.fromSegments(v.unknownDocument.path):ct()).path.toArray();var v;const D={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(D))}).next(()=>he.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Jb(this.yt),o=new $A(Z_.Bs,this.yt.ie);return r.W().next(u=>{const h=new Map;return u.forEach(m=>{var v;let D=null!==(v=h.get(m.userId))&&void 0!==v?v:Qt();ed(this.yt,m).keys().forEach(S=>D=D.add(S)),h.set(m.userId,D)}),he.forEach(h,(m,v)=>{const D=new Vr(v),S=F_.re(this.yt,D),N=o.getIndexManager(D),V=Qp.re(D,this.yt,N,o.referenceDelegate);return new n0(i,V,S,N).recalculateAndSaveOverlaysForDocumentKeys(new Vb(t,is.at),m).next()})})}}function qA(n){n.createObjectStore("targetDocuments",{keyPath:QE}).createIndex("documentTargetsIndex",XE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IA,{unique:!0}),n.createObjectStore("targetGlobal")}const s0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Y_{constructor(e,t,r,i,o,u,h,m,v,D,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=o,this.window=u,this.document=h,this.Js=v,this.Ys=D,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!Y_.C())throw new Fe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KR(this,i),this.ii=t+"main",this.yt=new Ub(m),this.ri=new Zs(this.ii,this.Xs,new GA(this.yt)),this.Cs=new qR(this.referenceDelegate,this.yt),this.remoteDocumentCache=Jb(this.yt),this.Ns=new rD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,s0);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new is(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>o0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(gl(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return zh(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return o0(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qr(r,"clientMetadata");return i.W().next(o=>{const u=e.Ii(o,18e5),h=o.filter(m=>-1===u.indexOf(m));return he.forEach(h,m=>i.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):zh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,s0);return!1}}return!(!this.networkEnabled||!this.inForeground)||o0(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Vb(t,is.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>o0(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Qp.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new LA(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return F_.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(u=this.Xs)?MA:14===u?nD:13===u?tD:12===u?Bb:11===u?O_:void ct();var u;let h;return this.ri.runTransaction(e,i,o,m=>(h=new Vb(m,this.Ss?this.Ss.next():is.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Fe(me.FAILED_PRECONDITION,JC);return r(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Vi(e){return zh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(me.FAILED_PRECONDITION,s0)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zh(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=zh(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(br(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Wt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zh(n){return qr(n,"owner")}function o0(n){return qr(n,"clientMetadata")}function Ts(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class a0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Qt(),i=Qt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new a0(e,t.fromCache,r,i)}}class K_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(o=>o||this.Oi(e,t,i,r)).next(o=>o||this.Mi(e,t))}ki(e,t){if(cA(t))return he.resolve(null);let r=Ri(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=b_(t,null,"F"),r=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Qt(...o);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Fi(t,h);return this.$i(t,v,u,m.readTime)?this.ki(e,b_(t,null,"F")):this.Bi(e,v,t,m)}))})))}Oi(e,t,r,i){return cA(t)||i.isEqual(Et.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(o=>{const u=this.Fi(t,o);return this.$i(t,u,r,i)?this.Mi(e,t):(l_()<=fa.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yb(t)),this.Bi(e,u,t,h_(i,-1)))})}Fi(e,t){let r=new Fn(wE(e));return t.forEach((i,o)=>{vb(e,o)&&(r=r.add(o))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,t){return l_()<=fa.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",yb(t)),this.Ni.getDocumentsMatchingQuery(e,t,Es.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class WA{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Cr(Gt),this.Ui=new xc(o=>Sc(o),Mh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n0(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Is(n,e,t,r){return new WA(n,e,t,r)}function cD(n,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,be.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let m=Qt();for(const v of i){u.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}for(const v of o){h.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}return t.localDocuments.getDocuments(r,m).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),Jp.apply(this,arguments)}function ZA(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const D=m.batch,S=D.keys();let N=he.resolve();return S.forEach(V=>{N=N.next(()=>v.getEntry(h,V)).next(z=>{const ee=m.docVersions.get(V);vt(null!==ee),z.version.compareTo(ee)<0&&(D.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),v.addEntry(z)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Qt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uD(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function l0(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const h=[];e.targetChanges.forEach((D,S)=>{const N=i.get(S);if(!N)return;h.push(t.Cs.removeMatchingKeys(o,D.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(o,D.addedDocuments,S)));let V=N.withSequenceNumber(o.currentSequenceNumber);var z,ee,ne;e.targetMismatches.has(S)?V=V.withResumeToken(Gr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):D.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(D.resumeToken,r)),i=i.insert(S,V),ee=V,ne=D,(0===(z=N).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(o,V))});let m=Oi(),v=Qt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(c0(o,u,e.documentUpdates).next(D=>{m=D.Wi,v=D.zi})),!r.isEqual(Et.min())){const D=t.Cs.getLastRemoteSnapshotVersion(o).next(S=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(D)}return he.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(t.qi=i,o))}function c0(n,e,t){let r=Qt(),i=Qt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Oi();return t.forEach((h,m)=>{const v=o.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(Et.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{Wi:u,zi:i}})}function dD(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gh(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(o=>o?(i=o,he.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new bl(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function ld(n,e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=r.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!gl(u))throw u;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),Q_.apply(this,arguments)}function X_(n,e,t){const r=Qe(n);let i=Et.min(),o=Qt();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const D=Qe(h),S=D.Ui.get(v);return void 0!==S?he.resolve(D.qi.get(S)):D.Cs.getTargetData(m,v)}(r,u,Ri(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{o=m})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Et.min(),t?o:Qt())).next(h=>(J_(r,bb(e),h),{documents:h,Hi:o})))}function u0(n,e){const t=Qe(n),r=Qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ne(o,e).next(u=>u?u.target:null))}function hD(n,e){const t=Qe(n),r=t.Ki.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,h_(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(J_(t,e,i),i))}function J_(n,e,t){let r=n.Ki.get(e)||Et.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ki.set(e,r)}function ey(){return ey=(0,be.Z)(function*(n,e,t,r){const i=Qe(n);let o=Qt(),u=Oi();for(const v of t){const D=e.Ji(v.metadata.name);v.document&&(o=o.add(D));const S=e.Yi(v);S.setReadTime(e.Xi(v.metadata.readTime)),u=u.insert(D,S)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),m=yield Gh(i,(v=r,Ri(Hp(pn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>c0(v,h,u).next(D=>(h.apply(v),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Cs.addMatchingKeys(v,o,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,D.Wi,D.zi)).next(()=>D.Wi)))}),ey.apply(this,arguments)}function d0(n,e){return To.apply(this,arguments)}function To(){return To=(0,be.Z)(function*(n,e,t=Qt()){const r=yield Gh(n,Ri(jb(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ur(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(o,e);const h=r.withResumeToken(Gr.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(h.targetId,h),i.Cs.updateTargetData(o,h).next(()=>i.Cs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Cs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(o,e))})}),To.apply(this,arguments)}function fD(n,e){return`firestore_clients_${n}_${e}`}function YA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function h0(n,e){return`firestore_targets_${n}_${e}`}class ty{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let o,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(o=new Fe(i.error.code,i.error.message))),u?new ty(e,t,i.state,o):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class em{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Fe(r.error.code,r.error.message))),o?new em(e,r.state,i):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ny{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=I_();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=oE(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new ny(e,o):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ry{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ry(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pD{constructor(){this.activeTargetIds=I_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iy{constructor(e,t,r,i,o){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Cr(Gt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=fD(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new pD),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const o=e.getItem(fD(e.persistenceKey,i));if(o){const u=ny.Zi(i,o);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(h0(this.persistenceKey,e));if(r){const i=em.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(o){let u=is.at;if(null!=o)try{const h=JSON.parse(o);vt("number"==typeof h),u=h}catch(h){br("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==is.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Mr(o)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new ty(this.currentUser,e,t,r),o=YA(this.persistenceKey,this.currentUser,e);this.setItem(o,i.tr())}Er(e){const t=YA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=h0(this.persistenceKey,e),o=new em(e,t,r);this.setItem(i,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return ny.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return ty.Zi(new Vr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return em.Zi(i,t)}yr(e){return ry.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),o=this.Ir(r),u=[],h=[];return o.forEach(m=>{i.has(m)||u.push(m)}),i.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=I_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class mD{constructor(){this.Lr=new pD,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new pD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gD{Ur(e){}shutdown(){}}class KA{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const f0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _D{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class yD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,o){const u=this.ho(e,t);He("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,o),this.fo(e,u,h,r).then(m=>(He("RestConnection","Received: ",m),m),m=>{throw _c("RestConnection",`${e} failed with error: `,m,"url: ",u,"request:",r),m})}_o(e,t,r,i,o,u){return this.ao(e,t,r,i,o)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,t){return`${this.oo}/v1/${t}:${f0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((o,u)=>{const h=new ZC;h.setWithCredentials(!0),h.listenOnce(GC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Jv.NO_ERROR:const v=h.getResponseJson();He("Connection","XHR received:",JSON.stringify(v)),o(v);break;case Jv.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),u(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Jv.HTTP_ERROR:const D=h.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',D,"response text:",h.getResponseText()),D>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const V=function(z){const ee=z.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ee)>=0?ee:me.UNKNOWN}(N.status);u(new Fe(V,N.message))}else u(new Fe(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);h.send(t,"POST",m,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xv(),u=zC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new WC({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=i.join("");He("Connection","Creating WebChannel: "+m,h);const v=o.createWebChannel(m,h);let D=!1,S=!1;const N=new _D({Hr:z=>{S?He("Connection","Not sending because WebChannel is closed:",z):(D||(He("Connection","Opening WebChannel transport."),v.open(),D=!0),He("Connection","WebChannel sending:",z),v.send(z))},Jr:()=>v.close()}),V=(z,ee,ne)=>{z.listen(ee,Be=>{try{ne(Be)}catch(st){setTimeout(()=>{throw st},0)}})};return V(v,a_.EventType.OPEN,()=>{S||He("Connection","WebChannel transport opened.")}),V(v,a_.EventType.CLOSE,()=>{S||(S=!0,He("Connection","WebChannel transport closed"),N.io())}),V(v,a_.EventType.ERROR,z=>{S||(S=!0,_c("Connection","WebChannel transport errored:",z),N.io(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),V(v,a_.EventType.MESSAGE,z=>{var ee;if(!S){const ne=z.data[0];vt(!!ne);const Be=ne,st=Be.error||(null===(ee=Be[0])||void 0===ee?void 0:ee.error);if(st){He("Connection","WebChannel received error:",st);const Ke=st.status;let We=function(Tt){const an=Er[Tt];if(void 0!==an)return D_(an)}(Ke),Dt=st.message;void 0===We&&(We=me.INTERNAL,Dt="Unknown error status: "+Ke+" with message "+st.message),S=!0,N.io(new Fe(We,Dt)),v.close()}else He("Connection","WebChannel received:",ne),N.ro(ne)}}),V(u,qC.STAT_EVENT,z=>{z.stat===eb.PROXY?He("Connection","Detected buffering proxy"):z.stat===eb.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function p0(){return typeof window<"u"?window:null}function tm(){return typeof document<"u"?document:null}function qh(n){return new BE(n,!0)}class Wh{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nm{constructor(e,t,r,i,o,u,h,m){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vD extends nm{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function bA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ct(),i=e.targetChange.targetIds||[],o=function(m,v){return m.wt?(vt(void 0===v||"string"==typeof v),Gr.fromBase64String(v||"")):(vt(void 0===v||v instanceof Uint8Array),Gr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=void 0===m.code?me.UNKNOWN:D_(m.code);return new Fe(v,m.message||"")}(u);t=new xb(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Eo(n,r.document.name),o=Ur(r.document.updateTime),u=r.document.createTime?Ur(r.document.createTime):Et.min(),h=new kr({mapValue:{fields:r.document.fields}}),m=er.newFoundDocument(i,o,u,h);t=new zp(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Eo(n,r.document),o=r.readTime?Ur(r.readTime):Et.min(),u=er.newNoDocument(i,o);t=new zp([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Eo(n,r.document);t=new zp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ct();{const r=e.filter,o=new mA(r.count||0);t=new Mb(r.targetId,o)}}var m;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Et.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Et.min():o.readTime?Ur(o.readTime):Et.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=qp(this.yt),t.addTarget=function(i,o){let u;const h=o.target;return u=y_(h)?{documents:Ob(i,h)}:{query:M_(i,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=VE(i,o.resumeToken):o.snapshotVersion.compareTo(Et.min())>0&&(u.readTime=Fh(i,o.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function wA(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=qp(this.yt),t.removeTarget=e,this.Bo(t)}}class QA extends nm{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function GE(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(r,i){let o=Ur(r.updateTime?r.updateTime:i);return o.isEqual(Et.min())&&(o=Ur(i)),new SE(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.Zo(r,t)}return vt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=qp(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vl(this.yt,r))};this.Bo(t)}}class bD extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(e,t,r,o,u,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(me.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class XA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(br(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class t1{constructor(e,t,r,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(h=>{r.enqueueAndForget((0,be.Z)(function*(){var m;Cl(u)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,be.Z)(function*(v){const D=Qe(v);D._u.add(4),yield Zh(D),D.gu.set("Unknown"),D._u.delete(4),yield sy(D)}),function(v){return m.apply(this,arguments)})(u))}))}),this.gu=new XA(r,i)}}function sy(n){return oy.apply(this,arguments)}function oy(){return oy=(0,be.Z)(function*(n){if(Cl(n))for(const e of n.wu)yield e(!0)}),oy.apply(this,arguments)}function Zh(n){return g0.apply(this,arguments)}function g0(){return g0=(0,be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),g0.apply(this,arguments)}function ay(n,e){const t=Qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),DD(t)?ED(t):om(t).ko()&&CD(t,e))}function ly(n,e){const t=Qe(n),r=om(t);t.du.delete(e),r.ko()&&JA(t,e),0===t.du.size&&(r.ko()?r.Fo():Cl(t)&&t.gu.set("Unknown"))}function CD(n,e){n.yu.Ot(e.targetId),om(n).zo(e)}function JA(n,e){n.yu.Ot(e),om(n).Ho(e)}function ED(n){n.yu=new _A({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),om(n).start(),n.gu.uu()}function DD(n){return Cl(n)&&!om(n).No()&&n.du.size>0}function Cl(n){return 0===Qe(n)._u.size}function rm(n){n.yu=void 0}function eM(n){return _0.apply(this,arguments)}function _0(){return _0=(0,be.Z)(function*(n){n.du.forEach((e,t)=>{CD(n,e)})}),_0.apply(this,arguments)}function TD(n,e){return El.apply(this,arguments)}function El(){return El=(0,be.Z)(function*(n,e){rm(n),DD(n)?(n.gu.hu(e),ED(n)):n.gu.set("Unknown")}),El.apply(this,arguments)}function ID(n,e,t){return im.apply(this,arguments)}function im(){return im=(0,be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof xb&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,o){const u=o.cause;for(const h of o.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i.du.delete(h),i.yu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yh(n,r)}else if(e instanceof zp?n.yu.Kt(e):e instanceof Mb?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Et.min()))try{const r=yield uD(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const u=i.yu.Zt(o);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(m);v&&i.du.set(m,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const m=i.du.get(h);if(!m)return;i.du.set(h,m.withResumeToken(Gr.EMPTY_BYTE_STRING,m.snapshotVersion)),JA(i,h);const v=new bl(m.target,h,1,m.sequenceNumber);CD(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield Yh(n,r)}var r}),im.apply(this,arguments)}function Yh(n,e,t){return y0.apply(this,arguments)}function y0(){return y0=(0,be.Z)(function*(n,e,t){if(!gl(e))throw e;n._u.add(1),yield Zh(n),n.gu.set("Offline"),t||(t=()=>uD(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield sy(n)}))}),y0.apply(this,arguments)}function cy(n,e){return e().catch(t=>Yh(n,t,e))}function Fc(n){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,be.Z)(function*(n){const e=Qe(n),t=Dl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;n1(e);)try{const i=yield dD(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,r1(e,i)}catch(i){yield Yh(e,i)}tM(e)&&nM(e)}),Kh.apply(this,arguments)}function n1(n){return Cl(n)&&n.fu.length<10}function r1(n,e){n.fu.push(e);const t=Dl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function tM(n){return Cl(n)&&!Dl(n).No()&&n.fu.length>0}function nM(n){Dl(n).start()}function SD(n){return v0.apply(this,arguments)}function v0(){return v0=(0,be.Z)(function*(n){Dl(n).eu()}),v0.apply(this,arguments)}function rM(n){return b0.apply(this,arguments)}function b0(){return b0=(0,be.Z)(function*(n){const e=Dl(n);for(const t of n.fu)e.Xo(t.mutations)}),b0.apply(this,arguments)}function iM(n,e,t){return uy.apply(this,arguments)}function uy(){return uy=(0,be.Z)(function*(n,e,t){const r=n.fu.shift(),i=N_.from(r,e,t);yield cy(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Fc(n)}),uy.apply(this,arguments)}function AD(n,e){return dy.apply(this,arguments)}function dy(){return dy=(0,be.Z)(function*(n,e){var t;e&&Dl(n).Yo&&(yield(t=(0,be.Z)(function*(r,i){if(Ib(o=i.code)&&o!==me.ABORTED){const u=r.fu.shift();Dl(r).Mo(),yield cy(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Fc(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),tM(n)&&nM(n)}),dy.apply(this,arguments)}function MD(n,e){return w0.apply(this,arguments)}function w0(){return w0=(0,be.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Cl(t);t._u.add(3),yield Zh(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield sy(t)}),w0.apply(this,arguments)}function hy(n,e){return sm.apply(this,arguments)}function sm(){return sm=(0,be.Z)(function*(n,e){const t=Qe(n);e?(t._u.delete(2),yield sy(t)):e||(t._u.add(2),yield Zh(t),t.gu.set("Unknown"))}),sm.apply(this,arguments)}function om(n){return n.pu||(n.pu=function(e,t,r){const i=Qe(e);return i.su(),new vD(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:eM.bind(null,n),Zr:TD.bind(null,n),Wo:ID.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.pu.Mo(),DD(n)?ED(n):n.gu.set("Unknown")):(yield n.pu.stop(),rm(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Dl(n){return n.Iu||(n.Iu=function(e,t,r){const i=Qe(e);return i.su(),new QA(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:SD.bind(null,n),Zr:AD.bind(null,n),tu:rM.bind(null,n),Zo:iM.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Mo(),yield Fc(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class am{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new am(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qh(n,e){if(br("AsyncQueue",`${e}: ${n}`),gl(n))return new Fe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Xh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Nh(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new Xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sM{constructor(){this.Tu=new Cr(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ct():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class lm{constructor(e,t,r,i,o,u,h,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new lm(e,t,Xh.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class oM{constructor(){this.Au=void 0,this.listeners=[]}}class aM{constructor(){this.queries=new xc(e=>bE(e),jp),this.onlineState="Unknown",this.Ru=new Set}}function C0(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new oM),i)try{o.Au=yield t.onListen(r)}catch(u){const h=Qh(u,`Initialization of query '${yb(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&E0(t)}),xD.apply(this,arguments)}function kD(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RD.apply(this,arguments)}function s1(n,e){const t=Qe(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Pu(i)&&(r=!0);u.Au=i}}r&&E0(t)}function o1(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function E0(n){n.Ru.forEach(e=>{e.next()})}class OD{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new lm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=lm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class a1{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class lM{constructor(e){this.yt=e}Ji(e){return Eo(this.yt,e)}Yi(e){return e.metadata.exists?zE(this.yt,e.document,!1):er.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ur(e)}}class l1{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=pn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new lM(this.yt);for(const i of e)if(i.metadata.queries){const o=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Qt()).add(o);t.set(u,h)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function Pc(n,e,t,r){return ey.apply(this,arguments)}(e.localStore,new lM(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield d0(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function cM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uM{constructor(e){this.key=e}}class s{constructor(e){this.key=e}}class l{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qt(),this.mutatedKeys=Qt(),this.Gu=wE(e),this.Qu=new Xh(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new sM,i=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,S)=>{const N=i.get(D),V=vb(this.query,S)?S:null,z=!!N&&this.mutatedKeys.has(N.key),ee=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ne=!1;N&&V?N.data.isEqual(V.data)?z!==ee&&(r.track({type:3,doc:V}),ne=!0):this.Hu(N,V)||(r.track({type:2,doc:V}),ne=!0,(m&&this.Gu(V,m)>0||v&&this.Gu(V,v)<0)&&(h=!0)):!N&&V?(r.track({type:0,doc:V}),ne=!0):N&&!V&&(r.track({type:1,doc:N}),ne=!0,(m||v)&&(h=!0)),ne&&(V?(u=u.add(V),o=ee?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),r.track({type:1,doc:D})}return{Qu:u,zu:r,$i:h,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((v,D)=>function(S,N){const V=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return V(S)-V(N)}(v.type,D.type)||this.Gu(v.doc,D.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,m=h!==this.Uu;return this.Uu=h,0!==o.length||m?{snapshot:new lm(this.query,e.Qu,i,o,e.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new sM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Qt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new s(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new uM(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Qt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return lm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class c{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class d{constructor(e){this.key=e,this.nc=!1}}class f{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new xc(h=>bE(h),jp),this.rc=new Map,this.oc=new Set,this.uc=new Cr(Ge.comparator),this.cc=new Map,this.ac=new r0,this.hc={},this.lc=new Map,this.fc=sd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function p(n,e){return y.apply(this,arguments)}function y(){return y=(0,be.Z)(function*(n,e){const t=vM(n);let r,i;const o=t.ic.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const u=yield Gh(t.localStore,Ri(e));t.isPrimaryClient&&ay(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield w(t,e,r,"current"===h,u.resumeToken)}return i}),y.apply(this,arguments)}function w(n,e,t,r,i){return E.apply(this,arguments)}function E(){return E=(0,be.Z)(function*(n,e,t,r,i){n._c=(S,N,V)=>{return(z=(0,be.Z)(function*(ee,ne,Be,st){let Ke=ne.view.Wu(Be);Ke.$i&&(Ke=yield X_(ee.localStore,ne.query,!1).then(({documents:Tt})=>ne.view.Wu(Tt,Ke)));const We=st&&st.targetChanges.get(ne.targetId),Dt=ne.view.applyChanges(Ke,ee.isPrimaryClient,We);return dm(ee,ne.targetId,Dt.Xu),Dt.snapshot}),function(ee,ne,Be,st){return z.apply(this,arguments)})(n,S,N,V);var z};const o=yield X_(n.localStore,e,!0),u=new l(e,o.Hi),h=u.Wu(o.documents),m=Xu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=u.applyChanges(h,n.isPrimaryClient,m);dm(n,t,v.Xu);const D=new c(e,t,u);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),E.apply(this,arguments)}function A(n,e){return R.apply(this,arguments)}function R(){return R=(0,be.Z)(function*(n,e){const t=Qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(o=>!jp(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ld(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ly(t.remoteStore,r.targetId),Lc(t,r.targetId)}).catch(ml))):(Lc(t,r.targetId),yield ld(t.localStore,r.targetId,!0))}),R.apply(this,arguments)}function Z(){return Z=(0,be.Z)(function*(n,e,t){const r=bM(n);try{const i=yield function(o,u){const h=Qe(o),m=qn.now(),v=u.reduce((N,V)=>N.add(V.key),Qt());let D,S;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=Oi(),z=Qt();return h.Gi.getEntries(N,v).next(ee=>{V=ee,V.forEach((ne,Be)=>{Be.isValidDocument()||(z=z.add(ne))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,V)).next(ee=>{D=ee;const ne=[];for(const Be of u){const st=pA(Be,D.get(Be.key).overlayedDocument);null!=st&&ne.push(new va(Be.key,st,_E(st.value.mapValue),sr.exists(!0)))}return h.mutationQueue.addMutationBatch(N,m,ne,u)}).next(ee=>{S=ee;const ne=ee.applyToLocalDocumentSet(D,z);return h.documentOverlayCache.saveOverlays(N,ee.batchId,ne)})}).then(()=>({batchId:S.batchId,changes:Qu(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,h){let m=o.hc[o.currentUser.toKey()];m||(m=new Cr(Gt)),m=m.insert(u,h),o.hc[o.currentUser.toKey()]=m}(r,i.batchId,t),yield Io(r,i.changes),yield Fc(r.remoteStore)}catch(i){const o=Qh(i,"Failed to persist write");t.reject(o)}}),Z.apply(this,arguments)}function se(n,e){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,be.Z)(function*(n,e){const t=Qe(n);try{const r=yield l0(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.cc.get(o);u&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?vt(u.nc):i.removedDocuments.size>0&&(vt(u.nc),u.nc=!1))}),yield Io(t,r,e)}catch(r){yield ml(r)}}),Ee.apply(this,arguments)}function je(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((o,u)=>{const h=u.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(o,u){const h=Qe(o);h.onlineState=u;let m=!1;h.queries.forEach((v,D)=>{for(const S of D.listeners)S.bu(u)&&(m=!0)}),m&&E0(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ze(n,e,t){return dt.apply(this,arguments)}function dt(){return dt=(0,be.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),o=i&&i.key;if(o){let u=new Cr(Ge.comparator);u=u.insert(o,er.newNoDocument(o,Et.min()));const h=Qt().add(o),m=new Ph(Et.min(),new Map,new Fn(Gt),u,h);yield se(r,m),r.uc=r.uc.remove(o),r.cc.delete(e),hm(r)}else yield ld(r.localStore,e,!1).then(()=>Lc(r,e,t)).catch(ml)}),dt.apply(this,arguments)}function At(n,e){return ke.apply(this,arguments)}function ke(){return ke=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield ZA(t.localStore,e);um(t,r,null),cm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Io(t,i)}catch(i){yield ml(i)}}),ke.apply(this,arguments)}function Pt(n,e,t){return yn.apply(this,arguments)}function yn(){return yn=(0,be.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(o,u){const h=Qe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,u).next(D=>(vt(null!==D),v=D.keys(),h.mutationQueue.removeMutationBatch(m,D))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);um(r,e,t),cm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Io(r,i)}catch(i){yield ml(i)}}),yn.apply(this,arguments)}function Tl(){return Tl=(0,be.Z)(function*(n,e){const t=Qe(n);Cl(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const u=Qe(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Qh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Tl.apply(this,arguments)}function cm(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function um(n,e,t){const r=Qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Lc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||fy(n,r)})}function fy(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(ly(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),hm(n))}function dm(n,e,t){for(const r of t)r instanceof uM?(n.ac.addReference(r.key,e),D0(n,r)):r instanceof s?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||fy(n,r.key)):ct()}function D0(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),hm(n))}function hm(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(pn.fromString(e)),r=n.fc.next();n.cc.set(r,new d(t)),n.uc=n.uc.insert(t,r),ay(n.remoteStore,new bl(Ri(Hp(t.path)),r,2,is.at))}}function Io(n,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=[],o=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,m)=>{u.push(r._c(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const D=a0.Ci(m.targetId,v);o.push(D)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(h=(0,be.Z)(function*(m,v){const D=Qe(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>he.forEach(v,N=>he.forEach(N.Si,V=>D.persistence.referenceDelegate.addReference(S,N.targetId,V)).next(()=>he.forEach(N.Di,V=>D.persistence.referenceDelegate.removeReference(S,N.targetId,V)))))}catch(S){if(!gl(S))throw S;He("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const V=D.qi.get(N),ee=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.qi=D.qi.insert(N,ee)}}}),function(m,v){return h.apply(this,arguments)})(r.localStore,o))}),fm.apply(this,arguments)}function BB(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,be.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield cD(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new Fe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Io(t,r.ji)}var i}),dM.apply(this,arguments)}function VB(n,e){const t=Qe(n),r=t.cc.get(e);if(r&&r.nc)return Qt().add(r.key);{let i=Qt();const o=t.rc.get(e);if(!o)return i;for(const u of o){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function UB(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,be.Z)(function*(n,e){const t=Qe(n),r=yield X_(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&dm(t,e.targetId,i.Xu),i}),hM.apply(this,arguments)}function HB(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,be.Z)(function*(n,e){const t=Qe(n);return hD(t.localStore,e).then(r=>Io(t,r))}),fM.apply(this,arguments)}function jB(n,e,t,r){return pM.apply(this,arguments)}function pM(){return pM=(0,be.Z)(function*(n,e,t,r){const i=Qe(n),o=yield function(u,h){const m=Qe(u),v=Qe(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Tn(D,h).next(S=>S?m.localDocuments.getDocuments(D,S):he.resolve(null)))}(i.localStore,e);var h;null!==o?("pending"===t?yield Fc(i.remoteStore):"acknowledged"===t||"rejected"===t?(um(i,e,r||null),cm(i,e),h=e,Qe(Qe(i.localStore).mutationQueue).An(h)):ct(),yield Io(i,o)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),pM.apply(this,arguments)}function mM(){return mM=(0,be.Z)(function*(n,e){const t=Qe(n);if(vM(t),bM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield c1(t,r.toArray());t.dc=!0,yield hy(t.remoteStore,!0);for(const o of i)ay(t.remoteStore,o)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Lc(t,u),ld(t.localStore,u,!0))),ly(t.remoteStore,u)}),yield i,yield c1(t,r),function(o){const u=Qe(o);u.cc.forEach((h,m)=>{ly(u.remoteStore,m)}),u.ac.fs(),u.cc=new Map,u.uc=new Cr(Ge.comparator)}(t),t.dc=!1,yield hy(t.remoteStore,!1)}}),mM.apply(this,arguments)}function c1(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=[],o=[];for(const u of e){let h;const m=r.rc.get(u);if(m&&0!==m.length){h=yield Gh(r.localStore,Ri(m[0]));for(const v of m){const D=r.ic.get(v),S=yield UB(r,D);S.snapshot&&o.push(S.snapshot)}}else{const v=yield u0(r.localStore,u);h=yield Gh(r.localStore,v),yield w(r,u1(v),u,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(o),i}),gM.apply(this,arguments)}function u1(n){return lA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zB(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).vi()}function GB(n,e,t,r){return _M.apply(this,arguments)}function _M(){return _M=(0,be.Z)(function*(n,e,t,r){const i=Qe(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const o=i.rc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield hD(i.localStore,bb(o[0])),h=Ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Gr.EMPTY_BYTE_STRING);yield Io(i,u,h);break}case"rejected":yield ld(i.localStore,e,!0),Lc(i,e,r);break;default:ct()}}),_M.apply(this,arguments)}function qB(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,be.Z)(function*(n,e,t){const r=vM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const o=yield u0(r.localStore,i),u=yield Gh(r.localStore,o);yield w(r,u1(o),u.targetId,!1,u.resumeToken),ay(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield ld(r.localStore,i,!1).then(()=>{ly(r.remoteStore,i),Lc(r,i)}).catch(ml))}}),yM.apply(this,arguments)}function vM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=se.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ze.bind(null,e),e.sc.Wo=s1.bind(null,e.eventManager),e.sc.wc=o1.bind(null,e.eventManager),e}function bM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=At.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pt.bind(null,e),e}class d1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.yt=qh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Is(this.persistence,new K_,e.initialUser,this.yt)}yc(e){return new $A(Z_.Bs,this.yt)}gc(e){return new mD}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class h1 extends d1{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield bM(r.Ac.syncEngine),yield Fc(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Is(this.persistence,new K_,e.initialUser,this.yt)}Tc(e,t){return new ZR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new nE(t,this.persistence);return new tE(e.asyncQueue,r)}yc(e){const t=Ts(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new Y_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,p0(),tm(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new mD}}class ZB extends h1{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof iy&&(r.sharedClientState.syncEngine={Fr:jB.bind(null,i),$r:GB.bind(null,i),Br:qB.bind(null,i),vi:zB.bind(null,i),Mr:HB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var o=(0,be.Z)(function*(u){yield function $B(n,e){return mM.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(e){const t=p0();if(!iy.C(t))throw new Fe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ts(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wM{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>je(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=BB.bind(null,r.syncEngine),yield hy(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aM}createDatastore(e){const t=qh(e.databaseInfo.databaseId),r=new yD(e.databaseInfo);return new bD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>je(this.syncEngine,h,0),u=KA.C()?new KA:new gD,new t1(t,r,i,o,u);var t,r,i,o,u}createSyncEngine(e,t){return function(r,i,o,u,h,m,v){const D=new f(r,i,o,u,h,m);return v&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Qe(t);He("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Zh(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function CM(n,e,t){if(!t)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f1(n,e,t,r){if(!0===e&&!0===r)throw new Fe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p1(n){if(!Ge.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m1(n){if(Ge.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ND(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ND(n);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function g1(n,e){if(e<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const _1=new Map;class y1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZS;switch(t.type){case"gapi":return new QC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_1.get(e);t&&(He("ComponentProvider","Removing Datastore"),_1.delete(e),t.terminate())}(this),Promise.resolve()}}function v1(n,e,t,r={}){var i;const o=(n=gn(n,T0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&_c("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Vr.MOCK_USER;else{u=(0,Wt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vr(m)}n._authCredentials=new YS(new nb(u,h))}}class gr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class Bc extends Hi{constructor(e,t,r){super(e,t,Hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Ge(e))}withConverter(e){return new Bc(this.firestore,e,this._path)}}function b1(n,e,...t){if(n=(0,Wt.m9)(n),CM("collection","path",e),n instanceof T0){const r=pn.fromString(e,...t);return m1(r),new Bc(n,null,r)}{if(!(n instanceof gr||n instanceof Bc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return m1(r),new Bc(n.firestore,null,r)}}function PD(n,e,...t){if(n=(0,Wt.m9)(n),1===arguments.length&&(e=ib.R()),CM("doc","path",e),n instanceof T0){const r=pn.fromString(e,...t);return p1(r),new gr(n,null,new Ge(r))}{if(!(n instanceof gr||n instanceof Bc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return p1(r),new gr(n.firestore,n instanceof Bc?n.converter:null,new Ge(r))}}function w1(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),(n instanceof gr||n instanceof Bc)&&(e instanceof gr||e instanceof Bc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function EM(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),n instanceof Hi&&e instanceof Hi&&n.firestore===e.firestore&&jp(n._query,e._query)&&n.converter===e.converter}function C1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class FD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KB{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new on,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const o=yield e.Cc(i);return new a1(JSON.parse(o),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,be.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class JB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(o,u){const h=Qe(o),m=qp(h.yt)+"/documents",v={documents:u.map(V=>Gp(h.yt,V))},D=yield h._o("BatchGetDocuments",m,v,u.length),S=new Map;D.forEach(V=>{const z=function vA(n,e){return"found"in e?function(t,r){vt(!!r.found);const i=Eo(t,r.found.name),o=Ur(r.found.updateTime),u=r.found.createTime?Ur(r.found.createTime):Et.min(),h=new kr({mapValue:{fields:r.found.fields}});return er.newFoundDocument(i,o,u,h)}(n,e):"missing"in e?function(t,r){vt(!!r.missing),vt(!!r.readTime);const i=Eo(t,r.missing),o=Ur(r.readTime);return er.newNoDocument(i,o)}(n,e):ct()}(h.yt,V);S.set(z.key.toString(),z)});const N=[];return u.forEach(V=>{const z=S.get(V.toString());vt(!!z),N.push(z)}),N}),function(o,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Ge.fromPath(i);e.mutations.push(new Tb(o,e.precondition(o)))}),yield(r=(0,be.Z)(function*(i,o){const u=Qe(i),h=qp(u.yt)+"/documents",m={writes:o.map(v=>vl(u.yt,v))};yield u.ao("Commit",h,m)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?sr.exists(!1):sr.updateTime(t):sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Fe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sr.updateTime(t)}return sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eV{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.kc=r.maxAttempts,this.xo=new Wh(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,be.Z)(function*(){const t=new JB(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Fc(o)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Np(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ib(t)}return!1}}class tV{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=ib.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,be.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(He("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Qh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function E1(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(o){r.isEqual(o)||(yield cD(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),DM.apply(this,arguments)}function D1(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield IM(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>MD(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>MD(e.remoteStore,o)),n.onlineComponents=e}),TM.apply(this,arguments)}function IM(n){return SM.apply(this,arguments)}function SM(){return SM=(0,be.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield E1(n,new d1)),n.offlineComponents}),SM.apply(this,arguments)}function LD(n){return AM.apply(this,arguments)}function AM(){return AM=(0,be.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield D1(n,new wM)),n.onlineComponents}),AM.apply(this,arguments)}function T1(n){return IM(n).then(e=>e.persistence)}function BD(n){return IM(n).then(e=>e.localStore)}function MM(n){return LD(n).then(e=>e.remoteStore)}function xM(n){return LD(n).then(e=>e.syncEngine)}function py(n){return kM.apply(this,arguments)}function kM(){return kM=(0,be.Z)(function*(n){const e=yield LD(n),t=e.eventManager;return t.onListen=p.bind(null,e.syncEngine),t.onUnlisten=A.bind(null,e.syncEngine),t}),kM.apply(this,arguments)}function S1(n,e,t={}){const r=new on;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,o,u,h,m){const v=new FD({next:S=>{o.enqueueAndForget(()=>kD(i,D));const N=S.docs.has(u);!N&&S.fromCache?m.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&"server"===h.source?m.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),D=new OD(Hp(u.path),v,{includeMetadataChanges:!0,Nu:!0});return C0(i,D)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}function A1(n,e,t={}){const r=new on;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,o,u,h,m){const v=new FD({next:S=>{o.enqueueAndForget(()=>kD(i,D)),S.fromCache&&"server"===h.source?m.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),D=new OD(u,v,{includeMetadataChanges:!0,Nu:!0});return C0(i,D)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}class cV{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Wh(this,"async_queue_retry"),this.Wc=()=>{const t=tm();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=tm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=tm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new on;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!gl(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,br("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=am.createAndSchedule(this,e,t,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&ct()}verifyOperationInProgress(){}Xc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function RM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class uV{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _r extends T0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||M1(this),this._firestoreClient.terminate()}}function hV(n,e){const t="object"==typeof n?n:(0,xr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,xr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,Wt.P0)("firestore");o&&v1(i,...o)}return i}function Zr(n){return n._firestoreClient||M1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function M1(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rE(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new tV(n._authCredentials,n._appCheckCredentials,n._queue,r)}function x1(n,e,t){const r=new on;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield E1(n,t),yield D1(n,e),r.resolve()}catch(i){const o=i;if(!("FirebaseError"===(u=o).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;_c("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function k1(n){if(n._initialized||n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vc(Gr.fromBase64String(e))}catch(t){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vc(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pm{constructor(e){this._methodName=e}}class VD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const wV=/^__.*__$/;class CV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class R1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class UD{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new UD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $D(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(O1(this.sa)&&wV.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class EV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||qh(e)}da(e,t,r,i=!1){return new UD({sa:e,methodName:t,fa:r,path:Sn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function mm(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new EV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HD(n,e,t,r,i,o={}){const u=n.da(o.merge||o.mergeFields?2:0,e,t,i);FM("Data must be an object, but it was:",u,r);const h=F1(r,u);let m,v;if(o.merge)m=new ni(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const S of o.mergeFields){const N=LM(e,S,t);if(!u.contains(N))throw new Fe(me.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);B1(D,N)||D.push(N)}m=new ni(D),v=u.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,v=u.fieldTransforms;return new CV(new kr(h),m,v)}class I0 extends pm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof I0}}function N1(n,e,t){return new UD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class OM extends pm{_toFieldTransform(e){return new Yu(e.path,new kh)}isEqual(e){return e instanceof OM}}class DV extends pm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=N1(this,e,!0),r=this._a.map(o=>gm(o,t)),i=new yl(r);return new Yu(e.path,i)}isEqual(e){return this===e}}class TV extends pm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=N1(this,e,!0),r=this._a.map(o=>gm(o,t)),i=new Mc(r);return new Yu(e.path,i)}isEqual(e){return this===e}}class IV extends pm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Rh(e.yt,wb(e.yt,this.wa));return new Yu(e.path,t)}isEqual(e){return this===e}}function NM(n,e,t,r){const i=n.da(1,e,t);FM("Data must be an object, but it was:",i,r);const o=[],u=kr.empty();Uu(r,(m,v)=>{const D=jD(e,m,t);v=(0,Wt.m9)(v);const S=i.ca(D);if(v instanceof I0)o.push(D);else{const N=gm(v,S);null!=N&&(o.push(D),u.set(D,N))}});const h=new ni(o);return new R1(u,h,i.fieldTransforms)}function PM(n,e,t,r,i,o){const u=n.da(1,e,t),h=[LM(e,r,t)],m=[i];if(o.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)h.push(LM(e,o[N])),m.push(o[N+1]);const v=[],D=kr.empty();for(let N=h.length-1;N>=0;--N)if(!B1(v,h[N])){const V=h[N];let z=m[N];z=(0,Wt.m9)(z);const ee=u.ca(V);if(z instanceof I0)v.push(V);else{const ne=gm(z,ee);null!=ne&&(v.push(V),D.set(V,ne))}}const S=new ni(v);return new R1(D,S,u.fieldTransforms)}function P1(n,e,t,r=!1){return gm(t,n.da(r?4:3,e))}function gm(n,e){if(L1(n=(0,Wt.m9)(n)))return FM("Unsupported field value:",e,n),F1(n,e);if(n instanceof pm)return function(t,r){if(!O1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const u of t){let h=gm(u,r.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wb(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qn.fromDate(t);return{timestampValue:Fh(r.yt,i)}}if(t instanceof qn){const i=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fh(r.yt,i)}}if(t instanceof VD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vc)return{bytesValue:VE(r.yt,t._byteString)};if(t instanceof gr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${ND(t)}`)}(n,e)}function F1(n,e){const t={};return sE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,(r,i)=>{const o=gm(i,e.ra(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function L1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof VD||n instanceof Vc||n instanceof gr||n instanceof pm)}function FM(n,e,t){if(!L1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ND(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function LM(n,e,t){if((e=(0,Wt.m9)(e))instanceof cd)return e._internalPath;if("string"==typeof e)return jD(n,e);throw $D("Field path arguments must be of type string or ",n,!1,void 0,t)}const SV=new RegExp("[~\\*/\\[\\]]");function jD(n,e,t){if(e.search(SV)>=0)throw $D(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cd(...e.split("."))._internalPath}catch{throw $D(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $D(n,e,t,r,i){const o=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Fe(me.INVALID_ARGUMENT,h+n+m)}function B1(n,e){return n.some(t=>t.isEqual(e))}class S0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AV extends S0{data(){return super.data()}}function zD(n,e){return"string"==typeof e?jD(n,e):e instanceof cd?e._internalPath:e._delegate._internalPath}function V1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BM{}class A0 extends BM{}function Jh(n,e,...t){let r=[];e instanceof BM&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof my).length,u=i.filter(h=>h instanceof M0).length;if(o>1||o>0&&u>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class M0 extends A0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new M0(e,t,r)}_apply(e){const t=this._parse(e);return $1(e._query,t),new Hi(e.firestore,e.converter,Zu(e._query,t))}_parse(e){const t=mm(e.firestore);return function(i,o,u,h,m,v,D){let S;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){j1(D,v);const N=[];for(const V of D)N.push(H1(h,i,V));S={arrayValue:{values:N}}}else S=H1(h,i,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||j1(D,v),S=P1(u,"where",D,"in"===v||"not-in"===v);return un.create(m,v,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class my extends BM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new my(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const u=i.getFlattenedFilters();for(const h of u)$1(o,h),o=Zu(o,h)}(e._query,t),new Hi(e.firestore,e.converter,Zu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VM extends A0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VM(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Sh(i,o);return function(h,m){if(null===v_(h)){const v=qu(h);null!==v&&z1(0,v,m.field)}}(r,u),u}(e._query,this._field,this._direction);return new Hi(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ac(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GD extends A0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new GD(e,t,r)}_apply(e){return new Hi(e.firestore,e.converter,b_(e._query,this._limit,this._limitType))}}class qD extends A0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new qD(e,t,r)}_apply(e){const t=U1(e,this.type,this._docOrFields,this._inclusive);return new Hi(e.firestore,e.converter,(i=t,new Ac((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class WD extends A0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new WD(e,t,r)}_apply(e){const t=U1(e,this.type,this._docOrFields,this._inclusive);return new Hi(e.firestore,e.converter,(i=t,new Ac((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function U1(n,e,t,r){if(t[0]=(0,Wt.m9)(t[0]),t[0]instanceof S0)return function(i,o,u,h,m){if(!h)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Wu(i))if(D.field.isKeyField())v.push(Tc(o,h.key));else{const S=h.data.field(D.field);if(lb(S))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=D.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(S)}return new zu(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=mm(n.firestore);return function(o,u,h,m,v,D){const S=o.explicitOrderBy;if(v.length>S.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let V=0;V<v.length;V++){const z=v[V];if(S[V].field.isKeyField()){if("string"!=typeof z)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!_b(o)&&-1!==z.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const ee=o.path.child(pn.fromString(z));if(!Ge.isDocumentKey(ee))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ne=new Ge(ee);N.push(Tc(u,ne))}else{const ee=P1(h,m,z);N.push(ee)}}return new zu(N,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function H1(n,e,t){if("string"==typeof(t=(0,Wt.m9)(t))){if(""===t)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&-1!==t.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!Ge.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tc(n,new Ge(r))}if(t instanceof gr)return Tc(n,t._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ND(t)}.`)}function j1(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $1(n,e){if(e.isInequality()){const r=qu(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=v_(n);null!==o&&z1(0,i,o)}const t=function(r,i){for(const o of r)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function z1(n,e,t){if(!t.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class UM{convertValue(e,t="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return Uu(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new VD(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=aE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=Cc(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);vt(ZE(r));const i=new wc(r.get(1),r.get(3)),o=new Ge(r.popFirst(5));return i.isEqual(t)||br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function ZD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class LV extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}class _m{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ud extends S0{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class x0 extends ud{data(e={}){return super.data(e)}}class ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _m(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new x0(this._firestore,this._userDataWriter,r.key,r,new _m(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new x0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _m(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new x0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _m(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:BV(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function q1(n,e){return n instanceof ud&&e instanceof ud?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&EM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}function W1(n,e,t){n=gn(n,gr);const r=gn(n.firestore,_r),i=ZD(n.converter,e,t);return gy(r,[HD(mm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,sr.none())])}function Z1(n,e,t,...r){n=gn(n,gr);const i=gn(n.firestore,_r),o=mm(i);let u;return u="string"==typeof(e=(0,Wt.m9)(e))||e instanceof cd?PM(o,"updateDoc",n._key,e,t,r):NM(o,"updateDoc",n._key,e),gy(i,[u.toMutation(n._key,sr.exists(!0))])}function Y1(n,...e){var t,r,i;n=(0,Wt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||RM(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(RM(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let m,v,D;if(n instanceof gr)v=gn(n.firestore,_r),D=Hp(n._key.path),m={next:S=>{e[u]&&e[u](HM(v,n,S))},error:e[u+1],complete:e[u+2]};else{const S=gn(n,Hi);v=gn(S.firestore,_r),D=S._query;const N=new tf(v);m={next:V=>{e[u]&&e[u](new ef(v,N,S,V))},error:e[u+1],complete:e[u+2]},V1(n._query)}return function(S,N,V,z){const ee=new FD(z),ne=new OD(N,ee,V);return S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return C0(yield py(S),ne)})),()=>{ee.bc(),S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return kD(yield py(S),ne)}))}}(Zr(v),D,h,m)}function gy(n,e){return function(t,r){const i=new on;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function L(n,e,t){return Z.apply(this,arguments)}(yield xM(t),r,i)})),i.promise}(Zr(n),e)}function HM(n,e,t){const r=t.docs.get(e._key),i=new tf(n);return new ud(n,i,e._key,r,new _m(t.hasPendingWrites,t.fromCache),e.converter)}const ZV={maxAttempts:5};class K1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mm(e)}set(e,t,r){this._verifyNotCommitted();const i=nf(e,this._firestore),o=ZD(i.converter,t,r),u=HD(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,sr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=nf(e,this._firestore);let u;return u="string"==typeof(t=(0,Wt.m9)(t))||t instanceof cd?PM(this._dataReader,"WriteBatch.update",o._key,t,r,i):NM(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new Oh(t._key,sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,Wt.m9)(n)).firestore!==e)throw new Fe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class YV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mm(e)}get(e){const t=nf(e,this._firestore),r=new LV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ct();const o=i[0];if(o.isFoundDocument())return new S0(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new S0(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const i=nf(e,this._firestore),o=ZD(i.converter,t,r),u=HD(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=nf(e,this._firestore);let u;return u="string"==typeof(t=(0,Wt.m9)(t))||t instanceof cd?PM(this._dataReader,"Transaction.update",o._key,t,r,i):NM(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),r=new tf(this._firestore);return super.get(e).then(i=>new ud(this._firestore,r,t._key,i._document,new _m(!1,!1),t.converter))}}function jM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function X1(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function J1(){if(!function tA(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){gc=xr.SDK_VERSION,(0,xr._registerComponent)(new rp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),u=new _r(new KC(t.getProvider("auth-internal")),new bh(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(h.options.projectId,m)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,xr.registerVersion)(tb,"3.8.1",n),(0,xr.registerVersion)(tb,"3.8.1","esm2017")}();class k0{constructor(e){this._delegate=e}static fromBase64String(e){return J1(),new k0(Vc.fromBase64String(e))}static fromUint8Array(e){return X1(),new k0(Vc.fromUint8Array(e))}toBase64(){return J1(),this._delegate.toBase64()}toUint8Array(){return X1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $M(n){return function s2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class o2{enableIndexedDbPersistence(e,t){return function fV(n,e){k1(n=gn(n,_r));const t=Zr(n),r=n._freezeSettings(),i=new wM;return x1(t,i,new h1(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pV(n){k1(n=gn(n,_r));const e=Zr(n),t=n._freezeSettings(),r=new wM;return x1(e,r,new ZB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mV(n){if(n._initialized&&!n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new on;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Zs.C())return Promise.resolve();const i=r+"main";yield Zs.delete(i)}),function(r){return t.apply(this,arguments)})(Ts(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class eO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof wc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){v1(this._delegate,e,t,r)}enableNetwork(){return function _V(n){return function nV(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield T1(n),t=yield MM(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i._u.delete(0),sy(i)}(t)}))}(Zr(n=gn(n,_r)))}(this._delegate)}disableNetwork(){return function yV(n){return function rV(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield T1(n),t=yield MM(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const o=Qe(i);o._u.add(0),yield Zh(o),o.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zr(n=gn(n,_r)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,f1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gV(n){return function(e){const t=new on;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function or(n,e){return Tl.apply(this,arguments)}(yield xM(e),t)})),t.promise}(Zr(n=gn(n,_r)))}(this._delegate)}onSnapshotsInSync(e){return function WV(n,e){return function oV(n,e){const t=new FD(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield py(n),i=t,Qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield py(n),i=t,void Qe(r).Ru.delete(i);var r,i}))}}(Zr(n=gn(n,_r)),RM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,b1(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,PD(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new As(this,function YB(n,e){if(n=gn(n,T0),CM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hi(n,null,(t=e,new Ac(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function KV(n,e,t){n=gn(n,_r);const r=Object.assign(Object.assign({},ZV),t);return function(i){if(i.maxAttempts<1)throw new Fe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,u){const h=new on;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const m=yield function I1(n){return LD(n).then(e=>e.datastore)}(i);new eV(i.asyncQueue,m,u,o,h).run()})),h.promise}(Zr(n),i=>e(new YV(n,i)),r)}(this._delegate,t=>e(new tO(this,t)))}batch(){return Zr(this._delegate),new nO(new K1(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function vV(n,e){const t=Zr(n=gn(n,_r)),r=new uV;return function aV(n,e,t,r){const i=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return C1(m,v);if(m instanceof ArrayBuffer)return C1(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new KB(m,u);var m}(t,qh(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function WB(n,e,t){const r=Qe(n);var i;(i=(0,be.Z)(function*(o,u,h){try{const m=yield u.getMetadata();if(yield function(N,V){const z=Qe(N),ee=Ur(V.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ne=>z.Ns.getBundleMetadata(ne,V.id)).then(ne=>!!ne&&ne.createTime.compareTo(ee)>=0)}(o.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=m).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(cM(m));const v=new l1(m,o.localStore,u.yt);let D=yield u.mc();for(;D;){const N=yield v.Fu(D);N&&h._updateProgress(N),D=yield u.mc()}const S=yield v.complete();return yield Io(o,S.Lu,void 0),yield function(N,V){const z=Qe(N);return z.persistence.runTransaction("Save bundle","readwrite",ee=>z.Ns.saveBundleMetadata(ee,V))}(o.localStore,m),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(m){return _c("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var N}),function(o,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield xM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bV(n,e){return function lV(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ns.getNamedQuery(o,r))}(yield BD(n),e)}))}(Zr(n=gn(n,_r)),e).then(t=>t?new Hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new As(this,t):null)}}class YD extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new k0(new Vc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class tO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}get(e){const t=vm(e);return this._delegate.get(t).then(r=>new R0(this._firestore,new ud(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=vm(e);return r?(jM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=vm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=vm(e);return this._delegate.delete(t),this}}class nO{constructor(e){this._delegate=e}set(e,t,r){const i=vm(e);return r?(jM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=vm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=vm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ym{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new x0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new O0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ym.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new ym(e,new YD(e),t),i.set(t,o)),o}}ym.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new gr(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new wa(t,new gr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,b1(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wt.m9)(e))instanceof gr&&w1(this._delegate,e)}set(e,t){t=jM("DocumentReference.set",t);try{return t?W1(this._delegate,e,t):W1(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Z1(this._delegate,e):Z1(this._delegate,e,t,...r)}catch(i){throw Ss(i,"updateDoc()","DocumentReference.update()")}}delete(){return function GV(n){return gy(gn(n.firestore,_r),[new Oh(n._key,sr.none())])}(this._delegate)}onSnapshot(...e){const t=rO(e),r=iO(e,i=>new R0(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Y1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function UV(n){n=gn(n,gr);const e=gn(n.firestore,_r),t=Zr(e),r=new tf(e);return function iV(n,e){const t=new on;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,o,u){try{const h=yield function(m,v){const D=Qe(m);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,v))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Fe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=Qh(h,`Failed to get document '${o} from cache`);u.reject(m)}}),function(i,o,u){return r.apply(this,arguments)})(yield BD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ud(e,r,n._key,i,new _m(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function HV(n){n=gn(n,gr);const e=gn(n.firestore,_r);return S1(Zr(e),n._key,{source:"server"}).then(t=>HM(e,n,t))}(this._delegate):function VV(n){n=gn(n,gr);const e=gn(n.firestore,_r);return S1(Zr(e),n._key).then(t=>HM(e,n,t))}(this._delegate),t.then(r=>new R0(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?ym.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function rO(n){for(const e of n)if("object"==typeof e&&!$M(e))return e;return{}}function iO(n,e){var t,r;let i;return i=$M(n[0])?n[0]:$M(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class R0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return q1(this._delegate,e._delegate)}}class O0 extends R0{data(e){const t=this._delegate.data(e);return function WS(n,e){n||ct()}(void 0!==t),t}}class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}where(e,t,r){try{return new As(this.firestore,Jh(this._delegate,function MV(n,e,t){const r=e,i=zD("where",n);return M0._create(i,r,t)}(e,t,r)))}catch(i){throw Ss(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new As(this.firestore,Jh(this._delegate,function xV(n,e="asc"){const t=e,r=zD("orderBy",n);return VM._create(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,Jh(this._delegate,function kV(n){return g1("limit",n),GD._create("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,Jh(this._delegate,function RV(n){return g1("limitToLast",n),GD._create("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,Jh(this._delegate,function OV(...n){return qD._create("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,Jh(this._delegate,function NV(...n){return qD._create("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,Jh(this._delegate,function PV(...n){return WD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,Jh(this._delegate,function FV(...n){return WD._create("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return EM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $V(n){n=gn(n,Hi);const e=gn(n.firestore,_r),t=Zr(e),r=new tf(e);return function sV(n,e){const t=new on;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,o,u){try{const h=yield X_(i,o,!0),m=new l(o,h.Hi),v=m.Wu(h.documents),D=m.applyChanges(v,!1);u.resolve(D.snapshot)}catch(h){const m=Qh(h,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(i,o,u){return r.apply(this,arguments)})(yield BD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate):"server"===e?.source?function zV(n){n=gn(n,Hi);const e=gn(n.firestore,_r),t=Zr(e),r=new tf(e);return A1(t,n._query,{source:"server"}).then(i=>new ef(e,r,n,i))}(this._delegate):function jV(n){n=gn(n,Hi);const e=gn(n.firestore,_r),t=Zr(e),r=new tf(e);return V1(n._query),A1(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate),t.then(r=>new zM(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=rO(e),r=iO(e,i=>new zM(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Y1(this._delegate,t,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?ym.getInstance(this.firestore,e):null))}}class l2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new O0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new O0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new l2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new O0(this._firestore,r))})}isEqual(e){return q1(this._delegate,e._delegate)}}class _y extends As{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?PD(this._delegate):PD(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function qV(n,e){const t=gn(n.firestore,_r),r=PD(n),i=ZD(n.converter,e);return gy(t,[HD(mm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return w1(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?ym.getInstance(this.firestore,e):null))}}function vm(n){return gn(n,gr)}class GM{constructor(...e){this._delegate=new cd(...e)}static documentId(){return new GM(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,Wt.m9)(e))instanceof cd&&this._delegate._internalPath.isEqual(e._internalPath)}}class bm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function XV(){return new OM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bm(e)}static delete(){const e=function QV(){return new I0("deleteField")}();return e._methodName="FieldValue.delete",new bm(e)}static arrayUnion(...e){const t=function JV(...n){return new DV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bm(t)}static arrayRemove(...e){const t=function e2(...n){return new TV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bm(t)}static increment(e){const t=function t2(n){return new IV("increment",n)}(e);return t._methodName="FieldValue.increment",new bm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const c2={Firestore:eO,GeoPoint:VD,Timestamp:qn,Blob:k0,Transaction:tO,WriteBatch:nO,DocumentReference:wa,DocumentSnapshot:R0,Query:As,QueryDocumentSnapshot:O0,QuerySnapshot:zM,CollectionReference:_y,FieldPath:GM,FieldValue:bm,setLogLevel:function a2(n){!function YC(n){pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function d2(n){(function u2(n,e){n.INTERNAL.registerComponent(new rp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},c2)))})(n,(e,t)=>new eO(e,t,new o2)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(sC.Z);var dd=F(6451),KD=F(5363),h2=F(6063);class f2 extends Lt.x{constructor(e=1/0,t=1/0,r=h2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:u}=this;t||(r.push(e),!i&&r.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let u=0;u<o.length&&!e.closed;u+=r?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const u=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=u;m+=2)h=m;h&&r.splice(0,h+1)}}}var sO=F(3099);function oO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,sO.B)({connector:()=>new f2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function aO(n,e){return(0,Sr.m)(e)?Qn(()=>n,e):Qn(()=>n)}var qM=F(9468),rf=F(259);class wm{constructor(e){return e}}class WM{constructor(){return(0,rf.C6)()}}const ZM=new a.OlP("angularfire2._apps"),m2={provide:wm,useFactory:function p2(n){return n&&1===n.length?n[0]:new wm((0,rf.Mq)())},deps:[[new a.FiY,ZM]]},g2={provide:WM,deps:[[new a.FiY,ZM]]};function _2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wm(r)}}let y2=(()=>{class n{constructor(t){(0,rf.KN)("angularfire",nn.q4.full,"core"),(0,rf.KN)("angularfire",nn.q4.full,"app"),(0,rf.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[m2,g2]}),n})();function v2(n,...e){return{ngModule:y2,providers:[{provide:ZM,useFactory:_2(n),multi:!0,deps:[a.R0b,a.zs3,nn.HU,...e]}]}}const b2=(0,nn.u3)(rf.ZF,!0),YM=new Map,lO={activated:!1,tokenObservers:[]},w2={initialized:!1,enabled:!1};function ji(n){return YM.get(n)||Object.assign({},lO)}function QD(){return w2}class S2{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Wt.BH,yield function A2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uO(n){if(!ji(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function XM(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,o)}catch(S){throw Ms.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Ms.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Ms.create("fetch-parse-error",{originalErrorMessage:S?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+v,issuedAtTimeMillis:D}}),JM.apply(this,arguments)}function R2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const N0="firebase-app-check-store";let eT=null;function hO(){return eT||(eT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ms.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(N0,{keyPath:"compositeKey"})}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t?.message}))}}),eT)}function ex(){return ex=(0,be.Z)(function*(n,e){const r=(yield hO()).transaction(N0,"readwrite"),o=r.objectStore(N0).put({compositeKey:n,value:e});return new Promise((u,h)=>{o.onsuccess=m=>{u()},r.onerror=m=>{var v;h(Ms.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),ex.apply(this,arguments)}const P0=new fa.Yd("@firebase/app-check");function rx(n,e){return(0,Wt.hl)()?function F2(n,e){return function fO(n,e){return ex.apply(this,arguments)}(function mO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{P0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gO(){return QD().enabled}function _O(){return sx.apply(this,arguments)}function sx(){return sx=(0,be.Z)(function*(){const n=QD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sx.apply(this,arguments)}const j2={error:"UNKNOWN_ERROR"};function $2(n){return Wt.US.encodeString(JSON.stringify(n),!1)}function tT(n){return ox.apply(this,arguments)}function ox(){return ox=(0,be.Z)(function*(n,e=!1){const t=n.app;uO(t);const r=ji(t);let o,i=r.token;if(i&&!yy(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(yy(m)?i=m:yield rx(t,void 0))}if(!e&&i&&yy(i))return{token:i.token};let h,u=!1;if(gO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XM(R2(t,yield _O()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const m=yield r.exchangeTokenPromise;return yield rx(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield ji(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?P0.warn(m.message):P0.error(m),o=m}return i?o?h=yy(i)?{token:i.token,internalError:o}:bO(o):(h={token:i.token},r.token=i,yield rx(t,i)):h=bO(o),u&&vO(t,h),h}),ox.apply(this,arguments)}function lx(n,e){const t=ji(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yO(n){const{app:e}=n,t=ji(e);let r=t.tokenRefresher;r||(r=function z2(n){const{app:e}=n;return new S2((0,be.Z)(function*(){let r;if(r=ji(e).token?yield tT(n,!0):yield tT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ji(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vO(n,e){const t=ji(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function yy(n){return n.expireTimeMillis-Date.now()>0}function bO(n){return{token:$2(j2),error:n}}class G2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ji(this.app);for(const t of e)lx(this.app,t.next);return Promise.resolve()}}const AO="app-check-internal";!function sU(){(0,xr._registerComponent)(new rp.wA("app-check",n=>function q2(n,e){return new G2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(AO).initialize()})),(0,xr._registerComponent)(new rp.wA(AO,n=>function W2(n){return{getToken:e=>tT(n,e),addTokenListener:e=>function ax(n,e,t,r){const{app:i}=n,o=ji(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&yy(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),yO(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yO(n))}(n,"INTERNAL",e),removeTokenListener:e=>lx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xr.registerVersion)("@firebase/app-check","0.6.1")}();class F0{constructor(){return(0,nn.vb)("app-check")}}typeof window<"u"&&window;var uU=F(9260);const xO=new a.OlP("angularfire2.auth.use-emulator"),kO=new a.OlP("angularfire2.auth.settings"),RO=new a.OlP("angularfire2.auth.tenant-id"),OO=new a.OlP("angularfire2.auth.langugage-code"),NO=new a.OlP("angularfire2.auth.use-device-language"),PO=new a.OlP("angularfire.auth.persistence"),FO=(n,e,t,r,i,o,u,h)=>(0,bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,o&&m.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))m.settings[v]=D;return h&&m.setPersistence(h),m},[t,r,i,o,u,h]);let fx=(()=>{class n{constructor(t,r,i,o,u,h,m,v,D,S,N,V){const z=new Lt.x,ee=tt(void 0).pipe((0,KD.Q)(u.outsideAngular),Qn(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,nt.U)(()=>(0,bo.on)(t,o,r)),(0,nt.U)(ne=>FO(ne,o,h,v,D,S,m,N)),oO({bufferSize:1,refCount:!1}));if(Vo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{ee.pipe(K()).subscribe();const Be=ee.pipe(Qn(We=>We.getRedirectResult().then(Dt=>Dt,()=>null)),nn.iC,oO({bufferSize:1,refCount:!1})),st=ee.pipe(Qn(We=>new Kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>We.onAuthStateChanged(Tt=>Dt.next(Tt),Tt=>Dt.error(Tt),()=>Dt.complete()))})))),Ke=ee.pipe(Qn(We=>new Kn.y(Dt=>({unsubscribe:o.runOutsideAngular(()=>We.onIdTokenChanged(Tt=>Dt.next(Tt),Tt=>Dt.error(Tt),()=>Dt.complete()))}))));this.authState=Be.pipe(aO(st),(0,qM.R)(u.outsideAngular),(0,KD.Q)(u.insideAngular)),this.user=Be.pipe(aO(Ke),(0,qM.R)(u.outsideAngular),(0,KD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Qn(We=>We?(0,fn.D)(We.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Qn(We=>We?(0,fn.D)(We.getIdTokenResult()):tt(null))),this.credential=(0,dd.T)(Be,z,this.authState.pipe(vr(We=>!We))).pipe((0,nt.U)(We=>We?.user?We:null),(0,qM.R)(u.outsideAngular),(0,KD.Q)(u.insideAngular))}return(0,bo.pX)(this,ee,o,{spy:{apply:(ne,Be,st)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&st.then(Ke=>z.next(Ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bo.Dh),a.LFG(bo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(nn.HU),a.LFG(xO,8),a.LFG(kO,8),a.LFG(RO,8),a.LFG(OO,8),a.LFG(NO,8),a.LFG(PO,8),a.LFG(F0,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function LO(n,e){return function hU(n,e=Mg.z){return new Kn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function px(n,e){return LO(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function rT(n,e){return px(n,e).pipe(ei(void 0),_v(),(0,nt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const m=i.find(D=>D.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function BO(n,e,t){return rT(n,t).pipe(_t((r,i)=>function pU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),np(),(0,nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function mx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class UO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=rT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ei(void 0),_v(),vr(([r,i])=>i.length>0||!r),(0,nt.U)(([r,i])=>i),nn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_t((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VO(e);return BO(this.query,t,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(e={}){return px(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),nn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(nn.iC)}add(e){return this.ref.add(e)}doc(e){return new HO(this.ref.doc(e),this.afs)}}class HO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=zO(r,t);return new UO(i,o,this.afs)}snapshotChanges(){return function fU(n,e){return LO(n,e).pipe(ei(void 0),_v(),(0,nt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(nn.iC)}}class gU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rT(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vr(t=>t.length>0),nn.iC):rT(this.query,this.afs.schedulers.outsideAngular).pipe(nn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_t((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VO(e);return BO(this.query,t,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(e={}){return px(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),nn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(nn.iC)}}const jO=new a.OlP("angularfire2.enableFirestorePersistence"),$O=new a.OlP("angularfire2.firestore.persistenceSettings"),_U=new a.OlP("angularfire2.firestore.settings"),yU=new a.OlP("angularfire2.firestore.use-emulator");function zO(n,e=(t=>t)){return{query:e(n),ref:n}}let iT=(()=>{class n{constructor(t,r,i,o,u,h,m,v,D,S,N,V,z,ee,ne,Be,st){this.schedulers=m;const Ke=(0,bo.on)(t,h,r),We=D;S&&FO(Ke,h,N,z,ee,ne,V,Be),[this.firestore,this.persistenceEnabled$]=(0,bo.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const Dt=h.runOutsideAngular(()=>Ke.firestore());if(o&&Dt.settings(o),We&&Dt.useEmulator(...We),i&&!Vo(u)){const Tt=()=>{try{return(0,fn.D)(Dt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(an){return typeof console<"u"&&console.warn(an),tt(!1)}};return[Dt,h.runOutsideAngular(Tt)]}return[Dt,tt(!1)]},[o,We,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=zO(i,r),h=this.schedulers.ngZone.run(()=>o);return new UO(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),o=this.firestore.collectionGroup(t);return new gU(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new HO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bo.Dh),a.LFG(bo.xv,8),a.LFG(jO,8),a.LFG(_U,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(nn.HU),a.LFG($O,8),a.LFG(yU,8),a.LFG(fx,8),a.LFG(xO,8),a.LFG(kO,8),a.LFG(RO,8),a.LFG(OO,8),a.LFG(NO,8),a.LFG(PO,8),a.LFG(F0,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vU=(()=>{class n{constructor(){uU.Z.registerVersion("angularfire",nn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:jO,useValue:!0},{provide:$O,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[iT]}),n})();function vy(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ZO(n,e=Mg.z){return(0,xn.e)((t,r)=>{let i=null,o=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const v=o;o=null,r.next(v)}};function m(){const v=u+n,D=e.now();if(D<v)return i=this.schedule(void 0,v-D),void r.add(i);h()}t.subscribe((0,Gn.x)(r,v=>{o=v,u=e.now(),i||(i=e.schedule(m,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}var OU=F(5032);function Rr(n){return(0,xn.e)((e,t)=>{(0,Ki.Xf)(n).subscribe((0,Gn.x)(t,()=>t.complete(),OU.Z)),!t.closed&&e.subscribe(t)})}function Ln(n){return null!=n&&"false"!=`${n}`}function Uc(n,e=0){return function NU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function YO(n){return Array.isArray(n)?n:[n]}function ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}function hd(n){return n instanceof a.SBq?n.nativeElement:n}let yx;try{yx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yx=!1}let by,Ni=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ii(n){return n===Ti}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const KO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function QO(){if(by)return by;if("object"!=typeof document||!document)return by=new Set(KO),by;let n=document.createElement("input");return by=new Set(KO.filter(e=>(n.setAttribute("type",e),n.type===e))),by}let L0,Cm,vx,Il;function B0(n){return function PU(){if(null==L0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>L0=!0}))}finally{L0=L0||!1}return L0}()?n:!!n.capture}function FU(){if(null==Cm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Cm=!1,Cm;if("scrollBehavior"in document.documentElement.style)Cm=!0;else{const n=Element.prototype.scrollTo;Cm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Cm}function XO(n){if(function LU(){if(null==vx){const n=typeof document<"u"?document.head:null;vx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vx}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Em(n){return n.composedPath?n.composedPath()[0]:n.target}function bx(){return typeof Il.__karma__<"u"&&!!Il.__karma__||typeof Il.jasmine<"u"&&!!Il.jasmine||typeof Il.jest<"u"&&!!Il.jest||typeof Il.Mocha<"u"&&!!Il.Mocha}Il=typeof global<"u"?global:typeof window<"u"?window:{};let JO=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=hd(t);return new Kn.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Lt.x,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(JO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wx=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ln(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Uc(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ZO(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(BU),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[JO]}),n})();class nN{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Lt.x,this._typeaheadSubscription=Lr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Lt.x,this.change=new Lt.x,e instanceof a.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ce.b)(t=>this._pressedLetters.push(t)),ZO(e),vr(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,u=r[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||vy(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class HU extends nN{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class jU extends nN{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function iN(n){return 0===n.offsetX&&0===n.offsetY}function sN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ZU=new a.OlP("cdk-input-modality-detector-options"),YU={ignoreKeys:[18,17,224,91,16]},wy=B0({passive:!0,capture:!0});let KU=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Tn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Em(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(iN(u)?"keyboard":"mouse"),this._mostRecentTarget=Em(u))},this._onTouchstart=u=>{sN(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Em(u))},this._options={...YU,...o},this.modalityDetected=this._modality.pipe(function RU(n){return vr((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(np()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,wy),i.addEventListener("mousedown",this._onMousedown,wy),i.addEventListener("touchstart",this._onTouchstart,wy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,wy),document.removeEventListener("mousedown",this._onMousedown,wy),document.removeEventListener("touchstart",this._onTouchstart,wy))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ni),a.LFG(a.R0b),a.LFG(ie),a.LFG(ZU,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QU=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function XU(){return null}}),JU=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let eH=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[o,u]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>new Promise(h=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,h(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(QU,8),a.LFG(a.R0b),a.LFG(ie),a.LFG(JU,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tH=new a.OlP("cdk-focus-monitor-default-options"),uT=B0({passive:!0,capture:!0});let V0=(()=>{class n{constructor(t,r,i,o,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Lt.x,this._rootNodeFocusAndBlurListener=h=>{const m=Em(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let D=m;D;D=D.parentElement)v.call(this,h,D)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=hd(t);if(!this._platform.isBrowser||1!==i.nodeType)return tt(null);const o=XO(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new Lt.x,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=hd(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=hd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,r,m)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Em(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,uT),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,uT)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Rr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,uT),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,uT),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Ni),a.LFG(KU),a.LFG(ie,8),a.LFG(tH,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=(()=>{class n{constructor(t,r){this._elementRef=t,this._focusMonitor=r,this.cdkFocusChange=new a.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(V0))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const aN="cdk-high-contrast-black-on-white",lN="cdk-high-contrast-white-on-black",Cx="cdk-high-contrast-active";let cN=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Cx),t.remove(aN),t.remove(lN),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Cx),t.add(aN)):2===r&&(t.add(Cx),t.add(lN))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ni),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rH=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cN))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[aT,cT]]}),n})();const iH=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function sH(){return(0,a.f3M)(ie)}});let Hc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const i=t.documentElement?t.documentElement.dir:null,o=(t.body?t.body.dir:null)||i;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iH,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const uN=new a.GfV("13.0.0");function oH(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=a.oxw();a.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function aH(n,e){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij("(",t.group.label,")")}}const lH=["*"],dN=new a.GfV("13.0.0"),uH=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function cH(){return!0}});let jn=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,a.X6Q)()||bx())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&dN.full!==uN.full&&console.warn("The Angular Material version ("+dN.full+") does not match the Angular CDK version ("+uN.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cN),a.LFG(uH,8),a.LFG(ie))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[U0],U0]}),n})();function H0(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ln(e)}}}function Dm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function j0(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ln(e)}}}function Ex(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Uc(t):this.defaultTabIndex}}}function hN(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Lt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let Dx=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hH{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fN={enterDuration:225,exitDuration:150},Tx=B0({passive:!0}),pN=["mousedown","touchstart"],mN=["mouseup","mouseleave","touchend","touchcancel"];class pH{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=hd(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...fN,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function gH(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,m=t-i.top,v=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=m-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D),function mH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const S=new hH(this,D,r);return S.state=0,this._activeRipples.add(S),r.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const N=S===this._mostRecentTransientRipple;S.state=1,!r.persistent&&(!N||!this._isPointerDown)&&S.fadeOut()},v),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...fN,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=hd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(pN))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mN),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=iN(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!sN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Tx)})})}_removeTriggerEvents(){this._triggerElement&&(pN.forEach(e=>{this._triggerElement.removeEventListener(e,this,Tx)}),this._pointerUpEventsRegistered&&mN.forEach(e=>{this._triggerElement.removeEventListener(e,this,Tx)}))}}const _H=new a.OlP("mat-ripple-global-options");let fd=(()=>{class n{constructor(t,r,i,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new pH(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Ni),a.Y36(_H,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn,aT],jn]}),n})(),yH=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn]]}),n})();const gN=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),_N=new a.OlP("MatOptgroup");let bH=0;class wH{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let CH=(()=>{class n{constructor(t,r,i,o){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bH++,this.onSelectionChange=new a.vpe,this._stateChanges=new Lt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Ln(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!vy(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new wH(this,t))}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),yN=(()=>{class n extends CH{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(gN,8),a.Y36(_N,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&t&&(a.Ikx("id",r.id),a.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),a.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:lH,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(a.F$t(),a.YNc(0,oH,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,aH,2,1,"span",2),a._UZ(4,"div",3)),2&t&&(a.Q6J("ngIf",r.multiple),a.xp6(3),a.Q6J("ngIf",r.group&&r.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[yH,Dn,fd],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function vN(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let u=0;u<n+1;u++)r[u].group&&r[u].group===i[o]&&o++;return o}return 0}let bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[z0,io,jn,vH]]}),n})();const wN=["mat-button",""],CN=["*"],IH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],SH=Dm(H0(j0(class{constructor(n){this._elementRef=n}})));let Cy=(()=>{class n extends SH{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of IH)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(V0),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&a.Gf(fd,5),2&t){let i;a.iGM(i=a.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:wN,ngContentSelectors:CN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[fd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),AH=(()=>{class n extends Cy{constructor(t,r,i){super(r,t,i)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(V0),a.Y36(a.SBq),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){1&t&&a.NdJ("click",function(o){return r._haltDisabledEvents(o)}),2&t&&(a.uIk("tabindex",r.disabled?-1:r.tabIndex||0)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:wN,ngContentSelectors:CN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[fd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),EN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[z0,jn],jn]}),n})();class Ix{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class MH extends Ix{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Sx extends Ix{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class xH extends Ix{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class DN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof MH?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Sx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof xH?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kH extends DN{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ax=(()=>{class n extends DN{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ie))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var RH=F(1144);const OH=["addListener","removeListener"],NH=["addEventListener","removeEventListener"],PH=["on","off"];function Tm(n,e,t,r){if((0,Sr.m)(t)&&(r=t,t=void 0),r)return Tm(n,e,t).pipe(Ka(r));const[i,o]=function BH(n){return(0,Sr.m)(n.addEventListener)&&(0,Sr.m)(n.removeEventListener)}(n)?NH.map(u=>h=>n[u](e,h,t)):function FH(n){return(0,Sr.m)(n.addListener)&&(0,Sr.m)(n.removeListener)}(n)?OH.map(TN(n,e)):function LH(n){return(0,Sr.m)(n.on)&&(0,Sr.m)(n.off)}(n)?PH.map(TN(n,e)):[];if(!i&&(0,RH.z)(n))return(0,T.z)(u=>Tm(u,e,t))((0,Ki.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Kn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return i(h),()=>o(h)})}function TN(n,e){return t=>r=>n[t](e,r)}var VH=F(3532);function IN(n=0,e,t=Mg.P){let r=-1;return null!=e&&((0,VH.K)(e)?t=e:r=e),new Kn.y(i=>{let o=function UH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}class SN{}const pd="*";function Ey(n,e){return{type:7,name:n,definitions:e,options:{}}}function jc(n,e=null){return{type:4,styles:e,timings:n}}function AN(n,e=null){return{type:2,steps:n,options:e}}function vi(n){return{type:6,styles:n,offset:null}}function Ca(n,e,t){return{type:0,name:n,styles:e,options:t}}function Sl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function jH(n=null){return{type:9,options:n}}function $H(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function MN(n){Promise.resolve().then(n)}class G0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?MN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++r==o&&this._onDestroy()}),u.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var kN=F(4408);const q0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=q0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Lr.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=q0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=q0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var RN=F(7565);new class GH extends RN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class zH extends kN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=q0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(q0.cancelAnimationFrame(t),e._scheduled=void 0)}});let kx,WH=1;const dT={};function ON(n){return n in dT&&(delete dT[n],!0)}const ZH={setImmediate(n){const e=WH++;return dT[e]=!0,kx||(kx=Promise.resolve()),kx.then(()=>ON(e)&&n()),e},clearImmediate(n){ON(n)}},{setImmediate:YH,clearImmediate:KH}=ZH,hT={setImmediate(...n){const{delegate:e}=hT;return(e?.setImmediate||YH)(...n)},clearImmediate(n){const{delegate:e}=hT;return(e?.clearImmediate||KH)(n)},delegate:void 0};new class XH extends RN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class QH extends kN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(hT.clearImmediate(t),e._scheduled=void 0)}});function NN(n,e=Mg.z){return function ej(n){return(0,xn.e)((e,t)=>{let r=!1,i=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const v=i;i=null,t.next(v)}u&&t.complete()},m=()=>{o=null,u&&t.complete()};e.subscribe((0,Gn.x)(t,v=>{r=!0,i=v,o||(0,Ki.Xf)(n(v)).subscribe(o=(0,Gn.x)(t,h,m))},()=>{u=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>IN(n,e))}let nj=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Kn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(NN(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(vr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=hd(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Ni),a.LFG(ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Lt.x,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ni),a.LFG(a.R0b),a.LFG(ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[U0,aT,Rx],U0,Rx]}),n})();function ij(n,e){1&n&&a.Hsn(0)}const PN=["*"];function sj(n,e){}const oj=function(n){return{animationDuration:n}},aj=function(n,e){return{value:n,params:e}},lj=["tabListContainer"],cj=["tabList"],uj=["nextPaginator"],dj=["previousPaginator"],hj=["tabBodyWrapper"],fj=["tabHeader"];function pj(n,e){}function mj(n,e){if(1&n&&a.YNc(0,pj,0,0,"ng-template",9),2&n){const t=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",t.templateLabel)}}function gj(n,e){if(1&n&&a._uU(0),2&n){const t=a.oxw().$implicit;a.Oqu(t.textLabel)}}function _j(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(){const i=a.CHM(t),o=i.$implicit,u=i.index,h=a.oxw(),m=a.MAs(1);return a.KtG(h._handleClick(o,m,u))})("cdkFocusChange",function(i){const u=a.CHM(t).index,h=a.oxw();return a.KtG(h._tabFocusChanged(i,u))}),a.TgZ(1,"div",7),a.YNc(2,mj,1,1,"ng-template",8),a.YNc(3,gj,1,1,"ng-template",8),a.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=a.oxw();a.ekj("mat-tab-label-active",i.selectedIndex==r),a.Q6J("id",i._getTabLabelId(r))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),a.uIk("tabIndex",i._getTabIndex(t,r))("aria-posinset",r+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(r))("aria-selected",i.selectedIndex==r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),a.xp6(2),a.Q6J("ngIf",t.templateLabel),a.xp6(1),a.Q6J("ngIf",!t.templateLabel)}}function yj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-tab-body",10),a.NdJ("_onCentered",function(){a.CHM(t);const i=a.oxw();return a.KtG(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){a.CHM(t);const o=a.oxw();return a.KtG(o._setTabBodyWrapperHeight(i))}),a.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=a.oxw();a.ekj("mat-tab-body-active",i.selectedIndex===r),a.Q6J("id",i._getTabContentId(r))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),a.uIk("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const vj=new a.OlP("MatInkBarPositioner",{providedIn:"root",factory:function bj(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let FN=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._inkBarPositioner=i,this._animationMode=o}alignToElement(t){this.show(),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const r=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=r.left,i.style.width=r.width}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(vj),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const wj=new a.OlP("MatTabContent"),Cj=new a.OlP("MatTabLabel"),Ej=new a.OlP("MAT_TAB"),Dj=H0(class{}),LN=new a.OlP("MAT_TAB_GROUP");let Nx=(()=>{class n extends Dj{constructor(t,r){super(),this._viewContainerRef=t,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new Lt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Sx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(LN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,Cj,5),a.Suo(i,wj,7,a.Rgc)),2&t){let o;a.iGM(o=a.CRH())&&(r.templateLabel=o.first),a.iGM(o=a.CRH())&&(r._explicitContent=o.first)}},viewQuery:function(t,r){if(1&t&&a.Gf(a.Rgc,7),2&t){let i;a.iGM(i=a.CRH())&&(r._implicitContent=i.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[a._Bn([{provide:Ej,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:PN,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.YNc(0,ij,1,0,"ng-template"))},encapsulation:2}),n})();const Tj={translateTab:Ey("translateTab",[Ca("center, void, left-origin-center, right-origin-center",vi({transform:"none"})),Ca("left",vi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Ca("right",vi({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Sl("* => left, * => right, left => center, right => center",jc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Sl("void => left-origin-center",[vi({transform:"translate3d(-100%, 0, 0)"}),jc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Sl("void => right-origin-center",[vi({transform:"translate3d(100%, 0, 0)"}),jc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ij=(()=>{class n extends Ax{constructor(t,r,i,o){super(t,r,o),this._host=i,this._centeringSub=Lr.w0.EMPTY,this._leavingSub=Lr.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ei(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>BN)),a.Y36(ie))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),n})(),Sj=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._dir=r,this._dirChangeSubscription=Lr.w0.EMPTY,this._translateTabComplete=new Lt.x,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",r&&(this._dirChangeSubscription=r.change.subscribe(o=>{this._computePositionAnimationState(o),i.markForCheck()})),this._translateTabComplete.pipe(np((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const r=this._isCenterPosition(t.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const r=this._getLayoutDirection();return"ltr"==r&&t<=0||"rtl"==r&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hc,8),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),BN=(()=>{class n extends Sj{constructor(t,r,i){super(t,r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hc,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,r){if(1&t&&a.Gf(Ax,5),2&t){let i;a.iGM(i=a.CRH())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,r){1&t&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(o){return r._onTranslateTabStarted(o)})("@translateTab.done",function(o){return r._translateTabComplete.next(o)}),a.YNc(2,sj,0,0,"ng-template",2),a.qZA()),2&t&&a.Q6J("@translateTab",a.WLB(3,aj,r._position,a.VKq(1,oj,r.animationDuration)))},dependencies:[Ij],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Tj.translateTab]}}),n})();const VN=new a.OlP("MAT_TABS_CONFIG"),Aj=H0(class{});let UN=(()=>{class n extends Aj{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,r){2&t&&(a.uIk("aria-disabled",!!r.disabled),a.ekj("mat-tab-disabled",r.disabled))},inputs:{disabled:"disabled"},features:[a.qOj]}),n})();const HN=B0({passive:!0});let kj=(()=>{class n{constructor(t,r,i,o,u,h,m){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Lt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Lt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,u.runOutsideAngular(()=>{Tm(t.nativeElement,"mouseleave").pipe(Rr(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Uc(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Tm(this._previousPaginator.nativeElement,"touchstart",HN).pipe(Rr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Tm(this._nextPaginator.nativeElement,"touchstart",HN).pipe(Rr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:tt("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new jU(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),typeof requestAnimationFrame<"u"?requestAnimationFrame(i):i(),(0,dd.T)(t,r,this._items.changes).pipe(Rr(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(i)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Rr(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!vy(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const r=this._items?this._items.toArray()[t]:null;return!!r&&!r.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=r.elementRef.nativeElement;let h,m;"ltr"==this._getLayoutDirection()?(h=o,m=h+u):(m=this._tabList.nativeElement.offsetWidth-o,h=m-u);const v=this.scrollDistance,D=this.scrollDistance+i;h<v?this.scrollDistance-=v-h+60:m>D&&(this.scrollDistance+=m-D+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),IN(650,100).pipe(Rr((0,dd.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(0===o||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Im),a.Y36(Hc,8),a.Y36(a.R0b),a.Y36(Ni),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),Rj=(()=>{class n extends kj{constructor(t,r,i,o,u,h,m){super(t,r,i,o,u,h,m),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ln(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Im),a.Y36(Hc,8),a.Y36(a.R0b),a.Y36(Ni),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),n})(),Oj=(()=>{class n extends Rj{constructor(t,r,i,o,u,h,m){super(t,r,i,o,u,h,m)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Im),a.Y36(Hc,8),a.Y36(a.R0b),a.Y36(Ni),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,UN,4),2&t){let o;a.iGM(o=a.CRH())&&(r._items=o)}},viewQuery:function(t,r){if(1&t&&(a.Gf(FN,7),a.Gf(lj,7),a.Gf(cj,7),a.Gf(uj,5),a.Gf(dj,5)),2&t){let i;a.iGM(i=a.CRH())&&(r._inkBar=i.first),a.iGM(i=a.CRH())&&(r._tabListContainer=i.first),a.iGM(i=a.CRH())&&(r._tabList=i.first),a.iGM(i=a.CRH())&&(r._nextPaginator=i.first),a.iGM(i=a.CRH())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:PN,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(o){return r._handlePaginatorPress("before",o)})("touchend",function(){return r._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(o){return r._handleKeydown(o)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),a.TgZ(7,"div",7),a.Hsn(8),a.qZA(),a._UZ(9,"mat-ink-bar"),a.qZA()(),a.TgZ(10,"div",8,9),a.NdJ("mousedown",function(o){return r._handlePaginatorPress("after",o)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),a._UZ(12,"div",2),a.qZA()),2&t&&(a.ekj("mat-tab-header-pagination-disabled",r._disableScrollBefore),a.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple),a.xp6(5),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),a.xp6(5),a.ekj("mat-tab-header-pagination-disabled",r._disableScrollAfter),a.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[fd,wx,FN],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),Nj=0;class Pj{}const Fj=Dm(j0(class{constructor(n){this._elementRef=n}}),"primary");let Lj=(()=>{class n extends Fj{constructor(t,r,i,o){super(t),this._changeDetectorRef=r,this._animationMode=o,this._tabs=new a.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Lr.w0.EMPTY,this._tabLabelSubscription=Lr.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=Nj++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Ln(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Uc(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Uc(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement;r.classList.remove(`mat-background-${this.backgroundColor}`),t&&r.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-t,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const r=this._tabs.toArray();for(let i=0;i<r.length;i++)if(r[i].isActive){this._indexToSelect=this._selectedIndex=i;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ei(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const r=new Pj;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,dd.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,r,i){t.disabled||(this.selectedIndex=r.focusIndex=i)}_getTabIndex(t,r){return t.disabled?null:this.selectedIndex===r?0:-1}_tabFocusChanged(t,r){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(VN,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),n})(),$N=(()=>{class n extends Lj{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(VN,8),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Nx,5),2&t){let o;a.iGM(o=a.CRH())&&(r._allTabs=o)}},viewQuery:function(t,r){if(1&t&&(a.Gf(hj,5),a.Gf(fj,5)),2&t){let i;a.iGM(i=a.CRH())&&(r._tabBodyWrapper=i.first),a.iGM(i=a.CRH())&&(r._tabHeader=i.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-tab-group-dynamic-height",r.dynamicHeight)("mat-tab-group-inverted-header","below"===r.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[a._Bn([{provide:LN,useExisting:n}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(o){return r._focusChanged(o)})("selectFocusedIndex",function(o){return r.selectedIndex=o}),a.YNc(2,_j,4,14,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,yj,1,9,"mat-tab-body",5),a.qZA()),2&t&&(a.Q6J("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),a.xp6(2),a.Q6J("ngForOf",r._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),a.xp6(2),a.Q6J("ngForOf",r._tabs))},dependencies:[Oj,BN,hs,UN,fd,nH,Dn,Ax],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),Bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[io,jn,Mx,z0,cT,rH],jn]}),n})();function Px(n){return n&&"function"==typeof n.connect}class zN{applyChanges(e,t,r,i,o){e.forEachOperation((u,h,m)=>{let v,D;if(null==u.previousIndex){const S=r(u,h,m);v=t.createEmbeddedView(S.templateRef,S.context,S.index),D=1}else null==m?(t.remove(h),D=3):(v=t.get(h),t.move(v,m),D=2);o&&o({context:v?.context,operation:D,record:u})})}detach(){}}class Vj{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Lt.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const W0=new a.OlP("_ViewRepeater"),jj=[[["caption"]],[["colgroup"],["col"]]],$j=["caption","colgroup, col"];function Fx(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Ln(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Dy=new a.OlP("CDK_TABLE");let Ty=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Iy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),fT=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Wj{}const Zj=Fx(Wj);let md=(()=>{class n extends Zj{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Ln(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,Ty,5),a.Suo(i,Iy,5),a.Suo(i,fT,5)),2&t){let o;a.iGM(o=a.CRH())&&(r.cell=o.first),a.iGM(o=a.CRH())&&(r.headerCell=o.first),a.iGM(o=a.CRH())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class Lx{constructor(e,t){const r=t.nativeElement.classList;for(const i of e._columnCssClassName)r.add(i)}}let Bx=(()=>{class n extends Lx{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(md),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),Vx=(()=>{class n extends Lx{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(md),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class WN{constructor(){this.tasks=[],this.endTasks=[]}}const Ux=new a.OlP("_COALESCED_STYLE_SCHEDULER");let ZN=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Lt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new WN,this._getScheduleObservable().pipe(Rr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new WN;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,fn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(hn(1))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Hx=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Z0?t.headerCell.template:this instanceof Y0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class Yj extends Hx{}const Kj=Fx(Yj);let Z0=(()=>{class n extends Kj{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class Qj extends Hx{}const Xj=Fx(Qj);let Y0=(()=>{class n extends Xj{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),pT=(()=>{class n extends Hx{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),gd=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&a.GkF(0,0)},dependencies:[gd],encapsulation:2}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&a.GkF(0,0)},dependencies:[gd],encapsulation:2}),n})(),mT=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const YN=["top","bottom","left","right"];class Jj{constructor(e,t,r,i,o=!0,u=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(N=>N)&&!r.some(N=>N))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],u=o.children.length,h=this._getCellWidths(o,i),m=this._getStickyStartColumnPositions(h,t),v=this._getStickyEndColumnPositions(h,r),D=t.lastIndexOf(!0),S=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const N="rtl"===this.direction,V=N?"right":"left",z=N?"left":"right";for(const ee of e)for(let ne=0;ne<u;ne++){const Be=ee.children[ne];t[ne]&&this._addStickyStyle(Be,V,m[ne],ne===D),r[ne]&&this._addStickyStyle(Be,z,v[ne],ne===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((ee,ne)=>t[ne]?ee:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((ee,ne)=>r[ne+S]?ee:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,o="bottom"===r?t.slice().reverse():t,u=[],h=[],m=[];for(let D=0,S=0;D<i.length;D++){if(!o[D])continue;u[D]=S;const N=i[D];m[D]=this._isNativeHtmlTable?Array.from(N.children):[N];const V=N.getBoundingClientRect().height;S+=V,h[D]=V}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let D=0;D<i.length;D++){if(!o[D])continue;const S=u[D],N=D===v;for(const V of m[D])this._addStickyStyle(V,r,S,N)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:m})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);YN.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of YN)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}}const Gx=new a.OlP("CDK_SPL");let gT=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),_T=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),yT=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),vT=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),bT=(()=>{class n{constructor(t,r,i,o,u,h,m,v,D,S,N){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=u,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=D,this._viewportRuler=S,this._stickyPositioningListener=N,this._onDestroy=new Lt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Tn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Ln(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Ln(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Rr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Px(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,u)=>this._getEmbeddedViewArgs(i.item,u),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===o&&u.push(r[h]);this._addStickyColumnStyles(u,o)}),i.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const u=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let m=u[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),t.push(m)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(u=>{const h=i&&i.has(u)?i.get(u):[];if(h.length){const m=h.shift();return m.dataIndex=r,m}return{data:t,rowDef:u,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=wT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,h)=>u||!!h.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],Px(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Px(this.dataSource)?t=this.dataSource.connect(this):function Hj(n){return!!n&&(n instanceof Kn.y||(0,Sr.m)(n.lift)&&(0,Sr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=tt(this.dataSource)),this._renderChangeSubscription=t.pipe(Rr(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),o=i.map(h=>h.sticky),u=i.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(u=>u.when&&u.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const u=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),u}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))gd.mostRecentCellOutlet&&gd.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const u=t.get(r).context;u.count=i,u.first=0===r,u.last=r===i-1,u.even=r%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[r].dataIndex,u.renderIndex=r):u.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const u of i.outlets)o.appendChild(u.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Jj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:tt()).pipe(Rr(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const r=0===this._rowOutlet.viewContainer.length;if(r!==this._isShowingNoDataRow){const i=this._noDataRowOutlet.viewContainer;r?i.createEmbeddedView(t.templateRef):i.clear(),this._isShowingNoDataRow=r}}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Hc,8),a.Y36(ie),a.Y36(Ni),a.Y36(W0),a.Y36(Ux),a.Y36(Im),a.Y36(Gx,12))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,mT,5),a.Suo(i,md,5),a.Suo(i,pT,5),a.Suo(i,Z0,5),a.Suo(i,Y0,5)),2&t){let o;a.iGM(o=a.CRH())&&(r._noDataRow=o.first),a.iGM(o=a.CRH())&&(r._contentColumnDefs=o),a.iGM(o=a.CRH())&&(r._contentRowDefs=o),a.iGM(o=a.CRH())&&(r._contentHeaderRowDefs=o),a.iGM(o=a.CRH())&&(r._contentFooterRowDefs=o)}},viewQuery:function(t,r){if(1&t&&(a.Gf(gT,7),a.Gf(_T,7),a.Gf(yT,7),a.Gf(vT,7)),2&t){let i;a.iGM(i=a.CRH())&&(r._rowOutlet=i.first),a.iGM(i=a.CRH())&&(r._headerRowOutlet=i.first),a.iGM(i=a.CRH())&&(r._footerRowOutlet=i.first),a.iGM(i=a.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:Dy,useExisting:n},{provide:W0,useClass:zN},{provide:Ux,useClass:ZN},{provide:Gx,useValue:null}])],ngContentSelectors:$j,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(a.F$t(jj),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[_T,gT,vT,yT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function wT(n,e){return n.concat(Array.from(e))}let t$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ox]]}),n})();const n$=[[["caption"]],[["colgroup"],["col"]]],r$=["caption","colgroup, col"];let QN=(()=>{class n extends bT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:W0,useClass:zN},{provide:bT,useExisting:n},{provide:Dy,useExisting:n},{provide:Ux,useClass:ZN},{provide:Gx,useValue:null}]),a.qOj],ngContentSelectors:r$,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(a.F$t(n$),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[_T,gT,vT,yT],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),qx=(()=>{class n extends Ty{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:Ty,useExisting:n}]),a.qOj]}),n})(),Wx=(()=>{class n extends Iy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Iy,useExisting:n}]),a.qOj]}),n})(),Zx=(()=>{class n extends md{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:md,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),Yx=(()=>{class n extends Bx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),Kx=(()=>{class n extends Vx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),XN=(()=>{class n extends Z0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:Z0,useExisting:n}]),a.qOj]}),n})(),JN=(()=>{class n extends pT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:pT,useExisting:n}]),a.qOj]}),n})(),eP=(()=>{class n extends jx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:jx,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&a.GkF(0,0)},dependencies:[gd],encapsulation:2}),n})(),tP=(()=>{class n extends zx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:zx,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&a.GkF(0,0)},dependencies:[gd],encapsulation:2}),n})(),f$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[t$,jn],jn]}),n})();function m$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," No. "),a.qZA())}function g$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.position," ")}}function _$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," Nombre "),a.qZA())}function y$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.name," ")}}function v$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," C\xe9dula "),a.qZA())}function b$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.cedula," ")}}function w$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," Tipo de Habitaci\xf3n "),a.qZA())}function C$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.tipo_habitacion," ")}}function E$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," Acciones "),a.qZA())}function D$(n,e){1&n&&(a.TgZ(0,"td",15)(1,"button",16),a._uU(2,"Aceptar"),a.qZA(),a.TgZ(3,"button",17),a._uU(4,"Rechazar"),a.qZA()())}function T$(n,e){1&n&&a._UZ(0,"tr",18)}function I$(n,e){1&n&&a._UZ(0,"tr",19)}function S$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," No. "),a.qZA())}function A$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.position," ")}}function M$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," Imagen "),a.qZA())}function x$(n,e){if(1&n&&(a.TgZ(0,"td",15),a._UZ(1,"img",20),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.s9C("src",t.url,a.LSH)}}function k$(n,e){1&n&&(a.TgZ(0,"th",14),a._uU(1," Acciones "),a.qZA())}function R$(n,e){1&n&&(a.TgZ(0,"td",15)(1,"button",16),a._uU(2,"Aceptar"),a.qZA(),a.TgZ(3,"button",17),a._uU(4,"Rechazar"),a.qZA()())}function O$(n,e){1&n&&a._UZ(0,"tr",18)}function N$(n,e){1&n&&a._UZ(0,"tr",19)}const P$=[{position:1,name:"Maylon",cedula:"1234567891",tipo_habitacion:"Habitaci\xf3n Individual"},{position:2,name:"Jennifer",cedula:"1234567892",tipo_habitacion:"Habitaci\xf3n doble"}],F$=[{position:1,url:"https://upload.wikimedia.org/wikipedia/commons/3/3a/Logo_ESPEOk.png"}];let L$=(()=>{class n{constructor(t){this.displayedColumns=["position","name","cedula","tipo_habitacion","acciones"],this.displayedColumns2=["position","url","acciones"],this.dataSource=P$,this.dataSource2=F$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iT))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-admin"]],decls:37,vars:6,consts:[[1,"container"],["label","Formularios"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","cedula"],["matColumnDef","tipo_habitacion"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Im\xe1genes"],["matColumnDef","url"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary"],["mat-raised-button","","color","warn"],["mat-header-row",""],["mat-row",""],["alt","","width","200","height","150",3,"src"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"br"),a.TgZ(2,"h1"),a._uU(3,"Admin"),a.qZA(),a.TgZ(4,"mat-tab-group")(5,"mat-tab",1)(6,"table",2),a.ynx(7,3),a.YNc(8,m$,2,0,"th",4),a.YNc(9,g$,2,1,"td",5),a.BQk(),a.ynx(10,6),a.YNc(11,_$,2,0,"th",4),a.YNc(12,y$,2,1,"td",5),a.BQk(),a.ynx(13,7),a.YNc(14,v$,2,0,"th",4),a.YNc(15,b$,2,1,"td",5),a.BQk(),a.ynx(16,8),a.YNc(17,w$,2,0,"th",4),a.YNc(18,C$,2,1,"td",5),a.BQk(),a.ynx(19,9),a.YNc(20,E$,2,0,"th",4),a.YNc(21,D$,5,0,"td",5),a.BQk(),a.YNc(22,T$,1,0,"tr",10),a.YNc(23,I$,1,0,"tr",11),a.qZA()(),a.TgZ(24,"mat-tab",12)(25,"table",2),a.ynx(26,3),a.YNc(27,S$,2,0,"th",4),a.YNc(28,A$,2,1,"td",5),a.BQk(),a.ynx(29,13),a.YNc(30,M$,2,0,"th",4),a.YNc(31,x$,2,1,"td",5),a.BQk(),a.ynx(32,9),a.YNc(33,k$,2,0,"th",4),a.YNc(34,R$,5,0,"td",5),a.BQk(),a.YNc(35,O$,1,0,"tr",10),a.YNc(36,N$,1,0,"tr",11),a.qZA()()()()),2&t&&(a.xp6(6),a.Q6J("dataSource",r.dataSource),a.xp6(16),a.Q6J("matHeaderRowDef",r.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",r.displayedColumns),a.xp6(2),a.Q6J("dataSource",r.dataSource2),a.xp6(10),a.Q6J("matHeaderRowDef",r.displayedColumns2),a.xp6(1),a.Q6J("matRowDefColumns",r.displayedColumns2))},dependencies:[Cy,$N,Nx,QN,Wx,XN,Zx,qx,JN,Yx,Kx,eP,tP]}),n})();function nP(...n){const e=(0,ws.jO)(n),{args:t,keys:r}=Us(n),i=new Kn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let m=u,v=u;for(let D=0;D<u;D++){let S=!1;(0,Ki.Xf)(t[D]).subscribe((0,Gn.x)(o,N=>{S||(S=!0,v--),h[D]=N},()=>m--,void 0,()=>{(!m||!S)&&(v||o.next(r?Qa(r,h):h),o.complete())}))}});return e?i.pipe(Ka(e)):i}let rP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Sm=(()=>{class n extends rP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ea=new a.OlP("NgValueAccessor"),V$={provide:Ea,useExisting:(0,a.Gpc)(()=>K0),multi:!0},H$=new a.OlP("CompositionEventMode");let K0=(()=>{class n extends rP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U$(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(H$,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[a._Bn([V$]),a.qOj]}),n})();function sf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sP(n){return null!=n&&"number"==typeof n.length}const $i=new a.OlP("NgValidators"),af=new a.OlP("NgAsyncValidators"),$$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bi{static min(e){return function oP(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function aP(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function lP(n){return sf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function cP(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function uP(n){return sf(n.value)||$$.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dP(n){return e=>sf(e.value)||!sP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hP(n){return e=>sP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fP(n){if(!n)return CT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(sf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return vP(e)}static composeAsync(e){return bP(e)}}function CT(n){return null}function pP(n){return null!=n}function mP(n){return(0,a.QGY)(n)?(0,fn.D)(n):n}function gP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _P(n,e){return e.map(t=>t(n))}function yP(n){return n.map(e=>function z$(n){return!n.validate}(e)?e:t=>e.validate(t))}function vP(n){if(!n)return null;const e=n.filter(pP);return 0==e.length?null:function(t){return gP(_P(t,e))}}function Qx(n){return null!=n?vP(yP(n)):null}function bP(n){if(!n)return null;const e=n.filter(pP);return 0==e.length?null:function(t){return nP(_P(t,e).map(mP)).pipe((0,nt.U)(gP))}}function Xx(n){return null!=n?bP(yP(n)):null}function wP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CP(n){return n._rawValidators}function EP(n){return n._rawAsyncValidators}function Jx(n){return n?Array.isArray(n)?n:[n]:[]}function ET(n,e){return Array.isArray(n)?n.includes(e):n===e}function DP(n,e){const t=Jx(e);return Jx(n).forEach(i=>{ET(t,i)||t.push(i)}),t}function TP(n,e){return Jx(e).filter(t=>!ET(n,t))}class IP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xs extends IP{get formDirective(){return null}get path(){return null}}class $c extends IP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ek=(()=>{class n extends SP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($c,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),tk=(()=>{class n extends SP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const Q0="VALID",TT="INVALID",Sy="PENDING",X0="DISABLED";function sk(n){return(IT(n)?n.validators:n)||null}function MP(n){return Array.isArray(n)?Qx(n):n||null}function ok(n,e){return(IT(e)?e.asyncValidators:n)||null}function xP(n){return Array.isArray(n)?Xx(n):n||null}function IT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function kP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")}function RP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,"")})}class ST{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=MP(this._rawValidators),this._composedAsyncValidatorFn=xP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Q0}get invalid(){return this.status===TT}get pending(){return this.status==Sy}get disabled(){return this.status===X0}get enabled(){return this.status!==X0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=MP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=xP(e)}addValidators(e){this.setValidators(DP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TP(e,this._rawAsyncValidators))}hasValidator(e){return ET(this._rawValidators,e)}hasAsyncValidator(e){return ET(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=X0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Q0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q0||this.status===Sy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X0:Q0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sy,this._hasOwnPendingAsyncValidator=!0;const t=mP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?X0:this.errors?TT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sy)?Sy:this._anyControlsHaveStatus(TT)?TT:Q0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){IT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class J0 extends ST{constructor(e,t,r){super(sk(t),ok(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){RP(this,0,e),Object.keys(e).forEach(r=>{kP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class OP extends J0{}function ew(n,e){ak(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function X$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&NP(n,e)})}(n,e),function e3(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function J$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&NP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Q$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function MT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ak(n,e){const t=CP(n);null!==e.validator?n.setValidators(wP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=EP(n);null!==e.asyncValidator?n.setAsyncValidators(wP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xT(e._rawValidators,i),xT(e._rawAsyncValidators,i)}function kT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=CP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=EP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return xT(e._rawValidators,r),xT(e._rawAsyncValidators,r),t}function NP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function PP(n,e){ak(n,e)}function LP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const o3={provide:xs,useExisting:(0,a.Gpc)(()=>nw)},tw=(()=>Promise.resolve())();let nw=(()=>{class n extends xs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new J0({},Qx(t),Xx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ew(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tw.then(()=>{const r=this._findContainer(t.path),i=new J0({});PP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){tw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,LP(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($i,10),a.Y36(af,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([o3]),a.qOj]}),n})();function BP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function VP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Da=class extends ST{constructor(e=null,t,r){super(sk(t),ok(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),IT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=VP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){VP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const dk=new a.OlP("NgModelWithFormControlWarning"),m3={provide:xs,useExisting:(0,a.Gpc)(()=>Am)};let Am=(()=>{class n extends xs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ew(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){MT(t.control||null,t,!1),function s3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,LP(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(MT(r||null,t),(n=>n instanceof Da)(i)&&(ew(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);PP(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function t3(n,e){return kT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ak(this.form,this),this._oldForm&&kT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($i,10),a.Y36(af,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([m3]),a.qOj,a.TTD]}),n})();const y3={provide:$c,useExisting:(0,a.Gpc)(()=>RT)};let RT=(()=>{class n extends $c{constructor(t,r,i,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ck(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===K0?t=o:function r3(n){return Object.getPrototypeOf(n.constructor)===Sm}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function lk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function AT(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(xs,13),a.Y36($i,10),a.Y36(af,10),a.Y36(Ea,10),a.Y36(dk,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([y3]),a.qOj,a.TTD]}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GP]}),n})(),O3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[oF]}),n})(),aF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dk,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[oF]}),n})();class lF extends ST{constructor(e,t,r){super(sk(t),ok(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){RP(this,0,e),e.forEach((r,i)=>{kP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function cF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let uF=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return cF(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new J0(i,o)}record(t,r=null){const i=this._reduceControls(t);return new OP(i,r)}control(t,r,i){let o={};return this.useNonNullable?(cF(r)?o=r:(o.validators=r,o.asyncValidators=i),new Da(t,{...o,nonNullable:!0})):new Da(t,r,i)}array(t,r,i){const o=t.map(u=>this._createControl(u));return new lF(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Da||t instanceof ST?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:aF}),n})();class dF{}class hF{}class _d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class N3{encodeKey(e){return fF(e)}encodeValue(e){return fF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const F3=/%(\d[a-f0-9])/gi,L3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fF(n){return encodeURIComponent(n).replace(F3,(e,t)=>L3[t]??e)}function OT(n){return`${n}`}class lf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new N3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function P3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],m=t.get(u)||[];m.push(h),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(OT):[OT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new lf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(OT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(OT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class B3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mF(n){return typeof Blob<"u"&&n instanceof Blob}function gF(n){return typeof FormData<"u"&&n instanceof FormData}class rw{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function V3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new _d),this.context||(this.context=new B3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new lf,this.urlWithParams=t}serializeBody(){return null===this.body?null:pF(this.body)||mF(this.body)||gF(this.body)||function U3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gF(this.body)?null:mF(this.body)?this.body.type||null:pF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((S,N)=>S.set(N,e.setHeaders[N]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,N)=>S.set(N,e.setParams[N]),v)),new rw(t,r,o,{params:v,headers:m,context:D,reportProgress:h,responseType:i,withCredentials:u})}}var si=(()=>((si=si||{})[si.Sent=0]="Sent",si[si.UploadProgress=1]="UploadProgress",si[si.ResponseHeader=2]="ResponseHeader",si[si.DownloadProgress=3]="DownloadProgress",si[si.Response=4]="Response",si[si.User=5]="User",si))();class yk{constructor(e,t=200,r="OK"){this.headers=e.headers||new _d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vk extends yk{constructor(e={}){super(e),this.type=si.ResponseHeader}clone(e={}){return new vk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NT extends yk{constructor(e={}){super(e),this.type=si.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new NT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _F extends yk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PT=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof rw)o=t;else{let m,v;m=i.headers instanceof _d?i.headers:new _d(i.headers),i.params&&(v=i.params instanceof lf?i.params:new lf({fromObject:i.params})),o=new rw(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=tt(o).pipe(le(m=>this.handler.handle(m)));if(t instanceof rw||"events"===i.observe)return u;const h=u.pipe(vr(m=>m instanceof NT));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,nt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new lf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bk(i,r))}post(t,r,i={}){return this.request("POST",t,bk(i,r))}put(t,r,i={}){return this.request("PUT",t,bk(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dF))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class yF{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vF=new a.OlP("HTTP_INTERCEPTORS");let H3=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const j3=/^\)\]\}',?\n/;let bF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Kn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,z)=>i.setRequestHeader(V,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const o=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const V=i.statusText||"OK",z=new _d(i.getAllResponseHeaders()),ee=function $3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new vk({headers:z,status:i.status,statusText:V,url:ee}),u},m=()=>{let{headers:V,status:z,statusText:ee,url:ne}=h(),Be=null;204!==z&&(Be=typeof i.response>"u"?i.responseText:i.response),0===z&&(z=Be?200:0);let st=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof Be){const Ke=Be;Be=Be.replace(j3,"");try{Be=""!==Be?JSON.parse(Be):null}catch(We){Be=Ke,st&&(st=!1,Be={error:We,text:Be})}}st?(r.next(new NT({body:Be,headers:V,status:z,statusText:ee,url:ne||void 0})),r.complete()):r.error(new _F({error:Be,headers:V,status:z,statusText:ee,url:ne||void 0}))},v=V=>{const{url:z}=h(),ee=new _F({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(ee)};let D=!1;const S=V=>{D||(r.next(h()),D=!0);let z={type:si.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),"text"===t.responseType&&!!i.responseText&&(z.partialText=i.responseText),r.next(z)},N=V=>{let z={type:si.UploadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),r.next(z)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",S),null!==o&&i.upload&&i.upload.addEventListener("progress",N)),i.send(o),r.next({type:si.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",S),null!==o&&i.upload&&i.upload.removeEventListener("progress",N)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(oo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wk=new a.OlP("XSRF_COOKIE_NAME"),Ck=new a.OlP("XSRF_HEADER_NAME");class wF{}let z3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(a.Lbi),a.LFG(wk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ek=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wF),a.LFG(Ck))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),G3=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(vF,[]);this.chain=r.reduceRight((i,o)=>new yF(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(hF),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),q3=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ek,useClass:H3}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:wk,useValue:t.cookieName}:[],t.headerName?{provide:Ck,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ek,{provide:vF,useExisting:Ek,multi:!0},{provide:wF,useClass:z3},{provide:wk,useValue:"XSRF-TOKEN"},{provide:Ck,useValue:"X-XSRF-TOKEN"}]}),n})(),W3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[PT,{provide:dF,useClass:G3},bF,{provide:hF,useExisting:bF}],imports:[q3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Dk=(()=>{class n{constructor(t,r){this.firestore=t,this._http=r}agregarReservacion(t){return this.firestore.collection("reservacion").add(t)}getReservas(){return this.firestore.collection("reservacion",t=>t.orderBy("FechaRegistro","desc")).snapshotChanges()}getReserva(t){return this.firestore.collection("reservacion").doc(t).get()}actualizarReservacion(t,r){return this.firestore.collection("reservacion").doc(r).update(t)}eliminarReservas(t){return this.firestore.collection("reservacion").doc(t).delete()}aceptarResevas(t,r){return this.firestore.collection("reservacion").doc(r).update(t)}enviarCorreo(t){return this._http.post("http://localhost:3000/correo",t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iT),a.LFG(PT))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z3=["connectionContainer"],Y3=["inputContainer"],K3=["label"];function Q3(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function X3(n,e){1&n&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function J3(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function ez(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function tz(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function nz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.YNc(2,J3,4,1,"ng-container",12),a.YNc(3,ez,1,0,"ng-content",12),a.YNc(4,tz,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function rz(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function iz(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function sz(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function oz(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function az(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,oz,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const lz=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],cz=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let uz=0;const CF=new a.OlP("MatError");let EF=(()=>{class n{constructor(t,r){this.id="mat-error-"+uz++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:CF,useExisting:n}])]}),n})();const dz={transitionMessages:Ey("transitionMessages",[Ca("enter",vi({opacity:1,transform:"translateY(0%)"})),Sl("void => enter",[vi({opacity:0,transform:"translateY(-5px)"}),jc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let FT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const hz=new a.OlP("MatHint");let Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const pz=new a.OlP("MatPrefix"),DF=new a.OlP("MatSuffix");let TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:DF,useExisting:n}])]}),n})(),IF=0;const gz=Dm(class{constructor(n){this._elementRef=n}},"primary"),_z=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ik=new a.OlP("MatFormField");let AF=(()=>{class n extends gz{constructor(t,r,i,o,u,h,m){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+IF++,this._labelId="mat-form-field-label-"+IF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ln(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ei(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Rr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Rr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,dd.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ei(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ei(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Rr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Tm(this._label.nativeElement,"transitionend").pipe(hn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const o=this._connectionContainerRef.nativeElement,u=o.querySelectorAll(".mat-form-field-outline-start"),h=o.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=o.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(m),D=t.children,S=this._getStartEnd(D[0].getBoundingClientRect());let N=0;for(let V=0;V<D.length;V++)N+=D[V].offsetWidth;r=Math.abs(S-v)-5,i=N>0?.75*N+10:0}for(let m=0;m<u.length;m++)u[m].style.width=`${r}px`;for(let m=0;m<h.length;m++)h[m].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Hc,8),a.Y36(_z,8),a.Y36(Ni),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,FT,5),a.Suo(i,FT,7),a.Suo(i,Tk,5),a.Suo(i,Tk,7),a.Suo(i,fz,5),a.Suo(i,CF,5),a.Suo(i,hz,5),a.Suo(i,pz,5),a.Suo(i,DF,5)),2&t){let o;a.iGM(o=a.CRH())&&(r._controlNonStatic=o.first),a.iGM(o=a.CRH())&&(r._controlStatic=o.first),a.iGM(o=a.CRH())&&(r._labelChildNonStatic=o.first),a.iGM(o=a.CRH())&&(r._labelChildStatic=o.first),a.iGM(o=a.CRH())&&(r._placeholderChild=o.first),a.iGM(o=a.CRH())&&(r._errorChildren=o),a.iGM(o=a.CRH())&&(r._hintChildren=o),a.iGM(o=a.CRH())&&(r._prefixChildren=o),a.iGM(o=a.CRH())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(a.Gf(Z3,7),a.Gf(Y3,5),a.Gf(K3,5)),2&t){let i;a.iGM(i=a.CRH())&&(r._connectionContainerRef=i.first),a.iGM(i=a.CRH())&&(r._inputContainerRef=i.first),a.iGM(i=a.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Ik,useExisting:n}]),a.qOj],ngContentSelectors:cz,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(a.F$t(lz),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),a.YNc(3,Q3,9,0,"ng-container",3),a.YNc(4,X3,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,nz,5,16,"label",8),a.qZA()(),a.YNc(10,rz,2,0,"div",9),a.qZA(),a.YNc(11,iz,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,sz,2,1,"div",12),a.YNc(14,az,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==r.appearance),a.xp6(1),a.Q6J("ngIf",r._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",r._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",r._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=r.appearance),a.xp6(1),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Dn,ps,wx,Ro],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[dz.transitionMessages]},changeDetection:0}),n})(),LT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[io,jn,cT],jn]}),n})();const MF=B0({passive:!0});let yz=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Fr.E;const r=hd(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new Lt.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,MF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,MF)}}),o}stopMonitoring(t){const r=hd(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ni),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[aT]]}),n})();const vz=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),bz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wz=0;const Cz=hN(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let kF=(()=>{class n extends Cz{constructor(t,r,i,o,u,h,m,v,D,S){super(h,o,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+wz++,this.focused=!1,this.stateChanges=new Lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>QO().has(z));const N=this._elementRef.nativeElement,V=N.nodeName.toLowerCase();this._inputValueAccessor=m||N,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",z=>{const ee=z.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ln(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bi.required)??!1}set required(t){this._required=Ln(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&QO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ln(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){bz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Ni),a.Y36($c,10),a.Y36(nw,8),a.Y36(Am,8),a.Y36(Dx),a.Y36(vz,10),a.Y36(yz),a.Y36(a.R0b),a.Y36(Ik,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(a.Ikx("disabled",r.disabled)("required",r.required),a.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),a.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:FT,useExisting:n}]),a.qOj,a.TTD]}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Dx],imports:[[xF,LT,jn],xF,LT]}),n})();const Dz=["*",[["mat-card-footer"]]],Tz=["*","mat-card-footer"],Iz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Sz=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let BT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),VT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Az=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),UT=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Tz,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(Dz),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),HT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Sz,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(a.F$t(Iz),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Mz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn],jn]}),n})();const xz=["*"];let jT;function iw(n){return function kz(){if(void 0===jT&&(jT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(jT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return jT}()?.createHTML(n)||n}function OF(n){return Error(`Unable to find icon with the name "${n}"`)}function NF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function PF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let $T=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new xm(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const u=this._sanitizer.sanitize(a.q3G.HTML,i);if(!u)throw PF(i);const h=iw(u);return this._addSvgIconConfig(t,r,new xm("",h,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new xm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(a.q3G.HTML,r);if(!o)throw PF(r);const u=iw(o);return this._addSvgIconSetConfig(t,new xm("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!r)throw NF(t);const i=this._cachedIconsByUrl.get(r);return i?tt(zT(i)):this._loadSvgIconFromConfig(new xm(t,null)).pipe((0,Ce.b)(o=>this._cachedIconsByUrl.set(r,o)),(0,nt.U)(o=>zT(o)))}getNamedSvgIcon(t,r=""){const i=FF(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):Hs(OF(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?tt(zT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,nt.U)(r=>zT(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?tt(i):nP(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ye(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),tt(null)})))).pipe((0,nt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw OF(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ce.b)(r=>t.svgText=r),(0,nt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?tt(null):this._fetchIcon(t).pipe((0,Ce.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(iw("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(iw("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:u,value:h}=i[o];"id"!==u&&r.setAttribute(u,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function Rz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!u)throw NF(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const m=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,nt.U)(v=>iw(v)),js(()=>this._inProgressUrlFetches.delete(u)),(0,sO.B)());return this._inProgressUrlFetches.set(u,m),m}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(FF(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return Nz(o)?new xm(o.url,null,o.options):new xm(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(PT,8),a.LFG(Vs),a.LFG(ie,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zT(n){return n.cloneNode(!0)}function FF(n,e){return n+":"+e}function Nz(n){return!(!n.url||!n.options)}const Pz=Dm(class{constructor(n){this._elementRef=n}}),Fz=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Lz(){const n=(0,a.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),LF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Bz=LF.map(n=>`[${n}]`).join(", "),Vz=/^url\(['"]?#(.*?)['"]?\)$/;let sw=(()=>{class n extends Pz{constructor(t,r,i,o,u){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Lr.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ln(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let o=0;o<r.length;o++)r[o].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Bz),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)LF.forEach(u=>{const h=r[o],m=h.getAttribute(u),v=m?m.match(Vz):null;if(v){let D=i.get(h);D||(D=[],i.set(h,D)),D.push({name:u,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(hn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36($T),a.$8M("aria-hidden"),a.Y36(Fz),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:xz,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn],jn]}),n})();var Sk=F(655);const BF=FU();class Hz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ii(-this._previousScrollPosition.left),e.style.top=ii(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),BF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BF&&(r.scrollBehavior=o,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class jz{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VF{enable(){}disable(){}attach(){}}function Ak(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function UF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class $z{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ak(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zz=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new VF,this.close=u=>new jz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Hz(this._viewportRuler,this._document),this.reposition=u=>new $z(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nj),a.LFG(Im),a.LFG(a.R0b),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HF{constructor(e){if(this.scrollStrategy=new VF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Gz{constructor(e,t,r,i,o){this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class qz{}let Wz=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=(0,Sk.gn)([(0,Sk.fM)(1,(0,a.FiY)()),(0,Sk.w6)("design:paramtypes",[Gz,qz])],n),n})(),jF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zz=(()=>{class n extends jF{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){i[o]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yz=(()=>{class n extends jF{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Em(i)},this._clickListener=i=>{const o=Em(i),u="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const v=h[m];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(o)||v.overlayElement.contains(u))break;v._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(Ni))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$F=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||bx()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),bx()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(Ni))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kz{constructor(e,t,r,i,o,u,h,m,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Lt.x,this._attachments=new Lt.x,this._detachments=new Lt.x,this._locationChanges=Lr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._keydownEvents=new Lt.x,this._outsidePointerEvents=new Lt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ii(this._config.width),e.height=ii(this._config.height),e.minWidth=ii(this._config.minWidth),e.minHeight=ii(this._config.minHeight),e.maxWidth=ii(this._config.maxWidth),e.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=YO(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Rr((0,dd.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const zF="cdk-overlay-connected-position-bounding-box",Qz=/([A-Za-z%]+)$/;class Xz{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.x,this._resizeSubscription=Lr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(zF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let o;for(let u of this._preferredPositions){let h=this._getOriginPoint(e,u),m=this._getOverlayPoint(h,t,u),v=this._getOverlayFit(m,t,r,u);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(v,m,r)?i.push({position:u,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!o||o.overlayFit.visibleArea<v.visibleArea)&&(o={overlayFit:v,overlayPoint:m,originPoint:h,position:u,overlayRect:t})}if(i.length){let u=null,h=-1;for(const m of i){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>h&&(h=v,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&km(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==t.originX?o:u}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=qF(t);let{x:u,y:h}=e,m=this._getOffset(i,"x"),v=this._getOffset(i,"y");m&&(u+=m),v&&(h+=v);let N=0-h,V=h+o.height-r.height,z=this._subtractOverflows(o.width,0-u,u+o.width-r.width),ee=this._subtractOverflows(o.height,N,V),ne=z*ee;return{visibleArea:ne,isCompletelyWithinViewport:o.width*o.height===ne,fitsInViewportVertically:ee===o.height,fitsInViewportHorizontally:z==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,u=GF(this._overlayRef.getConfig().minHeight),h=GF(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=u&&u<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=qF(t),o=this._viewportRect,u=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),m=Math.max(o.top-r.top-e.y,0),v=Math.max(o.left-r.left-e.x,0);let D=0,S=0;return D=i.width<=o.width?v||-u:e.x<this._viewportMargin?o.left-r.left-e.x:0,S=i.height<=o.height?m||-h:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:D,y:S},{x:e.x+D,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Wz(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,u,h,D,S,N;if("top"===t.overlayY)u=e.y,o=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),z=this._lastBoundingBoxSize.height;o=2*V,u=e.y-V,o>z&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-z/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)N=r.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)S=e.x,D=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),z=this._lastBoundingBoxSize.width;D=2*V,S=e.x-V,D>z&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-z/2)}return{top:u,left:S,bottom:h,right:N,width:D,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=ii(r.height),i.top=ii(r.top),i.bottom=ii(r.bottom),i.width=ii(r.width),i.left=ii(r.left),i.right=ii(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=ii(o)),u&&(i.maxWidth=ii(u))}this._lastBoundingBoxSize=r,km(this._boundingBox.style,i)}_resetBoundingBoxStyles(){km(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){km(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();km(r,this._getExactOverlayY(t,e,D)),km(r,this._getExactOverlayX(t,e,D))}else r.position="static";let h="",m=this._getOffset(t,"x"),v=this._getOffset(t,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=ii(u.maxHeight):o&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=ii(u.maxWidth):o&&(r.maxWidth="")),km(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=u,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=ii(o.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ii(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UF(e,r),isOriginOutsideView:Ak(e,r),isOverlayClipped:UF(t,r),isOverlayOutsideView:Ak(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&YO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function km(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function GF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Qz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const WF="cdk-global-overlay-wrapper";class Jz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(WF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:u,maxHeight:h}=r,m=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=m?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,m?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(WF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eG=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Jz}flexibleConnectedTo(t){return new Xz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Im),a.LFG(ie),a.LFG(Ni),a.LFG($F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tG=0,GT=(()=>{class n{constructor(t,r,i,o,u,h,m,v,D,S,N){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=v,this._directionality=D,this._location=S,this._outsideClickDispatcher=N}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),u=new HF(t);return u.direction=u.direction||this._directionality.value,new Kz(o,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+tG++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new kH(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zz),a.LFG($F),a.LFG(a._Vd),a.LFG(eG),a.LFG(Zz),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ie),a.LFG(Hc),a.LFG(Oe),a.LFG(Yz))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const nG=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZF=new a.OlP("cdk-connected-overlay-scroll-strategy");let YF=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),KF=(()=>{class n{constructor(t,r,i,o,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Lr.w0.EMPTY,this._attachSubscription=Lr.w0.EMPTY,this._detachSubscription=Lr.w0.EMPTY,this._positionSubscription=Lr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new Sx(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ln(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ln(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ln(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ln(t)}get push(){return this._push}set push(t){this._push=Ln(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=nG);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!vy(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new HF({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof YF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ar(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(GT),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(ZF),a.Y36(Hc,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const iG={provide:ZF,deps:[GT],useFactory:function rG(n){return()=>n.scrollStrategies.reposition()}};let QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[GT,iG],imports:[[U0,Mx,Ox],Ox]}),n})();const sG=["trigger"],oG=["panel"];function aG(n,e){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.placeholder)}}function lG(n,e){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.triggerValue)}}function cG(n,e){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function uG(n,e){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,lG,2,1,"span",10),a.YNc(2,cG,1,0,"ng-content",11),a.qZA()),2&n){const t=a.oxw();a.Q6J("ngSwitch",!!t.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function dG(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(i){a.CHM(t);const o=a.oxw();return a.KtG(o._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){a.CHM(t);const o=a.oxw();return a.KtG(o._handleKeydown(i))}),a.Hsn(3,1),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",t._getPanelTheme(),""),a.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),a.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),a.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const hG=[[["mat-select-trigger"]],"*"],fG=["mat-select-trigger","*"],XF={transformPanelWrap:Ey("transformPanelWrap",[Sl("* => void",$H("@transformPanel",[jH()],{optional:!0}))]),transformPanel:Ey("transformPanel",[Ca("void",vi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ca("showing",vi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ca("showing-multiple",vi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Sl("void => *",jc("120ms cubic-bezier(0, 0, 0.2, 1)")),Sl("* => void",jc("100ms 25ms linear",vi({opacity:0})))])};let JF=0;const tL=new a.OlP("mat-select-scroll-strategy"),_G=new a.OlP("MAT_SELECT_CONFIG"),yG={provide:tL,deps:[GT],useFactory:function gG(n){return()=>n.scrollStrategies.reposition()}};class vG{constructor(e,t){this.source=e,this.value=t}}const bG=j0(Ex(H0(hN(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),wG=new a.OlP("MatSelectTrigger");let CG=(()=>{class n extends bG{constructor(t,r,i,o,u,h,m,v,D,S,N,V,z,ee){super(u,o,m,v,S),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=h,this._parentFormField=D,this._liveAnnouncer=z,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(ne,Be)=>ne===Be,this._uid="mat-select-"+JF++,this._triggerAriaLabelledBy=null,this._destroy=new Lt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+JF++,this._panelDoneAnimatingStream=new Lt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Mi(()=>{const ne=this.options;return ne?ne.changes.pipe(ei(ne),Qn(()=>(0,dd.T)(...ne.map(Be=>Be.onSelectionChange)))):this._ngZone.onStable.pipe(hn(1),Qn(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(vr(ne=>ne),(0,nt.U)(()=>{})),this._closedStream=this.openedChange.pipe(vr(ne=>!ne),(0,nt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ee?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(N)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(bi.required)??!1}set required(t){this._required=Ln(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Ln(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Ln(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Uc(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Vj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(np(),Rr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Rr(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ei(null),Rr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,o=13===r||32===r,u=this._keyManager;if(!u.isTyping()&&o&&!vy(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(t);const m=this.selected;m&&h!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,o=40===i||38===i,u=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(u||13!==i&&32!==i||!r.activeItem||vy(t))if(!u&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const h=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(h?m.select():m.deselect())})}else{const h=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==h&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(hn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectValue(r)),this._sortValues();else{const r=this._selectValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_initKeyManager(){this._keyManager=new HU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Rr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Rr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,dd.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Rr(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,dd.T)(...this.options.map(r=>r._stateChanges)).pipe(Rr(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Im),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Dx),a.Y36(a.SBq),a.Y36(Hc,8),a.Y36(nw,8),a.Y36(Am,8),a.Y36(Ik,8),a.Y36($c,10),a.$8M("tabindex"),a.Y36(tL),a.Y36(eH),a.Y36(_G,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&(a.Gf(sG,5),a.Gf(oG,5),a.Gf(KF,5)),2&t){let i;a.iGM(i=a.CRH())&&(r.trigger=i.first),a.iGM(i=a.CRH())&&(r.panel=i.first),a.iGM(i=a.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),EG=(()=>{class n extends CG{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const o=this._getItemHeight();return Math.min(Math.max(0,o*t-r+o/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Rr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=vN(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function EH(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new vG(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let v=this._selectionModel.selected[0]||this.options.first;u=v&&v.group?32:16}i||(u*=-1);const h=0-(t.left+u-(i?o:0)),m=t.right+u-r.width+(i?0:o);h>0?u+=h+8:m>0&&(u-=m+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let m;return this.disableOptionCentering?0:(m=0===this._scrollTop?t*o:this._scrollTop===i?(t-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):r-o/2,Math.round(-1*m-u))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=i.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*r,256)-h-this._triggerRect.height;v>u?this._adjustPanelUp(v,u):h>o?this._adjustPanelDown(h,o,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const o=Math.round(t-r);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),u=r*t-i;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=vN(h,this.options,this.optionGroups);const m=i/2;this._scrollTop=this._calculateOverlayScroll(h,m,u),this._offsetY=this._calculateOverlayOffsetY(h,m,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,wG,5),a.Suo(i,yN,5),a.Suo(i,_N,5)),2&t){let o;a.iGM(o=a.CRH())&&(r.customTrigger=o.first),a.iGM(o=a.CRH())&&(r.options=o),a.iGM(o=a.CRH())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&a.NdJ("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(a.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),a.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:FT,useExisting:n},{provide:gN,useExisting:n}]),a.qOj],ngContentSelectors:fG,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(a.F$t(hG),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r.toggle()}),a.TgZ(3,"div",2),a.YNc(4,aG,2,1,"span",3),a.YNc(5,uG,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,dG,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=a.MAs(1);a.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",r.empty),a.uIk("id",r._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},dependencies:[YF,ps,Ro,Oo,KF,_n],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[XF.transformPanelWrap,XF.transformPanel]},changeDetection:0}),n})(),DG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[yG],imports:[[io,QF,bN,jn],Rx,LT,bN,jn]}),n})();function TG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Favor de ingresar solo letras "),a.qZA())}function IG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El nombre es "),a.TgZ(2,"strong"),a._uU(3,"requerido"),a.qZA()())}function SG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El numero de c\xe9dula es "),a.TgZ(2,"strong"),a._uU(3,"requerido"),a.qZA()())}function AG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El campo de tener 10 caracteres "),a.qZA())}function MG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Favor de ingresar solo n\xfameros "),a.qZA())}function xG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Ingrese un correo valido "),a.qZA())}function kG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El correo es "),a.TgZ(2,"strong"),a._uU(3,"requerido"),a.qZA()())}function RG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El numero de tel\xe9fono es "),a.TgZ(2,"strong"),a._uU(3,"requerido"),a.qZA()())}function OG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El campo de tener 10 caracteres "),a.qZA())}function NG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Favor de ingresar solo n\xfameros "),a.qZA())}function PG(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Campo "),a.TgZ(2,"strong"),a._uU(3,"requerido"),a.qZA()())}let FG=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this._reservaHabitacion=r,this.router=i,this.submitted=!1,this.buildForm()}ngOnInit(){}buildForm(){this.form=this.formBuilder.group({nameCtrl:new Da("",[bi.required,bi.pattern("[A-Z a-z]*")]),numberCtrl:new Da("",[bi.required,bi.maxLength(10),bi.minLength(10),bi.pattern("[0-9]*")]),emailCtrl:new Da("",[bi.required,bi.email]),phoneCtrl:new Da("",[bi.required,bi.maxLength(10),bi.minLength(10),bi.pattern("[0-9]*")]),habitacionCtrl:new Da("",[bi.required])})}get nameField(){return this.form.get("nameCtrl")}get numberField(){return this.form.get("numberCtrl")}get emailField(){return this.form.get("emailCtrl")}get phoneField(){return this.form.get("phoneCtrl")}get habitacionField(){return this.form.get("habitacionCtrl")}agregarReserva(){if(this.form.invalid)return;this.submitted=!0;const t={Nombre:this.form.value.nameCtrl,Cedula:this.form.value.numberCtrl,Correo:this.form.value.emailCtrl,Telefono:this.form.value.phoneCtrl,TipoHabitacion:this.form.value.habitacionCtrl,FechaRegistro:new Date};this._reservaHabitacion.agregarReservacion(t).then(r=>{console.log(r.id),console.log("Habitacion registrada con Exito!"),this.router.navigate(["/subir/"+r.id])}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(uF),a.Y36(Dk),a.Y36(Jn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-formulario"]],decls:66,vars:12,consts:[[1,"container","m-5"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Nombres","formControlName","nameCtrl"],["matSuffix",""],[4,"ngIf"],["matInput","","placeholder","C\xe9dula","formControlName","numberCtrl"],["matInput","","placeholder","Correo","formControlName","emailCtrl"],["matInput","","placeholder","Tel\xe9fono","formControlName","phoneCtrl"],[1,"fw-bold"],["appearance","fill"],["formControlName","habitacionCtrl"],["value","Habitaci\xf3n Individual"],["value","Habitaci\xf3n Doble"],["value","Habitaci\xf3n Triple"],["value","Habitaci\xf3n Cu\xe1druple"],["value","Habitaci\xf3n Matrimonial"],["value","Suite Principal"],["mat-raised-button","","color","accent","type","submit"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),a._uU(4,"Reservaci\xf3n de hotel"),a.qZA(),a.TgZ(5,"mat-card-subtitle"),a._uU(6,"Reservaci\xf3n ahora"),a.qZA()(),a.TgZ(7,"mat-card-content")(8,"form",1),a.NdJ("ngSubmit",function(){return r.agregarReserva()}),a.TgZ(9,"mat-form-field",2)(10,"mat-label"),a._uU(11,"Nombres"),a.qZA(),a._UZ(12,"input",3),a.TgZ(13,"mat-icon",4),a._uU(14,"sentiment_very_satisfied"),a.qZA(),a.YNc(15,TG,2,0,"mat-error",5),a.YNc(16,IG,4,0,"mat-error",5),a.qZA(),a.TgZ(17,"mat-form-field",2)(18,"mat-label"),a._uU(19,"C\xe9dula"),a.qZA(),a._UZ(20,"input",6),a.TgZ(21,"mat-icon",4),a._uU(22,"badge"),a.qZA(),a.YNc(23,SG,4,0,"mat-error",5),a.YNc(24,AG,2,0,"mat-error",5),a.YNc(25,MG,2,0,"mat-error",5),a.qZA(),a.TgZ(26,"mat-form-field",2)(27,"mat-label"),a._uU(28,"Correo"),a.qZA(),a._UZ(29,"input",7),a.TgZ(30,"mat-icon",4),a._uU(31,"alternate_email"),a.qZA(),a.YNc(32,xG,2,0,"mat-error",5),a.YNc(33,kG,4,0,"mat-error",5),a.qZA(),a.TgZ(34,"mat-form-field",2)(35,"mat-label"),a._uU(36,"Tel\xe9fono"),a.qZA(),a._UZ(37,"input",8),a.TgZ(38,"mat-icon",4),a._uU(39,"phone"),a.qZA(),a.YNc(40,RG,4,0,"mat-error",5),a.YNc(41,OG,2,0,"mat-error",5),a.YNc(42,NG,2,0,"mat-error",5),a.qZA(),a.TgZ(43,"h3",9),a._uU(44,"Tipo de Habitaci\xf3n"),a.qZA(),a.TgZ(45,"mat-form-field",10)(46,"mat-label"),a._uU(47,"Tipo de Habitacion"),a.qZA(),a.TgZ(48,"mat-select",11)(49,"mat-option",12),a._uU(50,"Habitaci\xf3n Individual"),a.qZA(),a.TgZ(51,"mat-option",13),a._uU(52,"Habitaci\xf3n Doble"),a.qZA(),a.TgZ(53,"mat-option",14),a._uU(54,"Habitaci\xf3n Triple"),a.qZA(),a.TgZ(55,"mat-option",15),a._uU(56,"Habitaci\xf3n Cu\xe1druple"),a.qZA(),a.TgZ(57,"mat-option",16),a._uU(58,"Habitaci\xf3n Matrimonial"),a.qZA(),a.TgZ(59,"mat-option",17),a._uU(60,"Suite Principal"),a.qZA()(),a.YNc(61,PG,4,0,"mat-error",5),a.qZA(),a._UZ(62,"br"),a.TgZ(63,"mat-card-actions")(64,"button",18),a._uU(65,"Enviar"),a.qZA()()()()()()),2&t&&(a.xp6(8),a.Q6J("formGroup",r.form),a.xp6(7),a.Q6J("ngIf",null==r.nameField?null:r.nameField.hasError("pattern")),a.xp6(1),a.Q6J("ngIf",(null==r.nameField?null:r.nameField.hasError("required"))&&(null==r.nameField?null:r.nameField.touched)),a.xp6(7),a.Q6J("ngIf",(null==r.numberField?null:r.numberField.hasError("required"))&&(null==r.numberField?null:r.numberField.touched)),a.xp6(1),a.Q6J("ngIf",(null==r.numberField?null:r.numberField.hasError("minLength"))&&(null==r.numberField?null:r.numberField.hasError("maxLength"))),a.xp6(1),a.Q6J("ngIf",null==r.numberField?null:r.numberField.hasError("pattern")),a.xp6(7),a.Q6J("ngIf",null==r.emailField?null:r.emailField.hasError("email")),a.xp6(1),a.Q6J("ngIf",(null==r.emailField?null:r.emailField.hasError("required"))&&(null==r.emailField?null:r.emailField.touched)),a.xp6(7),a.Q6J("ngIf",(null==r.phoneField?null:r.phoneField.hasError("required"))&&!(null!=r.phoneField&&r.phoneField.touched)),a.xp6(1),a.Q6J("ngIf",(null==r.phoneField?null:r.phoneField.hasError("minLength"))&&(null==r.phoneField?null:r.phoneField.hasError("maxLength"))),a.xp6(1),a.Q6J("ngIf",null==r.phoneField?null:r.phoneField.hasError("pattern")),a.xp6(19),a.Q6J("ngIf",(null==r.habitacionField?null:r.habitacionField.hasError("required"))&&!(null!=r.habitacionField&&r.habitacionField.touched)))},dependencies:[Dn,EF,AF,Tk,TF,kF,Cy,UT,HT,BT,VT,RF,Az,uk,K0,ek,tk,Am,RT,sw,EG,yN]}),n})();var LG=F(1808);let aw=(()=>{class n{constructor(t,r,i,o){this.afs=t,this.afAuth=r,this.router=i,this.ngZone=o,this.afAuth.authState.subscribe(u=>{u?(this.userData=u,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){return new Promise((i,o)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(u=>{this.SetUserData(u.user),this.afAuth.authState.subscribe(h=>{h?(i(!0),this.router.navigate(["list"])):i(!1)})}).catch(u=>{i(!1),window.alert(u.message)})})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&""!==t.apiKey}GoogleAuth(){return this.AuthLogin(new LG.Q).then(t=>{this.router.navigate(["list"])})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{this.router.navigate(["list"]),this.SetUserData(r.user)}).catch(r=>{window.alert(r)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iT),a.LFG(fx),a.LFG(Jn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nL=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(aw),a.LFG(Jn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BG=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return console.log(this.authService.isLoggedIn),!0===this.authService.isLoggedIn&&this.router.navigate(["list"]),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(aw),a.LFG(Jn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xk{constructor(){return(0,nn.vb)("auth")}}const iL="firebasestorage.googleapis.com",sL="storageBucket";class Or extends Wt.ZR{constructor(e,t,r=0){super(Rk(e),`Firebase Storage: ${t} (${Rk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Rk(n){return"storage/"+n}function Ok(){return new Or("unknown","An unknown error occurred, please check the error payload for server response.")}function Nk(n){return new Or("invalid-argument",n)}function cL(){return new Or("app-deleted","The Firebase app was deleted.")}function lw(n,e){return new Or("invalid-format","String does not match format '"+n+"': "+e)}function cw(n){throw new Or("internal-error","Internal error: "+n)}class ks{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ks.makeFromUrl(e,t)}catch{return new ks(e,"")}if(""===r.path)return r;throw function QG(n){return new Or("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const S=t.replace(/[.]/g,"\\."),Ke=[{regex:h,indices:{bucket:1,path:3},postModify:function o(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===iL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<Ke.length;We++){const Dt=Ke[We],Tt=Dt.regex.exec(e);if(Tt){let Yr=Tt[Dt.indices.path];Yr||(Yr=""),r=new ks(Tt[Dt.indices.bucket],Yr),Dt.postModify(r);break}}if(null==r)throw function KG(n){return new Or("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class r6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WT(n){return"string"==typeof n||n instanceof String}function uL(n){return Pk()&&n instanceof Blob}function Pk(){return typeof Blob<"u"&&!(0,Wt.UG)()}function Fk(n,e,t,r){if(r<e)throw Nk(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Nk(`Invalid value for '${n}'. Expected ${t} or less.`)}function yd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var cf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(cf||(cf={})),cf))();class c6{constructor(e,t,r,i,o,u,h,m,v,D,S,N=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=D,this.connectionFactory_=S,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,z)=>{this.resolve_=V,this.reject_=z,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function o6(n){return void 0!==n}(m)?o():o(m)}catch(m){u(m)}else if(null!==h){const m=Ok();m.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,m):m)}else u(i.canceled?this.appDelete_?cL():function aL(){return new Or("canceled","User canceled the upload/download.")}():function oL(){return new Or("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ZT(!1,null,!0)):this.backoffId_=function i6(n,e,t){let r=1,i=null,o=null,u=!1,h=0;function m(){return 2===h}let v=!1;function D(...ne){v||(v=!0,e.apply(null,ne))}function S(ne){i=setTimeout(()=>{i=null,n(V,m())},ne)}function N(){o&&clearTimeout(o)}function V(ne,...Be){if(v)return void N();if(ne)return N(),void D.call(null,ne,...Be);if(m()||u)return N(),void D.call(null,ne,...Be);let Ke;r<64&&(r*=2),1===h?(h=2,Ke=0):Ke=1e3*(r+Math.random()),S(Ke)}let z=!1;function ee(ne){z||(z=!0,N(),!v&&(null!==i?(ne||(h=2),clearTimeout(i),S(0)):ne||(h=1)))}return S(0),o=setTimeout(()=>{u=!0,ee(!0)},t),ee}((r,i)=>{if(i)return void r(!1,new ZT(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===cf.NO_ERROR,m=o.getStatus();if(!h||function hL(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(m,this.additionalRetryCodes_)&&this.retry){const D=o.getErrorCode()===cf.ABORT;return void r(!1,new ZT(!1,null,D))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new ZT(v,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function s6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ZT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function g6(...n){const e=function m6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Pk())return new Blob(n);throw new Or("unsupported-environment","This browser doesn't seem to support creating Blobs")}class Lk{constructor(e,t){this.data=e,this.contentType=t||null}}function pL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mL(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw lw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw lw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function y6(n){if(typeof atob>"u")throw function t6(n){return new Or("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:lw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class gL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lw("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function C6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class vd{constructor(e,t){let r=0,i="";uL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(uL(this.data_)){const i=function _6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new vd(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new vd(r,!0)}}static getBlob(...e){if(Pk()){const t=e.map(r=>r instanceof vd?r.data_:r);return new vd(g6.apply(null,t))}{const t=e.map(u=>WT(u)?function fL(n,e){switch(n){case"raw":return new Lk(pL(e));case"base64":case"base64url":return new Lk(mL(n,e));case"data_url":return new Lk(function b6(n){const e=new gL(n);return e.base64?mL("base64",e.rest):function v6(n){let e;try{e=decodeURIComponent(n)}catch{throw lw("data_url","Malformed data URL.")}return pL(e)}(e.rest)}(e),function w6(n){return new gL(n).contentType}(e))}throw Ok()}("raw",u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[o++]=u[h]}),new vd(i,!0)}}uploadData(){return this.data_}}function Bk(n){let e;try{e=JSON.parse(n)}catch{return null}return function l6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _L(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function T6(n,e){return e}class Rs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||T6}}let YT=null;function uw(){if(YT)return YT;const n=[];n.push(new Rs("bucket")),n.push(new Rs("generation")),n.push(new Rs("metageneration")),n.push(new Rs("name","fullPath",!0));const t=new Rs("name");t.xform=function e(o,u){return function I6(n){return!WT(n)||n.length<2?n:_L(n)}(u)},n.push(t);const i=new Rs("size");return i.xform=function r(o,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Rs("timeCreated")),n.push(new Rs("updated")),n.push(new Rs("md5Hash",null,!0)),n.push(new Rs("cacheControl",null,!0)),n.push(new Rs("contentDisposition",null,!0)),n.push(new Rs("contentEncoding",null,!0)),n.push(new Rs("contentLanguage",null,!0)),n.push(new Rs("contentType",null,!0)),n.push(new Rs("metadata","customMetadata",!0)),YT=n,YT}function yL(n,e,t){const r=Bk(e);return null===r?null:function A6(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return function S6(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new ks(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}const vL="prefixes";class zc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gc(n){if(!n)throw Ok()}function My(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function ZG(){return new Or("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function WG(){return new Or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function qG(n){return new Or("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function YG(n){return new Or("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function N6(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const h=yd(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,D=new zc(h,"GET",function R6(n,e){return function t(r,i){const o=function k6(n,e,t){const r=Bk(t);return null===r?null:function x6(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[vL])for(const i of t[vL]){const o=i.replace(/\/$/,""),u=n._makeStorageReference(new ks(e,o));r.prefixes.push(u)}if(t.items)for(const i of t.items){const o=n._makeStorageReference(new ks(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Gc(null!==o),o}}(n,e.bucket),v);return D.urlParams=o,D.errorHandler=My(e),D}function DL(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let Ke="";for(let We=0;We<2;We++)Ke+=Math.random().toString().slice(2);return Ke}();u["Content-Type"]="multipart/related; boundary="+m;const v=function EL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function B6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),D=function Vk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(v,t),V=vd.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===V)throw function lL(){return new Or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const z={name:v.fullPath},ee=yd(o,n.host,n._protocol),Be=n.maxUploadRetryTime,st=new zc(ee,"POST",function KT(n,e){return function t(r,i){const o=yL(n,i,e);return Gc(null!==o),o}}(n,t),Be);return st.urlParams=z,st.headers=u,st.body=V.uploadData(),st.errorHandler=My(e),st}class z6 extends class $6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw cw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ml(){return new z6}class Rm{constructor(e,t){this._service=e,this._location=t instanceof ks?t:ks.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rm(e,t)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _L(this._location.path)}get storage(){return this._service}get parent(){const e=function E6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ks(this._location.bucket,e);return new Rm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function n6(n){return new Or("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function AL(n,e,t){return jk.apply(this,arguments)}function jk(){return jk=(0,be.Z)(function*(n,e,t){const i=yield ML(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield AL(n,e,i.nextPageToken))}),jk.apply(this,arguments)}function ML(n,e){null!=e&&"number"==typeof e.maxResults&&Fk("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=N6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ml)}function rq(n){n._throwIfRoot("getDownloadURL");const e=function P6(n,e,t){const i=yd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new zc(i,"GET",function O6(n,e){return function t(r,i){const o=yL(n,i,e);return Gc(null!==o),function M6(n,e,t,r){const i=Bk(e);if(null===i||!WT(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(v=>{const S=n.fullPath;return yd("/b/"+u(n.bucket)+"/o/"+u(S),t,r)+dL({alt:"media",token:v})})[0]}(o,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=function dw(n){const e=My(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function GG(n){return new Or("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}(e),h}(n.storage,n._location,uw());return n.storage.makeRequestWithTokens(e,Ml).then(t=>{if(null===t)throw function e6(){return new Or("no-download-url","The given file does not have any download URLs.")}();return t})}function kL(n,e){if(n instanceof $k){const t=n;if(null==t._bucket)throw function XG(){return new Or("no-default-bucket","No default bucket found. Did you set the '"+sL+"' property when initializing the app?")}();const r=new Rm(t,t._bucket);return null!=e?kL(r,e):r}return void 0!==e?function xL(n,e){const t=function D6(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ks(n._location.bucket,t);return new Rm(n.storage,r)}(n,e):n}function RL(n,e){const t=e?.[sL];return null==t?null:ks.makeFromBucketSpec(t,n)}class $k{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=iL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ks.makeFromBucketSpec(i,this._host):RL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ks.makeFromBucketSpec(this._url,e):RL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rm(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new r6(cL());{const u=function p6(n,e,t,r,i,o,u=!0){const h=dL(n.urlParams),m=n.url+h,v=Object.assign({},n.headers);return function h6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function u6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function d6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,o),function f6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new c6(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,be.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const OL="@firebase/storage",PL="storage";function cq(n,e,t){return function SL(n,e,t){n._throwIfRoot("uploadBytes");const r=DL(n.storage,n._location,uw(),new vd(e,!0),t);return n.storage.makeRequestWithTokens(r,Ml).then(i=>({metadata:i,ref:n}))}(n=(0,Wt.m9)(n),e,t)}function uq(n){return function eq(n){const e={prefixes:[],items:[]};return AL(n,e).then(()=>e)}(n=(0,Wt.m9)(n))}function dq(n){return rq(n=(0,Wt.m9)(n))}function hq(n,e){return function aq(n,e){if(e&&function sq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof $k)return function oq(n,e){return new Rm(n,e)}(n,e);throw Nk("To use ref(service, url), the first argument must be a Storage instance.")}return kL(n,e)}(n=(0,Wt.m9)(n),e)}function fq(n=(0,xr.getApp)(),e){n=(0,Wt.m9)(n);const r=(0,xr._getProvider)(n,PL).getImmediate({identifier:e}),i=(0,Wt.P0)("storage");return i&&function pq(n,e,t,r={}){!function lq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Wt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function mq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new $k(t,r,i,e,xr.SDK_VERSION)}!function gq(){(0,xr._registerComponent)(new rp.wA(PL,mq,"PUBLIC").setMultipleInstances(!0)),(0,xr.registerVersion)(OL,"0.10.1",""),(0,xr.registerVersion)(OL,"0.10.1","esm2017")}();class hw{constructor(e){return e}}const FL="storage",zk=new a.OlP("angularfire2.storage-instances");function vq(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hw(r)}}const bq={provide:class _q{constructor(){return(0,nn.vb)(FL)}},deps:[[new a.FiY,zk]]},wq={provide:hw,useFactory:function yq(n,e){const t=(0,nn.JM)(FL,n,e);return t&&new hw(t)},deps:[[new a.FiY,zk],wm]};let Cq=(()=>{class n{constructor(){(0,rf.KN)("angularfire",nn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[wq,bq]}),n})();function Eq(n,...e){return{ngModule:Cq,providers:[{provide:zk,useFactory:vq(n),multi:!0,deps:[a.R0b,a.zs3,nn.HU,WM,[new a.FiY,xk],[new a.FiY,F0],...e]}]}}const LL=(0,nn.u3)(dq,!0),Dq=(0,nn.u3)(fq,!0),Tq=(0,nn.u3)(uq,!0),Gk=(0,nn.u3)(hq,!0),Iq=(0,nn.u3)(cq,!0),BL=["toast-component",""];function Sq(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function Aq(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function Mq(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,Aq,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function xq(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function kq(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function Rq(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}class Vq{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Hq{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Lt.x,this._activate=new Lt.x,this._manualClose=new Lt.x,this._resetTimeout=new Lt.x,this._countDuplicate=new Lt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class XT{constructor(e,t,r,i,o,u){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=o,this.toastRef=u,this._onTap=new Lt.x,this._onAction=new Lt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const UL=new a.OlP("ToastConfig");class jq extends class Uq{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class $q{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let zq=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gq=(()=>{class n{constructor(t,r,i,o){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new jq(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new $q(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zq),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ky=(()=>{class n{constructor(t,r,i,o,u){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},o=""){return this._preBuildNotification(o,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,o){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const m=u&&h.title===t;if((!u||m)&&h.message===r)return h.toastRef.onDuplicate(i,o),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,o)):this._buildNotification(t,r,i,o)}_buildNotification(t,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&o.enableHtml&&(v=this.sanitizer.sanitize(a.q3G.HTML,r));const D=new Hq(m),S=new XT(this.index,o,v,i,t,D),V=a.zs3.create({providers:[{provide:XT,useValue:S}],parent:this._injector}),z=new Vq(o.toastComponent,V),ee=m.attach(z,o.newestOnTop);D.componentInstance=ee.instance;const ne={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:ee};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ne.toastRef.activate()})),this.toasts.push(ne),ne}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(UL),a.LFG(Gq),a.LFG(a.zs3),a.LFG(Vs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qq={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ky),a.Y36(XT),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(a.d8E("@flyInOut",r.state),a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},attrs:BL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(a.YNc(0,Sq,3,0,"button",0),a.YNc(1,Mq,3,5,"div",1),a.YNc(2,xq,1,3,"div",2),a.YNc(3,kq,2,4,"div",3),a.YNc(4,Rq,2,2,"div",4)),2&t&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},dependencies:[Dn],encapsulation:2,data:{animation:[Ey("flyInOut",[Ca("inactive",vi({opacity:0})),Ca("active",vi({opacity:1})),Ca("removed",vi({opacity:0})),Sl("inactive => active",jc("{{ easeTime }}ms {{ easing }}")),Sl("active => removed",jc("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let Wq=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:UL,useValue:{default:qq,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[io]}),n})();function Zq(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td",9),a._uU(2),a.qZA(),a.TgZ(3,"td",9),a._uU(4),a.qZA(),a.TgZ(5,"td",9),a._uU(6),a.qZA(),a.TgZ(7,"td",9),a._uU(8),a.qZA(),a.TgZ(9,"td",9),a._uU(10),a.qZA(),a.TgZ(11,"td",9),a._UZ(12,"img",10),a.qZA(),a.TgZ(13,"td")(14,"button",11),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.aceptarReservas(o.id,o.url))}),a.TgZ(15,"mat-icon"),a._uU(16,"thumb_up"),a.qZA()(),a.TgZ(17,"button",12),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.eliminarReservas(o.id,o.url))}),a.TgZ(18,"mat-icon"),a._uU(19,"thumb_down"),a.qZA()()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.Nombre),a.xp6(2),a.Oqu(t.Cedula),a.xp6(2),a.Oqu(t.Telefono),a.xp6(2),a.Oqu(t.Correo),a.xp6(2),a.Oqu(t.TipoHabitacion),a.xp6(2),a.Q6J("src",t.url,a.LSH)}}function Yq(n,e){if(1&n&&(a.TgZ(0,"tr",13)(1,"td"),a._UZ(2,"img",14),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Q6J("src",t,a.LSH)}}let Kq=(()=>{class n{constructor(t,r,i){this._proyectoService=t,this.toastr=r,this.storage=i,this.reservaciones=[],this.images=[]}ngOnInit(){this.getReservas(),this.getImages()}getReservas(){var t=this;this._proyectoService.getReservas().subscribe(r=>{this.reservaciones=[],r.forEach(i=>{this.reservaciones.push({id:i.payload.doc.id,...i.payload.doc.data()})}),this.reservaciones.forEach(function(){var i=(0,be.Z)(function*(o){if(null!=o.pago){const u=Gk(t.storage,"pagos/"+o.pago);console.log(u.fullPath),o.url=yield LL(u)}});return function(o){return i.apply(this,arguments)}}()),console.log(this.reservaciones)})}eliminarReservas(t,r){this._proyectoService.eliminarReservas(t).then(()=>{this.toastr.success("Reserva eliminada correctamente","\xa1Proceso exitoso!");let i={};this._proyectoService.getReserva(t).subscribe(o=>{i=o.data(),this._proyectoService.enviarCorreo({img:r,nombre:i.Nombre,Cedula:i.Cedula,Telefono:i.Telefono,Correo:i.Correo,TipoHabitacion:i.TipoHabitacion,extra:"Su solicitud fue rechazada"}).subscribe(h=>{})})}).catch(i=>{console.log(i)})}aceptarReservas(t,r){let i={};this._proyectoService.getReserva(t).subscribe(o=>{i=o.data(),i.aceptado=!0,this._proyectoService.aceptarResevas(i,t).then(()=>{this.toastr.success("Reserva aceptada correctamente","\xa1Proceso exitoso!"),this._proyectoService.enviarCorreo({img:r,nombre:i.Nombre,Cedula:i.Cedula,Telefono:i.Telefono,Correo:i.Correo,TipoHabitacion:i.TipoHabitacion,extra:"Su solicitud fue aceptada con \xe9xito"}).subscribe(h=>{})}).catch(u=>{console.log(u)})})}getImages(){return(0,be.Z)(function*(){})()}getimg(t){return(0,be.Z)(function*(){null!=t&&console.log(t)})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Dk),a.Y36(ky),a.Y36(hw))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-reservas"]],decls:38,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],["mat-stretch-tabs","false","mat-align-tabs","center"],["label","Reservaciones"],[1,"table","table-striped","mt-5"],[4,"ngFor","ngForOf"],["label","Comprobantes"],["class","images",4,"ngFor","ngForOf"],[1,"posicion"],["width","200px","alt","","srcset","",1,"zoom",3,"src"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"images"],["width","170","height","190",3,"src"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),a._uU(6," Lista de Reservaciones "),a.qZA()(),a.TgZ(7,"mat-card-content")(8,"mat-tab-group",3)(9,"mat-tab",4)(10,"table",5)(11,"thead")(12,"tr")(13,"th"),a._uU(14,"Nombre"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"C\xe9dula"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Tel\xe9fono"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"Correo"),a.qZA(),a.TgZ(21,"th"),a._uU(22,"Tipo de Habitaci\xf3n"),a.qZA(),a.TgZ(23,"th"),a._uU(24,"Foto de pago"),a.qZA(),a._UZ(25,"th"),a.qZA()(),a.TgZ(26,"tbody"),a.YNc(27,Zq,20,6,"tr",6),a.qZA()()(),a.TgZ(28,"mat-tab",7)(29,"table",5)(30,"thead")(31,"tr")(32,"th"),a._uU(33,"Imagen"),a.qZA(),a.TgZ(34,"th"),a._uU(35,"Fecha"),a.qZA()()(),a.TgZ(36,"tbody"),a.YNc(37,Yq,3,1,"tr",8),a.qZA()()()()()()()()()),2&t&&(a.xp6(27),a.Q6J("ngForOf",r.reservaciones),a.xp6(10),a.Q6J("ngForOf",r.images))},dependencies:[hs,Cy,UT,HT,BT,VT,$N,Nx,sw],styles:["i[_ngcontent-%COMP%]{cursor:pointer}.zoom[_ngcontent-%COMP%]{position:relative;z-index:1000000000000;transition:transform .2s}.zoom[_ngcontent-%COMP%]:hover{transform:scale(2)}"]}),n})();function Qq(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Favor de ingresar el "),a.TgZ(2,"strong"),a._uU(3,"usuario"),a.qZA()())}function Xq(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Favor de ingresar la "),a.TgZ(2,"strong"),a._uU(3,"contrase\xf1a"),a.qZA()())}function Jq(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," El campo de tener 10 caracteres "),a.qZA())}let eW=(()=>{class n{constructor(t,r,i,o){this.formBuilder=t,this._route=r,this.authService=i,this.toastr=o,this.title="tesst",this.buildForm()}ngOnInit(){}buildForm(){this.form=this.formBuilder.group({userCtrl:new Da("",[bi.required]),passCtrl:new Da("",[bi.required,bi.minLength(5),bi.maxLength(15)])})}get userField(){return this.form.get("userCtrl")}get passField(){return this.form.get("passCtrl")}login(){return new Promise((t,r)=>{this.authService.SignIn(this.form.controls.userCtrl.value,this.form.controls.passCtrl.value).then(i=>{t(i),this.toastr.success("Inicio de sesi\xf3n correctamente","\xa1Proceso exitoso!")})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(uF),a.Y36(Jn),a.Y36(aw),a.Y36(ky))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:4,consts:[[1,"login-wrapper"],[1,"box"],[3,"formGroup"],[1,"d-flex","flex-column"],[1,"example-full-width"],["matInput","","placeholder","Usuario","formControlName","userCtrl"],["matSuffix",""],[4,"ngIf"],["matInput","","placeholder","Contrase\xf1a","formControlName","passCtrl","type","password"],["mat-stroked-button","","color","accent",1,"btn-block",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a._uU(4,"Iniciar Sesi\xf3n"),a.qZA()(),a.TgZ(5,"form",2)(6,"mat-card-content",3)(7,"mat-form-field",4),a._UZ(8,"input",5),a.TgZ(9,"mat-icon",6),a._uU(10,"person"),a.qZA(),a.YNc(11,Qq,4,0,"mat-error",7),a.qZA(),a.TgZ(12,"mat-form-field",4),a._UZ(13,"input",8),a.TgZ(14,"mat-icon",6),a._uU(15,"vpn_key"),a.qZA(),a.YNc(16,Xq,4,0,"mat-error",7),a.YNc(17,Jq,2,0,"mat-error",7),a.qZA()(),a.TgZ(18,"button",9),a.NdJ("click",function(){return r.login()}),a._uU(19,"Iniciar Sesi\xf3n"),a.qZA()()()()),2&t&&(a.xp6(5),a.Q6J("formGroup",r.form),a.xp6(6),a.Q6J("ngIf",null==r.userField?null:r.userField.hasError("required")),a.xp6(5),a.Q6J("ngIf",null==r.passField?null:r.passField.hasError("required")),a.xp6(1),a.Q6J("ngIf",(null==r.passField?null:r.passField.hasError("minLength"))&&(null==r.passField?null:r.passField.hasError("maxLength"))))},dependencies:[Dn,EF,AF,TF,kF,Cy,UT,HT,BT,VT,uk,K0,ek,tk,Am,RT,sw],styles:[".login-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vh}.box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px}.spinner[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function tW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.SubirImagen())}),a._uU(1," Guardar Imagen "),a.TgZ(2,"mat-icon"),a._uU(3,"save"),a.qZA()()}}const nW=[{path:"",redirectTo:"/formulario",pathMatch:"full"},{path:"formulario",component:FG},{path:"admin",component:L$,canActivate:[nL]},{path:"login",component:eW,canActivate:[BG]},{path:"subir/:id",component:(()=>{class n{constructor(t,r,i,o,u){this.storage=t,this.toastr=r,this.router=i,this.route=o,this._reservaHabitacion=u,this.imageSrc="",this.estado=0,this.id="",this.images=[],this.route.params.subscribe(h=>{console.log(h.id),this._reservaHabitacion.getReserva(h.id).subscribe(m=>{this.reserva=m.data(),this.id=h.id,console.log(this.reserva)})})}ngOnInit(){this.getImages()}SubirImagen(){let t=(new Date).getTime();const r=Gk(this.storage,`pagos/${t}.${this.file.name.split(".").pop()}`);Iq(r,this.file).then(i=>{this.toastr.success("Imagen subida correctamente","\xa1Proceso exitoso!"),this.reserva.pago=t+this.file.name.split(".").pop(),this._reservaHabitacion.actualizarReservacion(this.reserva,this.id).then(o=>{}),this.router.navigate(["/"])}).catch(i=>console.log(i))}uploadImage(t){this.file=t.target.files[0],console.log(this.file);const r=new FileReader;r.onload=i=>this.imageSrc=r.result,r.readAsDataURL(this.file)}getImages(){var t=this;const r=Gk(this.storage,"pagos");Tq(r).then(function(){var i=(0,be.Z)(function*(o){console.log(o),t.images=[];for(let u of o.items){const h=yield LL(u);t.images.push(h)}});return function(o){return i.apply(this,arguments)}}()).catch(i=>console.log(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(hw),a.Y36(ky),a.Y36(Jn),a.Y36(ca),a.Y36(Dk))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-subir-imagen"]],decls:20,vars:2,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css","rel","stylesheet"],[1,"container","mt-5"],["align","center"],[1,"m-3"],["id","blah","alt","your image",3,"src"],["type","file","name","fileup","id","fileup",2,"display","none",3,"change"],["mat-raised-button","","color","primary","onclick","document.getElementById('fileup').click()","id","imagenup",1,"m-2"],["class","m-2","mat-raised-button","","color","accent","id","imagenup",3,"click",4,"ngIf"],["id","preview"],["mat-raised-button","","color","accent","id","imagenup",1,"m-2",3,"click"]],template:function(t,r){1&t&&(a._UZ(0,"link",0),a.TgZ(1,"div",1)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),a._uU(5," Subir comprobante "),a.qZA(),a.TgZ(6,"mat-card-subtitle"),a._uU(7," Subir la imagen del pago para validar su reservaci\xf3n. "),a.qZA()(),a.TgZ(8,"mat-card-content",2)(9,"h4"),a._uU(10,"\xa1Tipo de im\xe1genes aceptadas! (jpg,jpeg,bmp,png)"),a.qZA(),a.TgZ(11,"div",3),a._UZ(12,"img",4),a.qZA(),a.TgZ(13,"input",5),a.NdJ("change",function(o){return r.uploadImage(o)}),a.qZA(),a.TgZ(14,"button",6),a._uU(15," Subir Imagen "),a.TgZ(16,"mat-icon"),a._uU(17,"upgrade"),a.qZA()(),a.YNc(18,tW,4,0,"button",7),a._UZ(19,"div",8),a.qZA()()()),2&t&&(a.xp6(12),a.Q6J("src",r.imageSrc||"http://placehold.it/180",a.LSH),a.xp6(6),a.Q6J("ngIf",""!=r.imageSrc))},dependencies:[Dn,Cy,UT,HT,BT,VT,RF,sw]}),n})()},{path:"list",component:Kq,canActivate:[nL]}];let rW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[mv.forRoot(nW),mv]}),n})();const iW=["*",[["mat-toolbar-row"]]],sW=["*","mat-toolbar-row"],oW=Dm(class{constructor(n){this._elementRef=n}});let aW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),lW=(()=>{class n extends oW{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Ni),a.Y36(ie))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,aW,5),2&t){let o;a.iGM(o=a.CRH())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:sW,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(iW),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),cW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn],jn]}),n})();function uW(n,e){1&n&&(a.TgZ(0,"a",6),a._uU(1,"Login"),a.qZA())}function dW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",7),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cerrarSession())}),a._uU(1,"Cerrar sesi\xf3n"),a.qZA()}}let hW=(()=>{class n{constructor(t,r){this.authService=t,this.toastr=r}ngOnInit(){}cerrarSession(){this.authService.SignOut(),this.toastr.success("Inicio de sesi\xf3n correctamente","\xa1Proceso exitoso!")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(aw),a.Y36(ky))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navmenu"]],decls:10,vars:2,consts:[["color","primary"],[2,"text-indent","7px"],[1,"space"],["mat-raised-button","","routerLink","formulario"],["mat-raised-button","","color","accent","routerLink","login",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","routerLink","login"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-toolbar",0)(1,"span"),a._uU(2,"HOTEL"),a.qZA(),a.TgZ(3,"mat-icon",1),a._uU(4,"apartment"),a.qZA(),a._UZ(5,"div",2),a.TgZ(6,"a",3),a._uU(7,"Reservar"),a.qZA(),a.YNc(8,uW,2,0,"a",4),a.YNc(9,dW,2,0,"a",5),a.qZA()),2&t&&(a.xp6(8),a.Q6J("ngIf",!r.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[Dn,Tg,AH,sw,lW],styles:[".space[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-right:10px}"]}),n})(),fW=(()=>{class n{constructor(){this.title="proyecto"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navmenu")(1,"router-outlet")},dependencies:[tv,hW]}),n})(),IW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[z0,jn],jn]}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),BW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[z0,jn,cT,qL],jn,qL]}),n})();function WL(n){return new a.vHH(3e3,!1)}function b5(){return typeof window<"u"&&typeof window.document<"u"}function qk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function uf(n){switch(n.length){case 0:return new G0;case 1:return n[0];default:return new xN(n)}}function ZL(n,e,t,r,i=new Map,o=new Map){const u=[],h=[];let m=-1,v=null;if(r.forEach(D=>{const S=D.get("offset"),N=S==m,V=N&&v||new Map;D.forEach((z,ee)=>{let ne=ee,Be=z;if("offset"!==ee)switch(ne=e.normalizePropertyName(ne,u),Be){case"!":Be=i.get(ee);break;case pd:Be=o.get(ee);break;default:Be=e.normalizeStyleValue(ee,ne,Be,u)}V.set(ne,Be)}),N||h.push(V),v=V,m=S}),u.length)throw function l5(n){return new a.vHH(3502,!1)}();return h}function Wk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Zk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Zk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Zk(t,"destroy",n)))}}function Zk(n,e,t){const o=Yk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function Yk(n,e,t,r,i="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!u}}function So(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function YL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Kk=(n,e)=>!1,KL=(n,e,t)=>[],QL=null;function Qk(n){const e=n.parentNode||n.host;return e===QL?null:e}(qk()||typeof Element<"u")&&(b5()?(QL=(()=>document.documentElement)(),Kk=(n,e)=>{for(;e;){if(e===n)return!0;e=Qk(e)}return!1}):Kk=(n,e)=>n.contains(e),KL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Om=null,XL=!1;const JL=Kk,eB=KL;let tB=(()=>{class n{validateStyleProperty(t){return function C5(n){Om||(Om=function E5(){return typeof document<"u"?document.body:null}()||{},XL=!!Om.style&&"WebkitAppearance"in Om.style);let e=!0;return Om.style&&!function w5(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Om.style,!e&&XL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Om.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return JL(t,r)}getParentElement(t){return Qk(t)}query(t,r,i){return eB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,u,h=[],m){return new G0(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Xk=(()=>{class n{}return n.NOOP=new tB,n})();const Jk="ng-enter",JT="ng-leave",eI="ng-trigger",tI=".ng-trigger",rB="ng-animating",eR=".ng-animating";function bd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tR(parseFloat(e[1]),e[2])}function tR(n,e){return"s"===e?1e3*n:n}function nI(n,e,t){return n.hasOwnProperty("duration")?n:function I5(n,e,t){let i,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(WL()),{duration:0,delay:0,easing:""};i=tR(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=tR(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else i=n;if(!t){let h=!1,m=e.length;i<0&&(e.push(function VW(){return new a.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function UW(){return new a.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,WL())}return{duration:i,delay:o,easing:u}}(n,e,t)}function fw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function iB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function df(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function oB(n,e,t){return t?e+":"+t+";":""}function aB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=oB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oB(0,x5(t),n.style[t]));n.setAttribute("style",e)}function qc(n,e,t){n.style&&(e.forEach((r,i)=>{const o=rR(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),qk()&&aB(n))}function Nm(n,e){n.style&&(e.forEach((t,r)=>{const i=rR(r);n.style[i]=""}),qk()&&aB(n))}function pw(n){return Array.isArray(n)?1==n.length?n[0]:AN(n):n}const nR=new RegExp("{{\\s*(.+?)\\s*}}","g");function lB(n){let e=[];if("string"==typeof n){let t;for(;t=nR.exec(n);)e.push(t[1]);nR.lastIndex=0}return e}function mw(n,e,t){const r=n.toString(),i=r.replace(nR,(o,u)=>{let h=e[u];return null==h&&(t.push(function jW(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function rI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const M5=/-+([a-z0-9])/g;function rR(n){return n.replace(M5,(...e)=>e[1].toUpperCase())}function x5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ao(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $W(n){return new a.vHH(3004,!1)}()}}function cB(n,e){return window.getComputedStyle(n)[e]}function F5(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function L5(n,e,t){if(":"==n[0]){const m=function B5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function r5(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function n5(n){return new a.vHH(3015,!1)}()),e;const i=r[1],o=r[2],u=r[3];e.push(uB(i,u));"<"==o[0]&&!("*"==i&&"*"==u)&&e.push(uB(u,i))}(r,t,e)):t.push(n),t}const aI=new Set(["true","1"]),lI=new Set(["false","0"]);function uB(n,e){const t=aI.has(n)||lI.has(n),r=aI.has(e)||lI.has(e);return(i,o)=>{let u="*"==n||n==i,h="*"==e||e==o;return!u&&t&&"boolean"==typeof i&&(u=i?aI.has(n):lI.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?aI.has(e):lI.has(e)),u&&h}}const V5=new RegExp("s*:selfs*,?","g");function iR(n,e,t,r){return new U5(n).build(e,t,r)}class U5{constructor(e){this._driver=e}build(e,t,r){const i=new $5(t);return this._resetContextStyleTimingState(i),Ao(this,pw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function GW(){return new a.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(D=>{m.name=D,o.push(this.visitState(m,t))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,i+=m.depCount,u.push(m)}else t.errors.push(function qW(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{lB(m).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(rI(o.values()),t.errors.push(function WW(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ao(this,pw(e.animation),t);return{type:1,matchers:F5(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Pm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ao(this,r,t)),options:Pm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(u=>{t.currentTime=r;const h=Ao(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:Pm(e.options)}}visitAnimate(e,t){const r=function G5(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sR(nI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=sR(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=nI(t,e);return sR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:vi({});if(5==o.type)i=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=vi(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(u,t);m.isEmptyStep=h,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===pd?r.push(h):t.errors.push(new a.vHH(3002,!1)):r.push(iB(h));let o=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),D=v.get(m);let S=!0;D&&(o!=i&&o>=D.startTime&&i<=D.endTime&&(t.errors.push(function YW(n,e,t,r,i){return new a.vHH(3010,!1)}()),S=!1),o=D.startTime),S&&v.set(m,{startTime:o,endTime:i}),t.options&&function A5(n,e,t){const r=e.params||{},i=lB(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function HW(n){return new a.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function KW(){return new a.vHH(3011,!1)}()),r;let o=0;const u=[];let h=!1,m=!1,v=0;const D=e.steps.map(Be=>{const st=this._makeStyleAst(Be,t);let Ke=null!=st.offset?st.offset:function z5(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(st.styles),We=0;return null!=Ke&&(o++,We=st.offset=Ke),m=m||We<0||We>1,h=h||We<v,v=We,u.push(We),st});m&&t.errors.push(function QW(){return new a.vHH(3012,!1)}()),h&&t.errors.push(function XW(){return new a.vHH(3200,!1)}());const S=e.steps.length;let N=0;o>0&&o<S?t.errors.push(function JW(){return new a.vHH(3202,!1)}()):0==o&&(N=1/(S-1));const V=S-1,z=t.currentTime,ee=t.currentAnimateTimings,ne=ee.duration;return D.forEach((Be,st)=>{const Ke=N>0?st==V?1:N*st:u[st],We=Ke*ne;t.currentTime=z+ee.delay+We,ee.duration=We,this._validateStyleAst(Be,t),Be.offset=Ke,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Ao(this,pw(e.animation),t),options:Pm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Pm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Pm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function H5(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(V5,"")),n=n.replace(/@\*/g,tI).replace(/@\w+/g,t=>tI+"-"+t.slice(1)).replace(/:animating/g,eR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,So(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ao(this,pw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Pm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e5(){return new a.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:nI(e.timings,t.errors,!0);return{type:12,animation:Ao(this,pw(e.animation),t),timings:r,options:null}}}class $5{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pm(n){return n?(n=fw(n)).params&&(n.params=function j5(n){return n?fw(n):null}(n.params)):n={},n}function sR(n,e,t){return{duration:n,delay:e,easing:t}}function oR(n,e,t,r,i,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:u,subTimeline:h}}class cI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Z5=new RegExp(":enter","g"),K5=new RegExp(":leave","g");function aR(n,e,t,r,i,o=new Map,u=new Map,h,m,v=[]){return(new Q5).buildKeyframes(n,e,t,r,i,o,u,h,m,v)}class Q5{buildKeyframes(e,t,r,i,o,u,h,m,v,D=[]){v=v||new cI;const S=new lR(e,t,v,i,o,D,[]);S.options=m;const N=m.delay?bd(m.delay):0;S.currentTimeline.delayNextStep(N),S.currentTimeline.setStyles([u],null,S.errors,m),Ao(this,r,S);const V=S.timelines.filter(z=>z.containsAnimation());if(V.length&&h.size){let z;for(let ee=V.length-1;ee>=0;ee--){const ne=V[ee];if(ne.element===t){z=ne;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([h],null,S.errors,m)}return V.length?V.map(z=>z.buildKeyframes()):[oR(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const u="number"==typeof o?o:bd(mw(o,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const u=null!=r.duration?bd(r.duration):null,h=null!=r.delay?bd(r.delay):null;return 0!==u&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ao(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uI);const u=bd(o.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ao(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?bd(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Ao(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return nI(t.params?mw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?bd(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uI);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((v,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,v);o&&S.delayNextStep(o),v===t.element&&(m=S.currentTimeline),Ao(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let m=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const D=t.currentTimeline;m&&D.delayNextStep(m);const S=D.currentTime;Ao(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const uI={};class lR{constructor(e,t,r,i,o,u,h,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new dI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=bd(r.duration)),null!=r.delay&&(i.delay=bd(r.delay));const o=r.params;if(o){let u=i.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=mw(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new lR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=uI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new X5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(Z5,"."+this._enterClassName)).replace(K5,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!o&&0==h.length&&u.push(function t5(n){return new a.vHH(3014,!1)}()),h}}class dI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||pd),this._currentKeyframe.set(t,pd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},u=function J5(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,pd)}else df(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of u){const v=mw(m,o,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??pd),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const v=df(h,new Map,this._backFill);v.forEach((D,S)=>{"!"===D?e.add(S):D===pd&&t.add(S)}),r||v.set("offset",m/this.duration),i.push(v)});const o=e.size?rI(e.values()):[],u=t.size?rI(t.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return oR(this.element,i,o,u,this.duration,this.startTime,this.easing,!1)}}class X5 extends dI{constructor(e,t,r,i,o,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=r+t,h=t/u,m=df(e[0]);m.set("offset",0),o.push(m);const v=df(e[0]);v.set("offset",fB(h)),o.push(v);const D=e.length-1;for(let S=1;S<=D;S++){let N=df(e[S]);const V=N.get("offset");N.set("offset",fB((t+V*r)/u)),o.push(N)}r=u,t=0,i="",e=o}return oR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function fB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cR{}const e4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class t4 extends cR{normalizePropertyName(e,t){return rR(e)}normalizeStyleValue(e,t,r,i){let o="";const u=r.toString().trim();if(e4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function zW(n,e){return new a.vHH(3005,!1)}())}return u+o}}function pB(n,e,t,r,i,o,u,h,m,v,D,S,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:D,totalTime:S,errors:N}}const uR={};class mB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function n4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,u,h,m,v,D){const S=[],N=this.ast.options&&this.ast.options.params||uR,z=this.buildStyles(r,h&&h.params||uR,S),ee=m&&m.params||uR,ne=this.buildStyles(i,ee,S),Be=new Set,st=new Map,Ke=new Map,We="void"===i,Dt={params:r4(ee,N),delay:this.ast.options?.delay},Tt=D?[]:aR(e,t,this.ast.animation,o,u,z,ne,Dt,v,S);let an=0;if(Tt.forEach(Mo=>{an=Math.max(Mo.duration+Mo.delay,an)}),S.length)return pB(t,this._triggerName,r,i,We,z,ne,[],[],st,Ke,an,S);Tt.forEach(Mo=>{const wd=Mo.element,kB=So(st,wd,new Set);Mo.preStyleProps.forEach(Fm=>kB.add(Fm));const _w=So(Ke,wd,new Set);Mo.postStyleProps.forEach(Fm=>_w.add(Fm)),wd!==t&&Be.add(wd)});const Yr=rI(Be.values());return pB(t,this._triggerName,r,i,We,z,ne,Tt,Yr,st,Ke,an)}}function r4(n,e){const t=fw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class s4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=fw(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(i[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=mw(u,i,t));const m=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,m,u,t),r.set(m,u)})}),r}}class a4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new s4(i.style,i.options&&i.options.params||{},r))}),gB(this.states,"true","1"),gB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mB(e,i,this.states))}),this.fallbackTransition=function l4(n,e,t){return new mB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const c4=new cI;class u4{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=iR(this._driver,t,r,[]);if(r.length)throw function c5(n){return new a.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=ZL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=aR(this._driver,t,o,Jk,JT,new Map,new Map,r,c4,i),u.forEach(D=>{const S=So(h,D.element,new Map);D.postStyleProps.forEach(N=>S.set(N,null))})):(i.push(function u5(){return new a.vHH(3300,!1)}()),u=[]),i.length)throw function d5(n){return new a.vHH(3504,!1)}();h.forEach((D,S)=>{D.forEach((N,V)=>{D.set(V,this._driver.computeStyle(S,V,pd))})});const v=uf(u.map(D=>{const S=h.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function h5(n){return new a.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=Yk(t,"","","");return Wk(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _B="ng-animate-queued",dR="ng-animate-disabled",m4=[],yB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class hR{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function b4(n){return n??null}(r?e.value:e),r){const o=fw(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gw="void",fR=new hR(gw);class _4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ia(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function f5(n,e){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function p5(n){return new a.vHH(3303,!1)}();if(!function w4(n){return"start"==n||"done"==n}(r))throw function m5(n,e){return new a.vHH(3400,!1)}();const o=So(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};o.push(u);const h=So(this._engine.statesByElement,e,new Map);return h.has(t)||(Ia(e,eI),Ia(e,eI+"-"+t),h.set(t,fR)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function g5(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),u=new pR(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ia(e,eI),Ia(e,eI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const v=new hR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(t,v),m||(m=fR),v.value!==gw&&m.value===v.value){if(!function D4(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(m.params,v.params)){const ee=[],ne=o.matchStyles(m.value,m.params,ee),Be=o.matchStyles(v.value,v.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Nm(e,ne),qc(e,Be)})}return}const N=So(this._engine.playersByElement,e,[]);N.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let V=o.matchTransition(m.value,v.value,e,v.params),z=!1;if(!V){if(!i)return;V=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:m,toState:v,player:u,isFallbackTransition:z}),z||(Ia(e,_B),u.onStart(()=>{Ry(e,_B)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const ne=this._engine.playersByElement.get(e);if(ne){let Be=ne.indexOf(u);Be>=0&&ne.splice(Be,1)}}),this.players.push(u),N.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,tI,!0);r.forEach(i=>{if(i[Ta])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((m,v)=>{if(u.set(v,m.value),this._triggers.has(v)){const D=this.trigger(e,v,gw,i);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&uf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const u=o.name;if(i.has(u))return;i.add(u);const m=this._triggers.get(u).fallbackTransition,v=r.get(u)||fR,D=new hR(gw),S=new pR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:m,fromState:v,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ta];(!o||o===yB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ia(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==r.triggerName){const m=Yk(o,r.triggerName,r.fromState.value,r.toState.value);m._data=e,Wk(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class y4{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new _4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const m=i.get(h);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(hI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!hI(t))return;const o=t[Ta];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ia(e,dR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ry(e,dR))}removeNode(e,t,r,i){if(hI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Ta]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return hI(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,tI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ta];if(t&&t.setForRemoval){if(e[Ta]=yB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(dR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ia(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?uf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function _5(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new cI,i=[],o=new Map,u=[],h=new Map,m=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(bt=>{D.add(bt);const Rt=this.driver.query(bt,".ng-animate-queued",!0);for(let Ut=0;Ut<Rt.length;Ut++)D.add(Rt[Ut])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),V=wB(N,this.collectedEnterElements),z=new Map;let ee=0;V.forEach((bt,Rt)=>{const Ut=Jk+ee++;z.set(Rt,Ut),bt.forEach(An=>Ia(An,Ut))});const ne=[],Be=new Set,st=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Rt=this.collectedLeaveElements[bt],Ut=Rt[Ta];Ut&&Ut.setForRemoval&&(ne.push(Rt),Be.add(Rt),Ut.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(An=>Be.add(An)):st.add(Rt))}const Ke=new Map,We=wB(N,Array.from(Be));We.forEach((bt,Rt)=>{const Ut=JT+ee++;Ke.set(Rt,Ut),bt.forEach(An=>Ia(An,Ut))}),e.push(()=>{V.forEach((bt,Rt)=>{const Ut=z.get(Rt);bt.forEach(An=>Ry(An,Ut))}),We.forEach((bt,Rt)=>{const Ut=Ke.get(Rt);bt.forEach(An=>Ry(An,Ut))}),ne.forEach(bt=>{this.processLeaveNode(bt)})});const Dt=[],Tt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ut=>{const An=Ut.player,Pi=Ut.element;if(Dt.push(An),this.collectedEnterElements.length){const os=Pi[Ta];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(Ut.triggerName)){const Lm=os.previousTriggersValues.get(Ut.triggerName),Sa=this.statesByElement.get(Ut.element);if(Sa&&Sa.has(Ut.triggerName)){const mI=Sa.get(Ut.triggerName);mI.value=Lm,Sa.set(Ut.triggerName,mI)}}return void An.destroy()}}const Wc=!S||!this.driver.containsElement(S,Pi),xo=Ke.get(Pi),ff=z.get(Pi),Nr=this._buildInstruction(Ut,r,ff,xo,Wc);if(Nr.errors&&Nr.errors.length)return void Tt.push(Nr);if(Wc)return An.onStart(()=>Nm(Pi,Nr.fromStyles)),An.onDestroy(()=>qc(Pi,Nr.toStyles)),void i.push(An);if(Ut.isFallbackTransition)return An.onStart(()=>Nm(Pi,Nr.fromStyles)),An.onDestroy(()=>qc(Pi,Nr.toStyles)),void i.push(An);const NB=[];Nr.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||NB.push(os)}),Nr.timelines=NB,r.append(Pi,Nr.timelines),u.push({instruction:Nr,player:An,element:Pi}),Nr.queriedElements.forEach(os=>So(h,os,[]).push(An)),Nr.preStyleProps.forEach((os,Lm)=>{if(os.size){let Sa=m.get(Lm);Sa||m.set(Lm,Sa=new Set),os.forEach((mI,wR)=>Sa.add(wR))}}),Nr.postStyleProps.forEach((os,Lm)=>{let Sa=v.get(Lm);Sa||v.set(Lm,Sa=new Set),os.forEach((mI,wR)=>Sa.add(wR))})});if(Tt.length){const bt=[];Tt.forEach(Rt=>{bt.push(function y5(n,e){return new a.vHH(3505,!1)}())}),Dt.forEach(Rt=>Rt.destroy()),this.reportError(bt)}const an=new Map,Yr=new Map;u.forEach(bt=>{const Rt=bt.element;r.has(Rt)&&(Yr.set(Rt,Rt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,an))}),i.forEach(bt=>{const Rt=bt.element;this._getPreviousPlayers(Rt,!1,bt.namespaceId,bt.triggerName,null).forEach(An=>{So(an,Rt,[]).push(An),An.destroy()})});const Mo=ne.filter(bt=>EB(bt,m,v)),wd=new Map;bB(wd,this.driver,st,v,pd).forEach(bt=>{EB(bt,m,v)&&Mo.push(bt)});const _w=new Map;V.forEach((bt,Rt)=>{bB(_w,this.driver,new Set(bt),m,"!")}),Mo.forEach(bt=>{const Rt=wd.get(bt),Ut=_w.get(bt);wd.set(bt,new Map([...Array.from(Rt?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const Fm=[],RB=[],OB={};u.forEach(bt=>{const{element:Rt,player:Ut,instruction:An}=bt;if(r.has(Rt)){if(D.has(Rt))return Ut.onDestroy(()=>qc(Rt,An.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(An.totalTime),void i.push(Ut);let Pi=OB;if(Yr.size>1){let xo=Rt;const ff=[];for(;xo=xo.parentNode;){const Nr=Yr.get(xo);if(Nr){Pi=Nr;break}ff.push(xo)}ff.forEach(Nr=>Yr.set(Nr,Pi))}const Wc=this._buildAnimation(Ut.namespaceId,An,an,o,_w,wd);if(Ut.setRealPlayer(Wc),Pi===OB)Fm.push(Ut);else{const xo=this.playersByElement.get(Pi);xo&&xo.length&&(Ut.parentPlayer=uf(xo)),i.push(Ut)}}else Nm(Rt,An.fromStyles),Ut.onDestroy(()=>qc(Rt,An.toStyles)),RB.push(Ut),D.has(Rt)&&i.push(Ut)}),RB.forEach(bt=>{const Rt=o.get(bt.element);if(Rt&&Rt.length){const Ut=uf(Rt);bt.setRealPlayer(Ut)}}),i.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ne.length;bt++){const Rt=ne[bt],Ut=Rt[Ta];if(Ry(Rt,JT),Ut&&Ut.hasAnimation)continue;let An=[];if(h.size){let Wc=h.get(Rt);Wc&&Wc.length&&An.push(...Wc);let xo=this.driver.query(Rt,eR,!0);for(let ff=0;ff<xo.length;ff++){let Nr=h.get(xo[ff]);Nr&&Nr.length&&An.push(...Nr)}}const Pi=An.filter(Wc=>!Wc.destroyed);Pi.length?C4(this,Rt,Pi):this.processLeaveNode(Rt)}return ne.length=0,Fm.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Rt=this.players.indexOf(bt);this.players.splice(Rt,1)}),bt.play()}),Fm}elementContainsData(e,t){let r=!1;const i=t[Ta];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const m=!o||o==gw;h.forEach(v=>{v.queued||!m&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,D=v!==o,S=So(r,v,[]);this._getPreviousPlayers(v,D,u,h,t.toState).forEach(V=>{const z=V.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),V.destroy(),S.push(V)})}Nm(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,u){const h=t.triggerName,m=t.element,v=[],D=new Set,S=new Set,N=t.timelines.map(z=>{const ee=z.element;D.add(ee);const ne=ee[Ta];if(ne&&ne.removedBeforeQueried)return new G0(z.duration,z.delay);const Be=ee!==m,st=function E4(n){const e=[];return CB(n,e),e}((r.get(ee)||m4).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===ee),Ke=o.get(ee),We=u.get(ee),Dt=ZL(0,this._normalizer,0,z.keyframes,Ke,We),Tt=this._buildPlayer(z,Dt,st);if(z.subTimeline&&i&&S.add(ee),Be){const an=new pR(e,h,ee);an.setRealPlayer(Tt),v.push(an)}return Tt});v.forEach(z=>{So(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function v4(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,z.element,z))}),D.forEach(z=>Ia(z,rB));const V=uf(N);return V.onDestroy(()=>{D.forEach(z=>Ry(z,rB)),qc(m,t.toStyles)}),S.forEach(z=>{So(i,z,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new G0(e.duration,e.delay)}}class pR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new G0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Wk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){So(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hI(n){return n&&1===n.nodeType}function vB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function bB(n,e,t,r,i){const o=[];t.forEach(m=>o.push(vB(m)));const u=[];r.forEach((m,v)=>{const D=new Map;m.forEach(S=>{const N=e.computeStyle(v,S,i);D.set(S,N),(!N||0==N.length)&&(v[Ta]=g4,u.push(v))}),n.set(v,D)});let h=0;return t.forEach(m=>vB(m,o[h++])),u}function wB(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function u(h){if(!h)return 1;let m=o.get(h);if(m)return m;const v=h.parentNode;return m=t.has(v)?v:i.has(v)?1:u(v),o.set(h,m),m}return e.forEach(h=>{const m=u(h);1!==m&&t.get(m).push(h)}),t}function Ia(n,e){n.classList?.add(e)}function Ry(n,e){n.classList?.remove(e)}function C4(n,e,t){uf(t).onDone(()=>n.processLeaveNode(e))}function CB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof xN?CB(r.players,e):e.push(r)}}function EB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class fI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new y4(e,t,r),this._timelineEngine=new u4(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const m=[],D=iR(this._driver,o,m,[]);if(m.length)throw function a5(n,e){return new a.vHH(3404,!1)}();h=function o4(n,e,t){return new a4(n,e,t)}(i,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,u]=YL(r);this._timelineEngine.command(o,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[u,h]=YL(r);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let I4=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qc(this._element,this._initialStyles),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nm(this._element,this._endStyles),this._endStyles=null),qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mR(n){let e=null;return n.forEach((t,r)=>{(function S4(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class DB{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class A4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return JL(e,t)}getParentElement(e){return Qk(e)}query(e,t,r){return eB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,u=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(m.easing=o);const v=new Map,D=u.filter(V=>V instanceof DB);(function k5(n,e){return 0===n||0===e})(r,i)&&D.forEach(V=>{V.currentSnapshot.forEach((z,ee)=>v.set(ee,z))});let S=function S5(n){return n.length?n[0]instanceof Map?n:n.map(e=>iB(e)):[]}(t).map(V=>df(V));S=function R5(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,u)=>{r.has(u)||i.push(u),r.set(u,o)}),i.length)for(let o=1;o<e.length;o++){let u=e[o];i.forEach(h=>u.set(h,cB(n,h)))}}return e}(e,S,v);const N=function T4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=mR(e[0]),e.length>1&&(r=mR(e[e.length-1]))):e instanceof Map&&(t=mR(e)),t||r?new I4(n,t,r):null}(e,S);return new DB(e,S,m,N)}}let M4=(()=>{class n extends SN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?AN(t):t;return TB(this._renderer,null,r,"register",[i]),new x4(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class x4 extends class HH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new k4(this._id,e,t||{},this._renderer)}}class k4{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return TB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const IB="@.disabled";let R4=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(o);return D||(D=new SB("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,D)),D}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=D=>{Array.isArray(D)?D.forEach(m):this.engine.registerTrigger(u,h,t,D.name,D)};return r.data.animation.forEach(m),new O4(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(fI),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class SB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==IB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class O4 extends SB{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function N4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function P4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let F4=(()=>{class n extends fI{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(Xk),a.LFG(cR),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const AB=[{provide:SN,useClass:M4},{provide:cR,useFactory:function L4(){return new t4}},{provide:fI,useClass:F4},{provide:a.FYo,useFactory:function B4(n,e,t){return new R4(n,e,t)},deps:[$a,fI,a.R0b]}],gR=[{provide:Xk,useFactory:()=>new A4},{provide:a.QbO,useValue:"BrowserAnimations"},...AB],MB=[{provide:Xk,useClass:tB},{provide:a.QbO,useValue:"NoopAnimations"},...AB];let V4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MB:gR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:gR,imports:[uo]}),n})();const _R_firebase={projectId:"proyectoreservacion",appId:"1:487656650440:web:1bcbcdee6412b6ae3cd7fd",storageBucket:"proyectoreservacion.appspot.com",apiKey:"AIzaSyAgcyeJOGISZaKZAbWm2MZVBGJhp7zdmy4",authDomain:"proyectoreservacion.firebaseapp.com",messagingSenderId:"487656650440"};class yR{constructor(e){return e}}const xB="firestore",vR=new a.OlP("angularfire2.firestore-instances");function j4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new yR(r)}}const $4={provide:class U4{constructor(){return(0,nn.vb)(xB)}},deps:[[new a.FiY,vR]]},z4={provide:yR,useFactory:function H4(n,e){const t=(0,nn.JM)(xB,n,e);return t&&new yR(t)},deps:[[new a.FiY,vR],wm]};let G4=(()=>{class n{constructor(){(0,rf.KN)("angularfire",nn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[z4,$4]}),n})();function q4(n,...e){return{ngModule:G4,providers:[{provide:vR,useFactory:j4(n),multi:!0,deps:[a.R0b,a.zs3,nn.HU,WM,[new a.FiY,xk],[new a.FiY,F0],...e]}]}}const W4=(0,nn.u3)(hV,!0);let K4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[QF,Mx,io,EN,jn],jn]}),n})();function X4(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const t=a.oxw();a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),a.uIk("r",t._getCircleRadius())}}function J4(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const t=a.oxw();a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),a.uIk("r",t._getCircleRadius())}}const tZ=Dm(class{constructor(n){this._elementRef=n}},"primary"),nZ=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function rZ(){return{diameter:100}}});class hf extends tZ{constructor(e,t,r,i,o){super(e),this._document=r,this._diameter=100,this._value=0,this.mode="determinate";const u=hf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),u.has(r.head)||u.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=Uc(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Uc(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Uc(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=XO(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=hf._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}hf._diameters=new WeakMap,hf.\u0275fac=function(e){return new(e||hf)(a.Y36(a.SBq),a.Y36(Ni),a.Y36(ie,8),a.Y36(a.QbO,8),a.Y36(nZ))},hf.\u0275cmp=a.Xpm({type:hf,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0),a.YNc(1,X4,1,9,"circle",1),a.YNc(2,J4,1,7,"circle",2),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},dependencies:[ps,Ro],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let sZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[jn,io],jn]}),n})(),oZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[fW]}),n.\u0275inj=a.cJS({providers:[aw],imports:[uo,rW,Ez,EN,Mz,IW,BW,V4,LT,O3,aF,Bj,f$,Uz,cW,v2(()=>b2(_R_firebase)),q4(()=>W4()),bo.hO.initializeApp(_R_firebase),vU,DG,K4,sZ,W3,Wq.forRoot(),Eq(()=>Dq())]}),n})();(0,a.G48)(),Wa().bootstrapModule(oZ).catch(n=>console.error(n))},9751:(ft,Se,F)=>{F.d(Se,{y:()=>fe});var a=F(930),j=F(727),O=F(8822),ae=F(9635),ue=F(2416),_e=F(576),ie=F(2806);let fe=(()=>{class X{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Te=new X;return Te.source=this,Te.operator=Re,Te}subscribe(Re,Te,ot){const we=function q(X){return X&&X instanceof a.Lv||function W(X){return X&&(0,_e.m)(X.next)&&(0,_e.m)(X.error)&&(0,_e.m)(X.complete)}(X)&&(0,j.Nn)(X)}(Re)?Re:new a.Hp(Re,Te,ot);return(0,ie.x)(()=>{const{operator:ge,source:Xe}=this;we.add(ge?ge.call(we,Xe):Xe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Te){Re.error(Te)}}forEach(Re,Te){return new(Te=ye(Te))((ot,we)=>{const ge=new a.Hp({next:Xe=>{try{Re(Xe)}catch(Je){we(Je),ge.unsubscribe()}},error:we,complete:ot});this.subscribe(ge)})}_subscribe(Re){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Re)}[O.L](){return this}pipe(...Re){return(0,ae.U)(Re)(this)}toPromise(Re){return new(Re=ye(Re))((Te,ot)=>{let we;this.subscribe(ge=>we=ge,ge=>ot(ge),()=>Te(we))})}}return X.create=$e=>new X($e),X})();function ye(X){var $e;return null!==($e=X??ue.v.Promise)&&void 0!==$e?$e:Promise}},7579:(ft,Se,F)=>{F.d(Se,{x:()=>ie});var a=F(9751),j=F(727);const ae=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(8737),_e=F(2806);let ie=(()=>{class ye extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const X=new fe(this,this);return X.operator=q,X}_throwIfClosed(){if(this.closed)throw new ae}next(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(q)}})}error(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:X}=this;for(;X.length;)X.shift().error(q)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:X,isStopped:$e,observers:Re}=this;return X||$e?j.Lc:(this.currentObservers=null,Re.push(q),new j.w0(()=>{this.currentObservers=null,(0,ue.P)(Re,q)}))}_checkFinalizedStatuses(q){const{hasError:X,thrownError:$e,isStopped:Re}=this;X?q.error($e):Re&&q.complete()}asObservable(){const q=new a.y;return q.source=this,q}}return ye.create=(W,q)=>new fe(W,q),ye})();class fe extends ie{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===X||X.call(q,W)}error(W){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===X||X.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,X;return null!==(X=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==X?X:j.Lc}}},930:(ft,Se,F)=>{F.d(Se,{Hp:()=>ot,Lv:()=>X});var a=F(576),j=F(727),O=F(2416),ae=F(7849),ue=F(5032);const _e=ye("C",void 0,void 0);function ye(Oe,Me,De){return{kind:Oe,value:Me,error:De}}var W=F(3410),q=F(2806);class X extends j.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,j.Nn)(Me)&&Me.add(this)):this.destination=Je}static create(Me,De,ze){return new ot(Me,De,ze)}next(Me){this.isStopped?Xe(function fe(Oe){return ye("N",Oe,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Xe(function ie(Oe){return ye("E",void 0,Oe)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Xe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Re(Oe,Me){return $e.call(Oe,Me)}class Te{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:De}=this;if(De.next)try{De.next(Me)}catch(ze){we(ze)}}error(Me){const{partialObserver:De}=this;if(De.error)try{De.error(Me)}catch(ze){we(ze)}else we(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(De){we(De)}}}class ot extends X{constructor(Me,De,ze){let oe;if(super(),(0,a.m)(Me)||!Me)oe={next:Me??void 0,error:De??void 0,complete:ze??void 0};else{let de;this&&O.v.useDeprecatedNextContext?(de=Object.create(Me),de.unsubscribe=()=>this.unsubscribe(),oe={next:Me.next&&Re(Me.next,de),error:Me.error&&Re(Me.error,de),complete:Me.complete&&Re(Me.complete,de)}):oe=Me}this.destination=new Te(oe)}}function we(Oe){O.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Oe):(0,ae.h)(Oe)}function Xe(Oe,Me){const{onStoppedNotification:De}=O.v;De&&W.z.setTimeout(()=>De(Oe,Me))}const Je={closed:!0,next:ue.Z,error:function ge(Oe){throw Oe},complete:ue.Z}},727:(ft,Se,F)=>{F.d(Se,{Lc:()=>_e,w0:()=>ue,Nn:()=>ie});var a=F(576);const O=(0,F(3888).d)(ye=>function(q){ye(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ae=F(8737);class ue{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Re of q)Re.remove(this);else q.remove(this);const{initialTeardown:X}=this;if((0,a.m)(X))try{X()}catch(Re){W=Re instanceof O?Re.errors:[Re]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Re of $e)try{fe(Re)}catch(Te){W=W??[],Te instanceof O?W=[...W,...Te.errors]:W.push(Te)}}if(W)throw new O(W)}}add(W){var q;if(W&&W!==this)if(this.closed)fe(W);else{if(W instanceof ue){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,ae.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,ae.P)(q,W),W instanceof ue&&W._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const _e=ue.EMPTY;function ie(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,a.m)(ye.remove)&&(0,a.m)(ye.add)&&(0,a.m)(ye.unsubscribe)}function fe(ye){(0,a.m)(ye)?ye():ye.unsubscribe()}},2416:(ft,Se,F)=>{F.d(Se,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Se,F)=>{F.d(Se,{E:()=>j});const j=new(F(9751).y)(ue=>ue.complete())},8996:(ft,Se,F)=>{F.d(Se,{D:()=>Me});var a=F(8421),j=F(5363),O=F(9468),_e=F(9751),fe=F(2202),ye=F(576),W=F(9672);function X(De,ze){if(!De)throw new Error("Iterable cannot be null");return new _e.y(oe=>{(0,W.f)(oe,ze,()=>{const de=De[Symbol.asyncIterator]();(0,W.f)(oe,ze,()=>{de.next().then(ve=>{ve.done?oe.complete():oe.next(ve.value)})},0,!0)})})}var $e=F(3670),Re=F(8239),Te=F(1144),ot=F(6495),we=F(2206),ge=F(4532),Xe=F(3260);function Me(De,ze){return ze?function Oe(De,ze){if(null!=De){if((0,$e.c)(De))return function ae(De,ze){return(0,a.Xf)(De).pipe((0,O.R)(ze),(0,j.Q)(ze))}(De,ze);if((0,Te.z)(De))return function ie(De,ze){return new _e.y(oe=>{let de=0;return ze.schedule(function(){de===De.length?oe.complete():(oe.next(De[de++]),oe.closed||this.schedule())})})}(De,ze);if((0,Re.t)(De))return function ue(De,ze){return(0,a.Xf)(De).pipe((0,O.R)(ze),(0,j.Q)(ze))}(De,ze);if((0,we.D)(De))return X(De,ze);if((0,ot.T)(De))return function q(De,ze){return new _e.y(oe=>{let de;return(0,W.f)(oe,ze,()=>{de=De[fe.h](),(0,W.f)(oe,ze,()=>{let ve,Q;try{({value:ve,done:Q}=de.next())}catch(J){return void oe.error(J)}Q?oe.complete():oe.next(ve)},0,!0)}),()=>(0,ye.m)(de?.return)&&de.return()})}(De,ze);if((0,Xe.L)(De))return function Je(De,ze){return X((0,Xe.Q)(De),ze)}(De,ze)}throw(0,ge.z)(De)}(De,ze):(0,a.Xf)(De)}},8421:(ft,Se,F)=>{F.d(Se,{Xf:()=>$e});var a=F(655),j=F(1144),O=F(8239),ae=F(9751),ue=F(3670),_e=F(2206),ie=F(4532),fe=F(6495),ye=F(3260),W=F(576),q=F(7849),X=F(8822);function $e(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,ue.c)(Oe))return function Re(Oe){return new ae.y(Me=>{const De=Oe[X.L]();if((0,W.m)(De.subscribe))return De.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,j.z)(Oe))return function Te(Oe){return new ae.y(Me=>{for(let De=0;De<Oe.length&&!Me.closed;De++)Me.next(Oe[De]);Me.complete()})}(Oe);if((0,O.t)(Oe))return function ot(Oe){return new ae.y(Me=>{Oe.then(De=>{Me.closed||(Me.next(De),Me.complete())},De=>Me.error(De)).then(null,q.h)})}(Oe);if((0,_e.D)(Oe))return ge(Oe);if((0,fe.T)(Oe))return function we(Oe){return new ae.y(Me=>{for(const De of Oe)if(Me.next(De),Me.closed)return;Me.complete()})}(Oe);if((0,ye.L)(Oe))return function Xe(Oe){return ge((0,ye.Q)(Oe))}(Oe)}throw(0,ie.z)(Oe)}function ge(Oe){return new ae.y(Me=>{(function Je(Oe,Me){var De,ze,oe,de;return(0,a.mG)(this,void 0,void 0,function*(){try{for(De=(0,a.KL)(Oe);!(ze=yield De.next()).done;)if(Me.next(ze.value),Me.closed)return}catch(ve){oe={error:ve}}finally{try{ze&&!ze.done&&(de=De.return)&&(yield de.call(De))}finally{if(oe)throw oe.error}}Me.complete()})})(Oe,Me).catch(De=>Me.error(De))})}},6451:(ft,Se,F)=>{F.d(Se,{T:()=>_e});var a=F(8189),j=F(8421),O=F(515),ae=F(3269),ue=F(8996);function _e(...ie){const fe=(0,ae.yG)(ie),ye=(0,ae._6)(ie,1/0),W=ie;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,a.J)(ye)((0,ue.D)(W,fe)):O.E}},5403:(ft,Se,F)=>{F.d(Se,{x:()=>j});var a=F(930);function j(ae,ue,_e,ie,fe){return new O(ae,ue,_e,ie,fe)}class O extends a.Lv{constructor(ue,_e,ie,fe,ye,W){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=W,this._next=_e?function(q){try{_e(q)}catch(X){ue.error(X)}}:super._next,this._error=fe?function(q){try{fe(q)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(ft,Se,F)=>{F.d(Se,{U:()=>O});var a=F(4482),j=F(5403);function O(ae,ue){return(0,a.e)((_e,ie)=>{let fe=0;_e.subscribe((0,j.x)(ie,ye=>{ie.next(ae.call(ue,ye,fe++))}))})}},8189:(ft,Se,F)=>{F.d(Se,{J:()=>O});var a=F(5577),j=F(4671);function O(ae=1/0){return(0,a.z)(j.y,ae)}},5577:(ft,Se,F)=>{F.d(Se,{z:()=>fe});var a=F(4004),j=F(8421),O=F(4482),ae=F(9672),ue=F(5403),ie=F(576);function fe(ye,W,q=1/0){return(0,ie.m)(W)?fe((X,$e)=>(0,a.U)((Re,Te)=>W(X,Re,$e,Te))((0,j.Xf)(ye(X,$e))),q):("number"==typeof W&&(q=W),(0,O.e)((X,$e)=>function _e(ye,W,q,X,$e,Re,Te,ot){const we=[];let ge=0,Xe=0,Je=!1;const Oe=()=>{Je&&!we.length&&!ge&&W.complete()},Me=ze=>ge<X?De(ze):we.push(ze),De=ze=>{Re&&W.next(ze),ge++;let oe=!1;(0,j.Xf)(q(ze,Xe++)).subscribe((0,ue.x)(W,de=>{$e?.(de),Re?Me(de):W.next(de)},()=>{oe=!0},void 0,()=>{if(oe)try{for(ge--;we.length&&ge<X;){const de=we.shift();Te?(0,ae.f)(W,Te,()=>De(de)):De(de)}Oe()}catch(de){W.error(de)}}))};return ye.subscribe((0,ue.x)(W,Me,()=>{Je=!0,Oe()})),()=>{ot?.()}}(X,$e,ye,q)))}},5363:(ft,Se,F)=>{F.d(Se,{Q:()=>ae});var a=F(9672),j=F(4482),O=F(5403);function ae(ue,_e=0){return(0,j.e)((ie,fe)=>{ie.subscribe((0,O.x)(fe,ye=>(0,a.f)(fe,ue,()=>fe.next(ye),_e),()=>(0,a.f)(fe,ue,()=>fe.complete(),_e),ye=>(0,a.f)(fe,ue,()=>fe.error(ye),_e)))})}},3099:(ft,Se,F)=>{F.d(Se,{B:()=>ue});var a=F(8421),j=F(7579),O=F(930),ae=F(4482);function ue(ie={}){const{connector:fe=(()=>new j.x),resetOnError:ye=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=ie;return X=>{let $e,Re,Te,ot=0,we=!1,ge=!1;const Xe=()=>{Re?.unsubscribe(),Re=void 0},Je=()=>{Xe(),$e=Te=void 0,we=ge=!1},Oe=()=>{const Me=$e;Je(),Me?.unsubscribe()};return(0,ae.e)((Me,De)=>{ot++,!ge&&!we&&Xe();const ze=Te=Te??fe();De.add(()=>{ot--,0===ot&&!ge&&!we&&(Re=_e(Oe,q))}),ze.subscribe(De),!$e&&ot>0&&($e=new O.Hp({next:oe=>ze.next(oe),error:oe=>{ge=!0,Xe(),Re=_e(Je,ye,oe),ze.error(oe)},complete:()=>{we=!0,Xe(),Re=_e(Je,W),ze.complete()}}),(0,a.Xf)(Me).subscribe($e))})(X)}}function _e(ie,fe,...ye){if(!0===fe)return void ie();if(!1===fe)return;const W=new O.Hp({next:()=>{W.unsubscribe(),ie()}});return fe(...ye).subscribe(W)}},9468:(ft,Se,F)=>{F.d(Se,{R:()=>j});var a=F(4482);function j(O,ae=0){return(0,a.e)((ue,_e)=>{_e.add(O.schedule(()=>ue.subscribe(_e),ae))})}},8505:(ft,Se,F)=>{F.d(Se,{b:()=>ue});var a=F(576),j=F(4482),O=F(5403),ae=F(4671);function ue(_e,ie,fe){const ye=(0,a.m)(_e)||ie||fe?{next:_e,error:ie,complete:fe}:_e;return ye?(0,j.e)((W,q)=>{var X;null===(X=ye.subscribe)||void 0===X||X.call(ye);let $e=!0;W.subscribe((0,O.x)(q,Re=>{var Te;null===(Te=ye.next)||void 0===Te||Te.call(ye,Re),q.next(Re)},()=>{var Re;$e=!1,null===(Re=ye.complete)||void 0===Re||Re.call(ye),q.complete()},Re=>{var Te;$e=!1,null===(Te=ye.error)||void 0===Te||Te.call(ye,Re),q.error(Re)},()=>{var Re,Te;$e&&(null===(Re=ye.unsubscribe)||void 0===Re||Re.call(ye)),null===(Te=ye.finalize)||void 0===Te||Te.call(ye)}))}):ae.y}},4408:(ft,Se,F)=>{F.d(Se,{o:()=>ue});var a=F(727);class j extends a.w0{constructor(ie,fe){super()}schedule(ie,fe=0){return this}}const O={setInterval(_e,ie,...fe){const{delegate:ye}=O;return ye?.setInterval?ye.setInterval(_e,ie,...fe):setInterval(_e,ie,...fe)},clearInterval(_e){const{delegate:ie}=O;return(ie?.clearInterval||clearInterval)(_e)},delegate:void 0};var ae=F(8737);class ue extends j{constructor(ie,fe){super(ie,fe),this.scheduler=ie,this.work=fe,this.pending=!1}schedule(ie,fe=0){var ye;if(this.closed)return this;this.state=ie;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,fe)),this.pending=!0,this.delay=fe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(q,this.id,fe),this}requestAsyncId(ie,fe,ye=0){return O.setInterval(ie.flush.bind(ie,this),ye)}recycleAsyncId(ie,fe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return fe;null!=fe&&O.clearInterval(fe)}execute(ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ie,fe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,fe){let W,ye=!1;try{this.work(ie)}catch(q){ye=!0,W=q||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ie,scheduler:fe}=this,{actions:ye}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=ie&&(this.id=this.recycleAsyncId(fe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Se,F)=>{F.d(Se,{v:()=>O});var a=F(6063);class j{constructor(ue,_e=j.now){this.schedulerActionCtor=ue,this.now=_e}schedule(ue,_e=0,ie){return new this.schedulerActionCtor(this,ue).schedule(ie,_e)}}j.now=a.l.now;class O extends j{constructor(ue,_e=j.now){super(ue,_e),this.actions=[],this._active=!1}flush(ue){const{actions:_e}=this;if(this._active)return void _e.push(ue);let ie;this._active=!0;do{if(ie=ue.execute(ue.state,ue.delay))break}while(ue=_e.shift());if(this._active=!1,ie){for(;ue=_e.shift();)ue.unsubscribe();throw ie}}}},4986:(ft,Se,F)=>{F.d(Se,{P:()=>ae,z:()=>O});var a=F(4408);const O=new(F(7565).v)(a.o),ae=O},6063:(ft,Se,F)=>{F.d(Se,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ft,Se,F)=>{F.d(Se,{z:()=>a});const a={setTimeout(j,O,...ae){const{delegate:ue}=a;return ue?.setTimeout?ue.setTimeout(j,O,...ae):setTimeout(j,O,...ae)},clearTimeout(j){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ft,Se,F)=>{F.d(Se,{h:()=>j});const j=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Se,F)=>{F.d(Se,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Se,F)=>{F.d(Se,{_6:()=>_e,jO:()=>ae,yG:()=>ue});var a=F(576),j=F(3532);function O(ie){return ie[ie.length-1]}function ae(ie){return(0,a.m)(O(ie))?ie.pop():void 0}function ue(ie){return(0,j.K)(O(ie))?ie.pop():void 0}function _e(ie,fe){return"number"==typeof O(ie)?ie.pop():fe}},8737:(ft,Se,F)=>{function a(j,O){if(j){const ae=j.indexOf(O);0<=ae&&j.splice(ae,1)}}F.d(Se,{P:()=>a})},3888:(ft,Se,F)=>{function a(j){const ae=j(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Se,{d:()=>a})},2806:(ft,Se,F)=>{F.d(Se,{O:()=>ae,x:()=>O});var a=F(2416);let j=null;function O(ue){if(a.v.useDeprecatedSynchronousErrorHandling){const _e=!j;if(_e&&(j={errorThrown:!1,error:null}),ue(),_e){const{errorThrown:ie,error:fe}=j;if(j=null,ie)throw fe}}else ue()}function ae(ue){a.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ue)}},9672:(ft,Se,F)=>{function a(j,O,ae,ue=0,_e=!1){const ie=O.schedule(function(){ae(),_e?j.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(j.add(ie),!_e)return ie}F.d(Se,{f:()=>a})},4671:(ft,Se,F)=>{function a(j){return j}F.d(Se,{y:()=>a})},1144:(ft,Se,F)=>{F.d(Se,{z:()=>a});const a=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ft,Se,F)=>{F.d(Se,{D:()=>j});var a=F(576);function j(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},576:(ft,Se,F)=>{function a(j){return"function"==typeof j}F.d(Se,{m:()=>a})},3670:(ft,Se,F)=>{F.d(Se,{c:()=>O});var a=F(8822),j=F(576);function O(ae){return(0,j.m)(ae[a.L])}},6495:(ft,Se,F)=>{F.d(Se,{T:()=>O});var a=F(2202),j=F(576);function O(ae){return(0,j.m)(ae?.[a.h])}},8239:(ft,Se,F)=>{F.d(Se,{t:()=>j});var a=F(576);function j(O){return(0,a.m)(O?.then)}},3260:(ft,Se,F)=>{F.d(Se,{L:()=>ae,Q:()=>O});var a=F(655),j=F(576);function O(ue){return(0,a.FC)(this,arguments,function*(){const ie=ue.getReader();try{for(;;){const{value:fe,done:ye}=yield(0,a.qq)(ie.read());if(ye)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(fe)}}finally{ie.releaseLock()}})}function ae(ue){return(0,j.m)(ue?.getReader)}},3532:(ft,Se,F)=>{F.d(Se,{K:()=>j});var a=F(576);function j(O){return O&&(0,a.m)(O.schedule)}},4482:(ft,Se,F)=>{F.d(Se,{A:()=>j,e:()=>O});var a=F(576);function j(ae){return(0,a.m)(ae?.lift)}function O(ae){return ue=>{if(j(ue))return ue.lift(function(_e){try{return ae(_e,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Se,F)=>{function a(){}F.d(Se,{Z:()=>a})},9635:(ft,Se,F)=>{F.d(Se,{U:()=>O,z:()=>j});var a=F(4671);function j(...ae){return O(ae)}function O(ae){return 0===ae.length?a.y:1===ae.length?ae[0]:function(_e){return ae.reduce((ie,fe)=>fe(ie),_e)}}},7849:(ft,Se,F)=>{F.d(Se,{h:()=>O});var a=F(2416),j=F(3410);function O(ae){j.z.setTimeout(()=>{const{onUnhandledError:ue}=a.v;if(!ue)throw ae;ue(ae)})}},4532:(ft,Se,F)=>{function a(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>a})},655:(ft,Se,F)=>{function ae(Q,J){var pe={};for(var ce in Q)Object.prototype.hasOwnProperty.call(Q,ce)&&J.indexOf(ce)<0&&(pe[ce]=Q[ce]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ce=Object.getOwnPropertySymbols(Q);Ve<ce.length;Ve++)J.indexOf(ce[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,ce[Ve])&&(pe[ce[Ve]]=Q[ce[Ve]])}return pe}function ue(Q,J,pe,ce){var pt,Ve=arguments.length,Ue=Ve<3?J:null===ce?ce=Object.getOwnPropertyDescriptor(J,pe):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(Q,J,pe,ce);else for(var ln=Q.length-1;ln>=0;ln--)(pt=Q[ln])&&(Ue=(Ve<3?pt(Ue):Ve>3?pt(J,pe,Ue):pt(J,pe))||Ue);return Ve>3&&Ue&&Object.defineProperty(J,pe,Ue),Ue}function _e(Q,J){return function(pe,ce){J(pe,ce,Q)}}function ie(Q,J){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Q,J)}function fe(Q,J,pe,ce){return new(pe||(pe=Promise))(function(Ue,pt){function ln(vn){try{qe(ce.next(vn))}catch(kn){pt(kn)}}function Zt(vn){try{qe(ce.throw(vn))}catch(kn){pt(kn)}}function qe(vn){vn.done?Ue(vn.value):function Ve(Ue){return Ue instanceof pe?Ue:new pe(function(pt){pt(Ue)})}(vn.value).then(ln,Zt)}qe((ce=ce.apply(Q,J||[])).next())})}function we(Q){return this instanceof we?(this.v=Q,this):new we(Q)}function ge(Q,J,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ce=pe.apply(Q,J||[]),Ue=[];return Ve={},pt("next"),pt("throw"),pt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function pt(rn){ce[rn]&&(Ve[rn]=function(sn){return new Promise(function(Yt,Ht){Ue.push([rn,sn,Yt,Ht])>1||ln(rn,sn)})})}function ln(rn,sn){try{!function Zt(rn){rn.value instanceof we?Promise.resolve(rn.value.v).then(qe,vn):kn(Ue[0][2],rn)}(ce[rn](sn))}catch(Yt){kn(Ue[0][3],Yt)}}function qe(rn){ln("next",rn)}function vn(rn){ln("throw",rn)}function kn(rn,sn){rn(sn),Ue.shift(),Ue.length&&ln(Ue[0][0],Ue[0][1])}}function Je(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,J=Q[Symbol.asyncIterator];return J?J.call(Q):(Q=function X(Q){var J="function"==typeof Symbol&&Symbol.iterator,pe=J&&Q[J],ce=0;if(pe)return pe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ce>=Q.length&&(Q=void 0),{value:Q&&Q[ce++],done:!Q}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),pe={},ce("next"),ce("throw"),ce("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ce(Ue){pe[Ue]=Q[Ue]&&function(pt){return new Promise(function(ln,Zt){!function Ve(Ue,pt,ln,Zt){Promise.resolve(Zt).then(function(qe){Ue({value:qe,done:ln})},pt)}(ln,Zt,(pt=Q[Ue](pt)).done,pt.value)})}}}F.d(Se,{FC:()=>ge,KL:()=>Je,_T:()=>ae,fM:()=>_e,gn:()=>ue,mG:()=>fe,qq:()=>we,w6:()=>ie})},4650:(ft,Se,F)=>{F.d(Se,{$8M:()=>zl,$Z:()=>dC,AFp:()=>e0,AaK:()=>fe,BQk:()=>kp,CHM:()=>_f,CRH:()=>Ub,CZH:()=>z_,CqO:()=>Bu,D6c:()=>C0,EJc:()=>jA,EiD:()=>Bw,EpF:()=>ts,F$t:()=>ZC,F4k:()=>Qv,FYo:()=>Jf,FiY:()=>Ce,G48:()=>XA,Gf:()=>P_,GfV:()=>Qw,GkF:()=>vh,Gpc:()=>q,Gre:()=>rE,Hsn:()=>tb,Ikx:()=>Bp,JOm:()=>Xi,JVY:()=>OI,KtG:()=>Ho,L6k:()=>Rw,LAX:()=>NI,LFG:()=>hn,LSH:()=>th,Lbi:()=>UA,Lck:()=>OE,MAs:()=>r_,MMx:()=>Ab,NdJ:()=>Xv,O4$:()=>ru,OlP:()=>Pn,Oqu:()=>ob,PXZ:()=>ty,Q6J:()=>i_,QGY:()=>o_,QP$:()=>Pe,QbO:()=>HA,Qsj:()=>sS,R0b:()=>Is,RDi:()=>TI,Rgc:()=>Vh,SBq:()=>Du,Sil:()=>Z_,Suo:()=>bl,TTD:()=>Os,TgZ:()=>Mp,Tol:()=>XC,Udp:()=>qn,VKq:()=>Eo,WLB:()=>S_,X6Q:()=>m0,XFs:()=>et,Xpm:()=>Ie,Xts:()=>vg,Y36:()=>uc,YKP:()=>Co,YNc:()=>Yv,Yjl:()=>U,Yz7:()=>sn,Z0I:()=>zi,ZZ4:()=>sm,_Bn:()=>Nh,_UZ:()=>s_,_Vd:()=>sc,_c5:()=>oM,_uU:()=>Zs,aQg:()=>am,c2e:()=>r0,cJS:()=>Ht,cg1:()=>ub,d8E:()=>$u,dDg:()=>X_,dqk:()=>Ot,eBb:()=>mg,eFA:()=>iy,ekj:()=>Et,eoX:()=>u0,f3M:()=>vr,g9A:()=>t0,h0i:()=>Qu,hGG:()=>aM,hij:()=>vc,iGM:()=>N_,ifc:()=>gt,ip1:()=>Jb,jDz:()=>Ph,kL8:()=>db,kcU:()=>Fd,lG2:()=>Y,lqb:()=>ic,lri:()=>ld,mCW:()=>nc,n5z:()=>Bs,n_E:()=>Ds,oAB:()=>tn,oJD:()=>iv,oxw:()=>WC,pB0:()=>PI,q3G:()=>pr,q4F:()=>Xw,qLn:()=>Tu,qOj:()=>Qg,qZA:()=>_a,qzn:()=>da,rWj:()=>Q_,s9C:()=>Vr,sBO:()=>Zh,sIi:()=>mc,s_b:()=>R_,soG:()=>W_,tb:()=>n0,tp0:()=>ut,uIk:()=>Gv,vHH:()=>Te,vpe:()=>ba,wAp:()=>Mt,xp6:()=>rC,ynx:()=>xp,z2F:()=>Wh,z3N:()=>ua,zSh:()=>dv,zs3:()=>xr});var a=F(7579),j=F(727),O=F(9751),ae=F(6451),ue=F(3099);function _e(s){for(let l in s)if(s[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function ie(s,l){for(const c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=l[c])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const l=s.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function ye(s,l){return null==s||""===s?null===l?"":l:null==l||""===l?s:s+" "+l}const W=_e({__forward_ref__:_e});function q(s){return s.__forward_ref__=q,s.toString=function(){return fe(this())},s}function X(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}class Te extends Error{constructor(l,c){super(function ot(s,l){return`NG0${Math.abs(s)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s,l){throw new Te(-201,!1)}function Zt(s,l){null==s&&function qe(s,l,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ht(s){return{providers:s.providers||[],imports:s.imports||[]}}function Hr(s){return Kr(s,Qr)||Kr(s,Fi)}function zi(s){return null!==Hr(s)}function Kr(s,l){return s.hasOwnProperty(l)?s[l]:null}function ls(s){return s&&(s.hasOwnProperty(tr)||s.hasOwnProperty(cs))?s[tr]:null}const Qr=_e({\u0275prov:_e}),tr=_e({\u0275inj:_e}),Fi=_e({ngInjectableDef:_e}),cs=_e({ngInjectorDef:_e});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let ar;function Mn(s){const l=ar;return ar=s,l}function Dr(s,l,c){const d=Hr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&et.Optional?null:void 0!==l?l:void Me(fe(s))}function Rn(s){return{toString:s}.toString()}var On=(()=>((On=On||{})[On.OnPush=0]="OnPush",On[On.Default=1]="Default",On))(),gt=(()=>{return(s=gt||(gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",gt;var s})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jr={},xt=[],Xr=_e({\u0275cmp:_e}),Vt=_e({\u0275dir:_e}),wi=_e({\u0275pipe:_e}),Jt=_e({\u0275mod:_e}),yr=_e({\u0275fac:_e}),Bn=_e({__NG_ELEMENT_ID__:_e});let rt=0;function Ie(s){return Rn(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===On.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||xt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gt.Emulated,id:"c"+rt++,styles:s.styles||xt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=$(s.inputs,d),f.outputs=$(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(It).filter(kt):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(re).filter(kt):null,f})}function It(s){return k(s)||B(s)}function kt(s){return null!==s}function tn(s){return Rn(()=>({type:s.type,bootstrap:s.bootstrap||xt,declarations:s.declarations||xt,imports:s.imports||xt,exports:s.exports||xt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function $(s,l){if(null==s)return jr;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,l&&(l[f]=p)}return c}const Y=Ie;function U(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function k(s){return s[Xr]||null}function B(s){return s[Vt]||null}function re(s){return s[wi]||null}function Pe(s){const l=k(s)||B(s)||re(s);return null!==l&&l.standalone}function at(s,l){const c=s[Jt]||null;if(!c&&!0===l)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return c}function cr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ei(s){return Array.isArray(s)&&!0===s[1]}function ps(s){return 0!=(8&s.flags)}function Ro(s){return 2==(2&s.flags)}function Oo(s){return 1==(1&s.flags)}function li(s){return null!==s.template}function Zc(s){return 0!=(256&s[2])}function Pr(s,l){return s.hasOwnProperty(yr)?s[yr]:null}class Lo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Os(){return Sd}function Sd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Kc),Ol}function Ol(){const s=Bo(this),l=s?.current;if(l){const c=s.previous;if(c===jr)s.previous=l;else for(let d in l)c[d]=l[d];s.current=null,this.ngOnChanges(l)}}function Kc(s,l,c,d){const f=Bo(s)||function io(s,l){return s[Ad]=l}(s,{previous:jr,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new Lo(E&&E.currentValue,l,y===jr),s[d]=l}Os.ngInherit=!0;const Ad="__ngSimpleChanges__";function Bo(s){return s[Ad]||null}function zn(s){for(;Array.isArray(s);)s=s[0];return s}function Li(s,l){return zn(l[s])}function Tr(s,l){return zn(l[s.index])}function oo(s,l){return s.data[l]}function cn(s,l){const c=l[s];return cr(c)?c:c[0]}function Ns(s){return 64==(64&s[2])}function Si(s,l){return null==l?null:s[l]}function Ra(s){s[18]=0}function Wn(s,l){s[5]+=l;let c=s,d=s[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Ft={lFrame:ja(null),bindingsEnabled:!0};function ao(){return Ft.bindingsEnabled}function xe(){return Ft.lFrame.lView}function Xt(){return Ft.lFrame.tView}function _f(s){return Ft.lFrame.contextLView=s,s[8]}function Ho(s){return Ft.lFrame.contextLView=null,s}function ur(){let s=jo();for(;null!==s&&64===s.type;)s=s.parent;return s}function jo(){return Ft.lFrame.currentTNode}function Jr(s,l){const c=Ft.lFrame;c.currentTNode=s,c.isParent=l}function Fl(){return Ft.lFrame.isParent}function $o(){Ft.lFrame.isParent=!1}function dr(){const s=Ft.lFrame;let l=s.bindingRootIndex;return-1===l&&(l=s.bindingRootIndex=s.tView.bindingStartIndex),l}function Va(){return Ft.lFrame.bindingIndex++}function _s(s){const l=Ft.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+s,c}function Rd(s,l){const c=Ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,zo(l)}function zo(s){Ft.lFrame.currentDirectiveIndex=s}function tu(s){const l=Ft.lFrame.currentDirectiveIndex;return-1===l?null:s[l]}function Ua(){return Ft.lFrame.currentQueryIndex}function nu(s){Ft.lFrame.currentQueryIndex=s}function Ha(s){const l=s[1];return 2===l.type?l.declTNode:1===l.type?s[6]:null}function Od(s,l,c){if(c&et.SkipSelf){let f=l,p=s;for(;!(f=f.parent,null!==f||c&et.Host||(f=Ha(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;l=f,s=p}const d=Ft.lFrame=bf();return d.currentTNode=l,d.lView=s,!0}function Go(s){const l=bf(),c=s[1];Ft.lFrame=l,l.currentTNode=c.firstChild,l.lView=s,l.tView=c,l.contextLView=s,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function bf(){const s=Ft.lFrame,l=null===s?null:s.child;return null===l?ja(s):l}function ja(s){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=l),l}function wf(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Nd=wf;function Ps(){const s=wf();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hn(){return Ft.lFrame.selectedIndex}function ys(s){Ft.lFrame.selectedIndex=s}function Vn(){const s=Ft.lFrame;return oo(s.tView,s.selectedIndex)}function ru(){Ft.lFrame.currentNamespace="svg"}function Fd(){!function su(){Ft.lFrame.currentNamespace=null}()}function Ll(s,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(c,R)}}function qo(s,l,c){Zo(s,l,3,c)}function Wo(s,l,c,d){(3&s[2])===c&&Zo(s,l,c,d)}function Ld(s,l){let c=s[2];(3&c)===l&&(c&=2047,c+=1,s[2]=c)}function Zo(s,l,c,d){const p=d??-1,y=l.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof l[E+1]){if(w=l[E],null!=d&&w>=d)break}else l[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(Bd(s,c,l,E),s[18]=(4294901760&s[18])+E+2),E++}function Bd(s,l,c,d){const f=c[d]<0,p=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===l){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Ai{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function vs(s,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];s.setAttribute(l,y,w,p)}else{const p=f,y=c[++d];cu(p)?s.setProperty(l,p,y):s.setAttribute(l,p,y),d++}}return d}function za(s){return 3===s||4===s||6===s}function cu(s){return 64===s.charCodeAt(0)}function Ga(s,l){if(null!==l&&0!==l.length)if(null===s||0===s.length)s=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Ud(s,c,f,null,-1===c||2===c?l[++d]:null)}}return s}function Ud(s,l,c,d,f){let p=0,y=s.length;if(-1===l)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,l),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function Ef(s){return-1!==s}function hr(s){return 32767&s}function Ls(s,l){let c=function Df(s){return s>>16}(s),d=l;for(;c>0;)d=d[15],c--;return d}let uu=!0;function qa(s){const l=uu;return uu=s,l}let Hd=0;const ui={};function bs(s,l){const c=Hl(s,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(s.injectorIndex=l.length,du(d.data,s),du(l,null),du(d.blueprint,null));const f=Wa(s,l),p=s.injectorIndex;if(Ef(f)){const y=hr(f),w=Ls(f,l),E=w[1].data;for(let A=0;A<8;A++)l[p+A]=w[y+A]|E[y+A]}return l[p+8]=f,p}function du(s,l){s.push(0,0,0,0,0,0,0,0,l)}function Hl(s,l){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===l[s.injectorIndex+8]?-1:s.injectorIndex}function Wa(s,l){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=ta(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function co(s,l,c){!function jd(s,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Bn)&&(d=c[Bn]),null==d&&(d=c[Bn]=Hd++);const f=255&d;l.data[s+(f>>5)]|=1<<f}(s,l,c)}function Ko(s,l,c){if(c&et.Optional||void 0!==s)return s;Me()}function uo(s,l,c,d){if(c&et.Optional&&void 0===d&&(d=null),0==(c&(et.Self|et.Host))){const f=s[9],p=Mn(void 0);try{return f?f.get(l,d,c&et.Optional):Dr(l,d,c&et.Optional)}finally{Mn(p)}}return Ko(d,0,c)}function Qo(s,l,c,d=et.Default,f){if(null!==s){if(1024&l[2]){const y=function Sf(s,l,c,d,f){let p=s,y=l;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=$d(p,y,c,d|et.Self,ui);if(w!==ui)return w;let E=p.parent;if(!E){const A=y[21];if(A){const R=A.get(c,ui,d);if(R!==ui)return R}E=ta(y),y=y[15]}p=E}return f}(s,l,c,d,ui);if(y!==ui)return y}const p=$d(s,l,c,d,ui);if(p!==ui)return p}return uo(l,c,d,f)}function $d(s,l,c,d,f){const p=function If(s){if("string"==typeof s)return s.charCodeAt(0)||0;const l=s.hasOwnProperty(Bn)?s[Bn]:void 0;return"number"==typeof l?l>=0?255&l:hu:l}(c);if("function"==typeof p){if(!Od(l,s,d))return d&et.Host?Ko(f,0,d):uo(l,c,d,f);try{const y=p(d);if(null!=y||d&et.Optional)return y;Me()}finally{Nd()}}else if("number"==typeof p){let y=null,w=Hl(s,l),E=-1,A=d&et.Host?l[16][6]:null;for((-1===w||d&et.SkipSelf)&&(E=-1===w?Wa(s,l):l[w+8],-1!==E&&$l(d,!1)?(y=l[1],w=hr(E),l=Ls(E,l)):w=-1);-1!==w;){const R=l[1];if(Xo(p,w,R.data)){const L=jl(w,l,c,y,d,A);if(L!==ui)return L}E=l[w+8],-1!==E&&$l(d,l[1].data[w+8]===A)&&Xo(p,w,l)?(y=R,w=hr(E),l=Ls(E,l)):w=-1}}return f}function jl(s,l,c,d,f,p){const y=l[1],w=y.data[s+8],R=Ya(w,y,c,null==d?Ro(w)&&uu:d!=y&&0!=(3&w.type),f&et.Host&&p===w);return null!==R?Wi(l,y,R,w):ui}function Ya(s,l,c,d,f){const p=s.providerIndexes,y=l.data,w=1048575&p,E=s.directiveStart,R=p>>20,Z=f?w+R:s.directiveEnd;for(let se=d?w:w+R;se<Z;se++){const Ee=y[se];if(se<E&&c===Ee||se>=E&&Ee.type===c)return se}if(f){const se=y[E];if(se&&li(se)&&se.type===c)return E}return null}function Wi(s,l,c,d){let f=s[c];const p=l.data;if(function lu(s){return s instanceof Ai}(f)){const y=f;y.resolving&&function Xe(s,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[c]));const w=qa(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Mn(y.injectImpl):null;Od(s,d,et.Default);try{f=s[c]=y.factory(void 0,p,s,d),l.firstCreatePass&&c>=d.directiveStart&&function au(s,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=l.type.prototype;if(d){const y=Sd(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],l)}finally{null!==E&&Mn(E),qa(w),y.resolving=!1,Nd()}}return f}function Xo(s,l,c){return!!(c[l+(s>>5)]&1<<s)}function $l(s,l){return!(s&et.Self||s&et.Host&&l)}class Jo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Qo(this._tNode,this._lView,l,d,c)}}function hu(){return new Jo(ur(),xe())}function Bs(s){return Rn(()=>{const l=s.prototype.constructor,c=l[yr]||ea(l),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[yr]||ea(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function ea(s){return $e(s)?()=>{const l=ea(X(s));return l&&l()}:Pr(s)}function ta(s){const l=s[1],c=l.type;return 2===c?l.declTNode:1===c?s[6]:null}function zl(s){return function Za(s,l){if("class"===l)return s.classes;if("style"===l)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(za(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===l)return c[f+1];f+=2}}}return null}(ur(),s)}const na="__parameters__";function ia(s,l,c){return Rn(()=>{const d=function fu(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,A,R){const L=E.hasOwnProperty(na)?E[na]:Object.defineProperty(E,na,{value:[]})[na];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Pn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tn(s,l){void 0===l&&(l=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(l===s&&(l=s.slice(0,c)),Tn(d,l)):l!==s&&l.push(d)}return l}function Cs(s,l){s.forEach(c=>Array.isArray(c)?Cs(c,l):l(c))}function fo(s,l,c){l>=s.length?s.push(c):s.splice(l,0,c)}function Kn(s,l){return l>=s.length-1?s.pop():s.splice(l,1)[0]}function po(s,l){const c=[];for(let d=0;d<s;d++)c.push(l);return c}function nt(s,l,c){let d=Yi(s,l);return d>=0?s[1|d]=c:(d=~d,function xf(s,l,c,d){let f=s.length;if(f==l)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>l;)s[f]=s[f-2],f--;s[l]=c,s[l+1]=d}}(s,d,l,c)),d}function pu(s,l){const c=Yi(s,l);if(c>=0)return s[1|c]}function Yi(s,l){return function Qa(s,l,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(l===y)return p<<c;y>l?f=p:d=p+1}return~(f<<c)}(s,l,1)}const Mi={},Wl="__NG_DI_FLAG__",Sr="ngTempTokenPath",Fr=/\n/gm,xn="__source";let go;function _o(s){const l=go;return go=s,l}function Qn(s,l=et.Default){if(void 0===go)throw new Te(-203,!1);return null===go?Dr(s,void 0,l):go.get(s,l&et.Optional?null:void 0,l)}function hn(s,l=et.Default){return(function nr(){return ar}()||Qn)(X(s),l)}function vr(s,l=et.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),hn(s,l)}function T(s){const l=[];for(let c=0;c<s.length;c++){const d=X(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let f,p=et.Default;for(let y=0;y<d.length;y++){const w=d[y],E=x(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}l.push(hn(f,p))}else l.push(hn(d))}return l}function I(s,l){return s[Wl]=l,s.prototype[Wl]=l,s}function x(s){return s[Wl]}const Ce=I(ia("Optional"),8),ut=I(ia("SkipSelf"),4);var Xi=(()=>((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi))();const _u=new Map;let eg=0;const g="__ngContext__";function _(s,l){cr(l)?(s[g]=l[20],function zy(s){_u.set(s[20],s)}(l)):s[g]=l}function yu(s,l){return undefined(s,l)}function rl(s){const l=s[3];return Ei(l)?l[3]:l}function il(s){return og(s[13])}function la(s){return og(s[4])}function og(s){for(;null!==s&&!Ei(s);)s=s[4];return s}function Jl(s,l,c,d,f){if(null!=d){let p,y=!1;Ei(d)?p=d:cr(d)&&(y=!0,d=d[0]);const w=zn(d);0===s&&null!==c?null==f?Aw(l,c,w):ec(l,c,w,f||null,!0):1===s&&null!==c?ec(l,c,w,f||null,!0):2===s?function ug(s,l,c){const d=$s(s,l);d&&function Yy(s,l,c,d){s.removeChild(l,c,d)}(s,d,l,c)}(l,w,y):3===s&&l.destroyNode(w),null!=p&&function CI(s,l,c,d,f){const p=c[7];p!==zn(c)&&Jl(l,s,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];wu(E[1],E,s,l,d,p)}}(l,s,p,c,f)}}function Uf(s,l,c){return s.createElement(l,c)}function Dw(s,l){const c=s[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Wn(f,-1)),c.splice(d,1)}function qy(s,l){if(s.length<=10)return;const c=10+l,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&Dw(f,d),l>0&&(s[c-1][4]=d[4]);const p=Kn(s,10+l);!function vu(s,l){wu(s,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Tw(s,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&wu(s,l,c,3,null,null),function gI(s){let l=s[13];if(!l)return Wy(s[1],s);for(;l;){let c=null;if(cr(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==s;)cr(l)&&Wy(l[1],l),l=l[3];null===l&&(l=s),cr(l)&&Wy(l[1],l),c=l&&l[4]}l=c}}(l)}}function Wy(s,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function bI(s,l){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Ai)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,l),function vI(s,l){const c=s.cleanup,d=l[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(l):zn(l[y]),E=d[f=c[p+2]],A=c[p+3];"boolean"==typeof A?w.removeEventListener(c[p],E,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();l[7]=null}}(s,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Ei(l[3])){c!==l[3]&&Dw(c,l);const d=l[19];null!==d&&d.detachView(s)}!function Yd(s){_u.delete(s[20])}(l)}}function Iw(s,l,c){return function Sw(s,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===gt.None||f===gt.Emulated)return null}return Tr(d,c)}(s,l.parent,c)}function ec(s,l,c,d,f){s.insertBefore(l,c,d,f)}function Aw(s,l,c){s.appendChild(l,c)}function Zy(s,l,c,d,f){null!==d?ec(s,l,c,d,f):Aw(s,l,c)}function $s(s,l){return s.parentNode(l)}function Ky(s,l,c){return xw(s,l,c)}let $f,nv,Gf,xw=function Qy(s,l,c){return 40&s.type?Tr(s,c):null};function cg(s,l,c,d){const f=Iw(s,d,l),p=l[11],w=Ky(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Zy(p,f,c[E],w,!1);else Zy(p,f,c,w,!1)}function bu(s,l){if(null!==l){const c=l.type;if(3&c)return Tr(l,s);if(4&c)return Hf(-1,s[l.index]);if(8&c){const d=l.child;if(null!==d)return bu(s,d);{const f=s[l.index];return Ei(f)?Hf(-1,f):zn(f)}}if(32&c)return yu(l,s)()||zn(s[l.index]);{const d=Jy(s,l);return null!==d?Array.isArray(d)?d[0]:bu(rl(s[16]),d):bu(s,l.next)}}return null}function Jy(s,l){return null!==l?s[16][6].projection[l.projection]:null}function Hf(s,l){const c=10+s+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return bu(d,f)}return l[7]}function jf(s,l,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===l&&(w&&_(zn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)jf(s,l,c.child,d,f,p,!1),Jl(l,s,f,w,p);else if(32&E){const A=yu(c,d);let R;for(;R=A();)Jl(l,s,f,R,p);Jl(l,s,f,w,p)}else 16&E?Jd(s,l,d,c,f,p):Jl(l,s,f,w,p);c=y?c.projectionNext:c.next}}function wu(s,l,c,d,f,p){jf(c,d,s.firstChild,l,f,p,!1)}function Jd(s,l,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)Jl(l,s,f,E[A],p);else jf(s,l,E,y[3],f,p,!0)}function dg(s,l,c){s.setAttribute(l,"style",c)}function hg(s,l,c){""===c?s.removeAttribute(l,"class"):s.setAttribute(l,"class",c)}function tc(s){return function fg(){if(void 0===$f&&($f=null,Ot.trustedTypes))try{$f=Ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $f}()?.createHTML(s)||s}function TI(s){nv=s}function II(s){return function kw(){if(void 0===Gf&&(Gf=null,Ot.trustedTypes))try{Gf=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Gf}()?.createHTML(s)||s}class ol{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class MI extends ol{getTypeName(){return"HTML"}}class xI extends ol{getTypeName(){return"Style"}}class kI extends ol{getTypeName(){return"Script"}}class rv extends ol{getTypeName(){return"URL"}}class zs extends ol{getTypeName(){return"ResourceURL"}}function ua(s){return s instanceof ol?s.changingThisBreaksApplicationSecurity:s}function da(s,l){const c=function RI(s){return s instanceof ol&&s.getTypeName()||null}(s);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function OI(s){return new MI(s)}function Rw(s){return new xI(s)}function mg(s){return new kI(s)}function NI(s){return new rv(s)}function PI(s){return new zs(s)}class qf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(tc(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class FI{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=tc(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=tc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Wf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function nc(s){return(s=String(s)).match(Wf)?s:"unsafe:"+s}function al(s){const l={};for(const c of s.split(","))l[c]=!0;return l}function Zf(...s){const l={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Ow=al("area,br,col,hr,img,wbr"),Nw=al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pw=al("rp,rt"),Yf=Zf(Ow,Zf(Nw,al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zf(Pw,al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zf(Pw,Nw)),eh=al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fw=Zf(eh,al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BI=al("script,style,template");class VI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Yf.hasOwnProperty(c))return this.sanitizedSomething=!0,!BI.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!Fw.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;eh[w]&&(E=nc(E)),this.buf.push(" ",y,'="',Lw(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Yf.hasOwnProperty(c)&&!Ow.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Lw(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const UI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HI=/([^\#-~ |!])/g;function Lw(s){return s.replace(/&/g,"&amp;").replace(UI,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(HI,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gg;function Bw(s,l){let c=null;try{gg=gg||function Cu(s){const l=new FI(s);return function LI(){try{return!!(new window.DOMParser).parseFromString(tc(""),"text/html")}catch{return!1}}()?new qf(l):l}(s);let d=l?String(l):"";c=gg.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=gg.getInertBodyElement(d)}while(d!==p);return tc((new VI).sanitizeChildren(_g(c)||c))}finally{if(c){const d=_g(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function _g(s){return"content"in s&&function jI(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function iv(s){const l=rc();return l?II(l.sanitize(pr.HTML,s)||""):da(s,"HTML")?II(ua(s)):Bw(function pg(){return void 0!==nv?nv:typeof document<"u"?document:void 0}(),we(s))}function th(s){const l=rc();return l?l.sanitize(pr.URL,s)||"":da(s,"URL")?ua(s):nc(we(s))}function rc(){const s=xe();return s&&s[12]}const vg=new Pn("ENVIRONMENT_INITIALIZER"),nh=new Pn("INJECTOR",-1),av=new Pn("INJECTOR_DEF_TYPES");class Hw{get(l,c=Mi){if(c===Mi){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}function WI(...s){return{\u0275providers:jw(0,s)}}function jw(s,...l){const c=[],d=new Set;let f;return Cs(l,p=>{const y=p;lv(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&$w(f,c),c}function $w(s,l){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Cs(f,p=>{l.push(p)})}}function lv(s,l,c,d){if(!(s=X(s)))return!1;let f=null,p=ls(s);const y=!p&&k(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(p=ls(E),!p)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of E)lv(A,l,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;d.add(f);try{Cs(p.imports,R=>{lv(R,l,c,d)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&$w(A,l)}if(!w){const A=Pr(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:xt},{provide:av,useValue:f,multi:!0},{provide:vg,useValue:()=>hn(f),multi:!0})}const E=p.providers;null==E||w||Cs(E,R=>{l.push(R)})}}return f!==s&&void 0!==s.providers}const ZI=_e({provide:String,useValue:_e});function uv(s){return null!==s&&"object"==typeof s&&ZI in s}function Eu(s){return"function"==typeof s}const dv=new Pn("Set Injector scope."),Qf={},KI={};let bg;function Xf(){return void 0===bg&&(bg=new Hw),bg}class ic{}class hv extends ic{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(l,y=>this.processProvider(y)),this.records.set(nh,rh(void 0,this)),f.has("environment")&&this.records.set(ic,rh(void 0,this));const p=this.records.get(dv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(av.multi,xt,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=_o(this),d=Mn(void 0);try{return l()}finally{_o(c),Mn(d)}}get(l,c=Mi,d=et.Default){this.assertNotDestroyed();const f=_o(this),p=Mn(void 0);try{if(!(d&et.SkipSelf)){let w=this.records.get(l);if(void 0===w){const E=function Ww(s){return"function"==typeof s||"object"==typeof s&&s instanceof Pn}(l)&&Hr(l);w=E&&this.injectableDefInScope(E)?rh(wg(l),Qf):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&et.Self?Xf():this.parent).get(l,c=d&et.Optional&&c===Mi?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Sr]=y[Sr]||[]).unshift(fe(l)),f)throw y;return function H(s,l,c,d){const f=s[Sr];throw l[xn]&&f.unshift(l[xn]),s.message=function K(s,l,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let p=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Fr,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[Sr]=null,s}(y,l,"R3InjectorError",this.source)}throw y}finally{Mn(p),_o(f)}}resolveInjectorInitializers(){const l=_o(this),c=Mn(void 0);try{const d=this.get(vg.multi,xt,et.Self);for(const f of d)f()}finally{_o(l),Mn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(l){let c=Eu(l=X(l))?l:X(l&&l.provide);const d=function XI(s){return uv(s)?rh(void 0,s.useValue):rh(qw(s),Qf)}(l);if(Eu(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=rh(void 0,Qf,!0),f.factory=()=>T(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Qf&&(c.value=KI,c.value=c.factory()),"object"==typeof c.value&&c.value&&function eS(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=X(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function wg(s){const l=Hr(s),c=null!==l?l.factory:Pr(s);if(null!==c)return c;if(s instanceof Pn)throw new Te(204,!1);if(s instanceof Function)return function QI(s){const l=s.length;if(l>0)throw po(l,"?"),new Te(204,!1);const c=function $n(s){const l=s&&(s[Qr]||s[Fi]);if(l){const c=function as(s){if(s.hasOwnProperty("name"))return s.name;const l=(""+s).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Te(204,!1)}function qw(s,l,c){let d;if(Eu(s)){const f=X(s);return Pr(f)||wg(f)}if(uv(s))d=()=>X(s.useValue);else if(function Gw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function zw(s){return!(!s||!s.useExisting)}(s))d=()=>hn(X(s.useExisting));else{const f=X(s&&(s.useClass||s.provide));if(!function JI(s){return!!s.deps}(s))return Pr(f)||wg(f);d=()=>new f(...T(s.deps))}return d}function rh(s,l,c=!1){return{factory:s,value:l,multi:c?[]:void 0}}function fv(s){return!!s.\u0275providers}function Cg(s,l){for(const c of s)Array.isArray(c)?Cg(c,l):fv(c)?Cg(c.\u0275providers,l):l(c)}class tS{}class rS{resolveComponentFactory(l){throw function nS(s){const l=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=s,l}(l)}}let sc=(()=>{class s{}return s.NULL=new rS,s})();function Kw(){return oc(ur(),xe())}function oc(s,l){return new Du(Tr(s,l))}let Du=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Kw,s})();function iS(s){return s instanceof Du?s.nativeElement:s}class Jf{}let sS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function oS(){const s=xe(),c=cn(ur().index,s);return(cr(c)?c:s)[11]}(),s})(),aS=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Qw{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Xw=new Qw("14.2.12"),Eg={};function Dg(s){return s.ngOriginalError}class Tu{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Dg(l);for(;c&&Dg(c);)c=Dg(c);return c||null}}function ha(s){return s instanceof Function?s():s}function pv(s,l,c){let d=s.length;for(;;){const f=s.indexOf(l,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=l.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const Ag="ng-template";function pS(s,l,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==pv(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function eC(s){return 4===s.type&&s.value!==Ag}function mS(s,l,c){return l===(4!==s.type||c?s.value:Ag)}function tC(s,l,c){let d=4;const f=s.attrs||[],p=function nC(s){for(let l=0;l<s.length;l++)if(za(s[l]))return l;return s.length}(f);let y=!1;for(let w=0;w<l.length;w++){const E=l[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!mS(s,E,c)||""===E&&1===l.length){if(vo(d))return!1;y=!0}}else{const A=8&d?E:l[++w];if(8&d&&null!==s.attrs){if(!pS(s.attrs,A,c)){if(vo(d))return!1;y=!0}continue}const L=xR(8&d?"class":E,f,eC(s),c);if(-1===L){if(vo(d))return!1;y=!0;continue}if(""!==A){let Z;Z=L>p?"":f[L+1].toLowerCase();const se=8&d?Z:null;if(se&&-1!==pv(se,A,0)||2&d&&A!==Z){if(vo(d))return!1;y=!0}}}}else{if(!y&&!vo(d)&&!vo(E))return!1;if(y&&vo(E))continue;y=!1,d=E|1&d}}return vo(d)||y}function vo(s){return 0==(1&s)}function xR(s,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let p=!1;for(;f<l.length;){const y=l[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function gS(s,l){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,s)}function tp(s,l,c=!1){for(let d=0;d<l.length;d++)if(tC(s,l[d],c))return!0;return!1}function _S(s,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function mv(s,l){return s?":not("+l.trim()+")":l}function yS(s){let l=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!vo(y)&&(l+=mv(p,f),f=""),d=y,p=p||!vo(d);c++}return""!==f&&(l+=mv(p,f)),l}const qt={};function rC(s){gv(Xt(),xe(),Hn()+s,!1)}function gv(s,l,c,d){if(!d)if(3==(3&l[2])){const p=s.preOrderCheckHooks;null!==p&&qo(l,p,c)}else{const p=s.preOrderHooks;null!==p&&Wo(l,p,0,c)}ys(c)}function sC(s,l=null,c=null,d){const f=be(s,l,c,d);return f.resolveInjectorInitializers(),f}function be(s,l=null,c=null,d,f=new Set){const p=[c||xt,WI(s)];return d=d||("object"==typeof s?void 0:fe(s)),new hv(p,l||Xf(),d||null,f)}let xr=(()=>{class s{static create(c,d){if(Array.isArray(c))return sC({name:""},d,c,"");{const f=c.name??"";return sC({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Mi,s.NULL=new Hw,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>hn(nh)}),s.__NG_ELEMENT_ID__=-1,s})();function uc(s,l=et.Default){const c=xe();return null===c?hn(s,l):Qo(ur(),c,X(s),l)}function dC(){throw new Error("invalid")}function cl(s,l){return s<<17|l<<2}function Gs(s){return s>>17&32767}function bv(s){return 2|s}function pa(s){return(131068&s)>>2}function oh(s,l){return-131069&s|l<<2}function ap(s){return 1|s}function DC(s,l){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];nu(f),y.contentQueries(2,l[p],p)}}}function Ug(s,l,c,d,f,p,y,w,E,A,R){const L=l.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==R||s&&1024&s[2])&&(L[2]|=1024),Ra(L),L[3]=L[15]=s,L[8]=c,L[10]=y||s&&s[10],L[11]=w||s&&s[11],L[12]=E||s&&s[12]||null,L[9]=A||s&&s[9]||null,L[6]=p,L[20]=function $y(){return eg++}(),L[21]=R,L[16]=2==l.type?s[16]:L,L}function ul(s,l,c,d,f){let p=s.data[l];if(null===p)p=function hp(s,l,c,d,f){const p=jo(),y=Fl(),E=s.data[l]=function Su(s,l,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,l,d,f);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,l,c,d,f),function kd(){return Ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function Pl(){const s=Ft.lFrame,l=s.currentTNode;return s.isParent?l:l.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Jr(p,!0),p}function hc(s,l,c,d){if(0===c)return-1;const f=l.length;for(let p=0;p<c;p++)l.push(d),s.blueprint.push(d),s.data.push(null);return f}function Hg(s,l,c){Go(l);try{const d=s.viewQuery;null!==d&&Zg(1,d,c);const f=s.template;null!==f&&lh(s,l,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&DC(s,l),s.staticViewQueries&&Zg(2,s.viewQuery,c);const p=s.components;null!==p&&function TC(s,l){for(let c=0;c<l.length;c++)yp(s,l[c])}(l,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{l[2]&=-5,Ps()}}function jg(s,l,c,d){const f=l[2];if(128!=(128&f)){Go(l);try{Ra(l),function Ba(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&lh(s,l,c,2,d);const y=3==(3&f);if(y){const A=s.preOrderCheckHooks;null!==A&&qo(l,A,null)}else{const A=s.preOrderHooks;null!==A&&Wo(l,A,0,null),Ld(l,0)}if(function _p(s){for(let l=il(s);null!==l;l=la(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&Wn(p,1),f[2]|=512}}}(l),function VS(s){for(let l=il(s);null!==l;l=la(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ns(d)&&jg(f,d,f.template,d[8])}}(l),null!==s.contentQueries&&DC(s,l),y){const A=s.contentCheckHooks;null!==A&&qo(l,A)}else{const A=s.contentHooks;null!==A&&Wo(l,A,1),Ld(l,1)}!function Av(s,l){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ys(~f);else{const p=f,y=c[++d],w=c[++d];Rd(y,p),w(2,l[p])}}}finally{ys(-1)}}(s,l);const w=s.components;null!==w&&function Mv(s,l){for(let c=0;c<l.length;c++)kC(s,l[c])}(l,w);const E=s.viewQuery;if(null!==E&&Zg(2,E,d),y){const A=s.viewCheckHooks;null!==A&&qo(l,A)}else{const A=s.viewHooks;null!==A&&Wo(l,A,2),Ld(l,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Wn(l[3],-1))}finally{Ps()}}}function lh(s,l,c,d,f){const p=Hn(),y=2&d;try{ys(-1),y&&l.length>22&&gv(s,l,22,!1),c(d,f)}finally{ys(p)}}function xv(s,l,c){if(ps(l)){const f=l.directiveEnd;for(let p=l.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function $g(s,l,c){!ao()||(function AC(s,l,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||bs(c,l),_(d,l);const y=c.initialInputs;for(let w=f;w<p;w++){const E=s.data[w],A=li(E);A&&LS(l,c,E);const R=Wi(l,s,w,c);_(R,l),null!==y&&Vv(0,w-f,R,E,0,y),A&&(cn(c.index,l)[8]=R)}}(s,l,c,Tr(c,l)),128==(128&c.flags)&&function MC(s,l,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function vf(){return Ft.lFrame.currentDirectiveIndex}();try{ys(p);for(let w=d;w<f;w++){const E=s.data[w],A=l[w];zo(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&uh(E,A)}}finally{ys(-1),zo(y)}}(s,l,c))}function zg(s,l,c=Tr){const d=l.localNames;if(null!==d){let f=l.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(l,s):s[y];s[f++]=w}}}function fp(s){const l=s.tView;return null===l||l.incompleteFirstPass?s.tView=kv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):l}function kv(s,l,c,d,f,p,y,w,E,A){const R=22+d,L=R+f,Z=function NS(s,l){const c=[];for(let d=0;d<l;d++)c.push(d<s?null:qt);return c}(R,L),se="function"==typeof A?A():A;return Z[1]={type:s,blueprint:Z,template:c,queries:null,viewQuery:w,declTNode:l,data:Z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function IC(s,l,c,d){const f=fc(l);null===c?f.push(d):(f.push(c),s.firstCreatePass&&ga(s).push(d,f.length-1))}function Rv(s,l,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function mp(s,l){const d=l.directiveEnd,f=s.data,p=l.attrs,y=[];let w=null,E=null;for(let A=l.directiveStart;A<d;A++){const R=f[A],L=R.inputs,Z=null===p||eC(l)?null:xC(L,p);y.push(Z),w=Rv(L,A,w),E=Rv(R.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=E}function _i(s,l,c,d,f,p,y,w){const E=Tr(l,c);let R,A=l.inputs;!w&&null!=A&&(R=A[d])?(Yg(s,c,R,d,f),Ro(l)&&Ov(c,l.index)):3&l.type&&(d=function SC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,l.value||"",d):f,p.setProperty(E,d,f))}function Ov(s,l){const c=cn(l,s);16&c[2]||(c[2]|=32)}function ch(s,l,c,d){let f=!1;if(ao()){const p=function Fv(s,l,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];tp(c,y.selectors,!1)&&(f||(f=[]),co(bs(c,l),s,y.type),li(y)?(Gg(s,c),f.unshift(y)):f.push(y))}return f}(s,l,c),y=null===d?null:{"":-1};if(null!==p){f=!0,dh(c,s.data.length,p.length);for(let R=0;R<p.length;R++){const L=p[R];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,A=hc(s,l,p.length,null);for(let R=0;R<p.length;R++){const L=p[R];c.mergedAttrs=Ga(c.mergedAttrs,L.hostAttrs),Bv(s,c,l,A,L),qg(A,L,y),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const Z=L.type.prototype;!w&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),A++}mp(s,c)}y&&function Lv(s,l,c){if(l){const d=s.localNames=[];for(let f=0;f<l.length;f+=2){const p=c[l[f+1]];if(null==p)throw new Te(-301,!1);d.push(l[f],p)}}}(c,d,y)}return c.mergedAttrs=Ga(c.mergedAttrs,c.attrs),f}function Nv(s,l,c,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~l.index;(function Pv(s){let l=s.length;for(;l>0;){const c=s[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function uh(s,l){null!==s.hostBindings&&s.hostBindings(1,l)}function Gg(s,l){l.flags|=2,(s.components||(s.components=[])).push(l.index)}function qg(s,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=s;li(l)&&(c[""]=s)}}function dh(s,l,c){s.flags|=1,s.directiveStart=l,s.directiveEnd=l+c,s.providerIndexes=l}function Bv(s,l,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=Pr(f.type)),y=new Ai(p,li(f),uc);s.blueprint[d]=y,c[d]=y,Nv(s,l,0,d,hc(s,c,f.hostVars,qt),f)}function LS(s,l,c){const d=Tr(l,s),f=fp(c),p=s[10],y=ph(s,Ug(s,f,null,c.onPush?32:16,d,l,p,p.createRenderer(d,c),null,null,null));s[l.index]=y}function qs(s,l,c,d,f,p){const y=Tr(s,l);!function hh(s,l,c,d,f,p,y){if(null==p)s.removeAttribute(l,f,c);else{const w=null==y?we(p):y(p,d||"",f);s.setAttribute(l,f,w,c)}}(l[11],y,p,s.value,c,d,f)}function Vv(s,l,c,d,f,p){const y=p[l];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const A=y[E++],R=y[E++],L=y[E++];null!==w?d.setInput(c,L,A,R):c[R]=L}}}function xC(s,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function Uv(s,l,c,d){return new Array(s,!0,!1,l,null,0,d,c,null,null)}function kC(s,l){const c=cn(l,s);if(Ns(c)){const d=c[1];48&c[2]?jg(d,c,d.template,c[8]):c[5]>0&&fh(c)}}function fh(s){for(let d=il(s);null!==d;d=la(d))for(let f=10;f<d.length;f++){const p=d[f];if(Ns(p))if(512&p[2]){const y=p[1];jg(y,p,y.template,p[8])}else p[5]>0&&fh(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=cn(c[d],s);Ns(f)&&f[5]>0&&fh(f)}}function yp(s,l){const c=cn(l,s),d=c[1];(function Au(s,l){for(let c=l.length;c<s.blueprint.length;c++)l.push(s.blueprint[c])})(d,c),Hg(d,c,c[8])}function ph(s,l){return s[13]?s[14][4]=l:s[13]=l,s[14]=l,l}function Hv(s){for(;s;){s[2]|=32;const l=rl(s);if(Zc(s)&&!l)return s;s=l}return null}function Wg(s,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{jg(s,l,s.template,c)}catch(y){throw d&&bp(l,y),y}finally{f.end&&f.end()}}function Zg(s,l,c){nu(0),l(s,c)}function fc(s){return s[7]||(s[7]=[])}function ga(s){return s.cleanup||(s.cleanup=[])}function bp(s,l){const c=s[9],d=c?c.get(Tu,null):null;d&&d.handleError(l)}function Yg(s,l,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=l[y],A=s.data[y];null!==A.setInput?A.setInput(E,f,d,w):E[w]=f}}function Mu(s,l,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?p=w:1==p?f=ye(f,w):2==p&&(d=ye(d,w+": "+l[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function pc(s,l,c,d,f=!1){for(;null!==c;){const p=l[c.index];if(null!==p&&d.push(zn(p)),Ei(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&pc(E[1],E,A,d)}const y=c.type;if(8&y)pc(s,l,c.child,d);else if(32&y){const w=yu(c,l);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Jy(l,c);if(Array.isArray(w))d.push(...w);else{const E=rl(l[16]);pc(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class dl{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return pc(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ei(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(qy(l,d),Kn(c,d))}this._attachedToViewContainer=!1}Tw(this._lView[1],this._lView)}onDestroy(l){IC(this._lView[1],this._lView,null,l)}markForCheck(){Hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ew(s,l){wu(s,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=l}}class HS extends dl{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Wg(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Kg extends sc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=k(l);return new wp(c,this.ngModule)}}function RC(s){const l=[];for(let c in s)s.hasOwnProperty(c)&&l.push({propName:s[c],templateName:c});return l}class $S{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Eg,d);return f!==Eg||c===Eg?f:this.parentInjector.get(l,c,d)}}class wp extends tS{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function vS(s){return s.map(yS).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return RC(this.componentDef.inputs)}get outputs(){return RC(this.componentDef.outputs)}create(l,c,d,f){let p=(f=f||this.ngModule)instanceof ic?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new $S(l,p):l,w=y.get(Jf,null);if(null===w)throw new Te(407,!1);const E=y.get(aS,null),A=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=d?function PS(s,l,c){return s.selectRootElement(l,c===gt.ShadowDom)}(A,d,this.componentDef.encapsulation):Uf(A,R,function jS(s){const l=s.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),Z=this.componentDef.onPush?288:272,se=kv(0,null,null,1,0,null,null,null,null,null),Ee=Ug(null,se,null,Z,null,null,w,A,E,y,null);let je,Ze;Go(Ee);try{const dt=function NC(s,l,c,d,f,p){const y=c[1];c[22]=s;const E=ul(y,22,2,"#host",null),A=E.mergedAttrs=l.hostAttrs;null!==A&&(Mu(E,A,!0),null!==s&&(vs(f,s,A),null!==E.classes&&hg(f,s,E.classes),null!==E.styles&&dg(f,s,E.styles)));const R=d.createRenderer(s,l),L=Ug(c,fp(l),null,l.onPush?32:16,c[22],E,d,R,p||null,null,null);return y.firstCreatePass&&(co(bs(E,c),y,l.type),Gg(y,E),dh(E,c.length,1)),ph(c,L),c[22]=L}(L,this.componentDef,Ee,w,A);if(L)if(d)vs(A,L,["ng-version",Xw.full]);else{const{attrs:At,classes:ke}=function bS(s){const l=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&l.push(p,s[++d]):8===f&&c.push(p);else{if(!vo(f))break;f=p}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);At&&vs(A,L,At),ke&&ke.length>0&&hg(A,L,ke.join(" "))}if(Ze=oo(se,22),void 0!==c){const At=Ze.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Pt=c[ke];At.push(null!=Pt?Array.from(Pt):null)}}je=function mh(s,l,c,d){const f=c[1],p=function gp(s,l,c){const d=ur();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Bv(s,d,l,hc(s,l,1,null),c),mp(s,d));const f=Wi(l,s,d.directiveStart,d);_(f,l);const p=Tr(d,l);return p&&_(p,l),f}(f,c,l);if(s[8]=c[8]=p,null!==d)for(const w of d)w(p,l);if(l.contentQueries){const w=ur();l.contentQueries(1,p,w.directiveStart)}const y=ur();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ys(y.index),Nv(c[1],y,0,y.directiveStart,y.directiveEnd,l),uh(l,p)),p}(dt,this.componentDef,Ee,[GS]),Hg(se,Ee,null)}finally{Ps()}return new OC(this.componentType,je,oc(Ze,Ee),Ee,Ze)}}class OC extends class Zw{}{constructor(l,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new HS(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const p=this._rootLView;Yg(p[1],p,f,l,c),Ov(p,this._tNode.index)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function GS(){const s=ur();Ll(xe()[1],s)}function Qg(s){let l=function PC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;l;){let f;if(li(s))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Te(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=Xg(s.inputs),y.declaredInputs=Xg(s.declaredInputs),y.outputs=Xg(s.outputs);const w=f.hostBindings;w&&$v(s,w);const E=f.viewQuery,A=f.contentQueries;if(E&&FC(s,E),A&&jv(s,A),ie(s.inputs,f.inputs),ie(s.declaredInputs,f.declaredInputs),ie(s.outputs,f.outputs),li(f)&&f.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Qg&&(c=!1)}}l=Object.getPrototypeOf(l)}!function qS(s){let l=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ga(f.hostAttrs,c=Ga(c,f.hostAttrs))}}(d)}function Xg(s){return s===jr?{}:s===xt?[]:s}function FC(s,l){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function jv(s,l){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{l(d,f,p),c(d,f,p)}:l}function $v(s,l){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Jg=null;function ku(){if(!Jg){const s=Ot.Symbol;if(s&&s.iterator)Jg=s.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Jg=d)}}}return Jg}function mc(s){return!!Dp(s)&&(Array.isArray(s)||!(s instanceof Map)&&ku()in s)}function Dp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ji(s,l,c){return s[l]=c}function ki(s,l,c){return!Object.is(s[l],c)&&(s[l]=c,!0)}function Gv(s,l,c,d){const f=xe();return ki(f,Va(),l)&&(Xt(),qs(Vn(),f,s,l,c,d)),Gv}function Ru(s,l,c,d){return ki(s,Va(),c)?l+we(c)+d:qt}function Yv(s,l,c,d,f,p,y,w){const E=xe(),A=Xt(),R=s+22,L=A.firstCreatePass?function HC(s,l,c,d,f,p,y,w,E){const A=l.consts,R=ul(l,s,4,y||null,Si(A,w));ch(l,c,R,Si(A,E)),Ll(l,R);const L=R.tViews=kv(2,R,d,f,p,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),L.queries=l.queries.embeddedTView(R)),R}(R,A,E,l,c,d,f,p,y):A.data[R];Jr(L,!1);const Z=E[11].createComment("");cg(A,E,Z,L),_(Z,E),ph(E,E[R]=Uv(Z,E,Z,L)),Oo(L)&&$g(A,E,L),null!=y&&zg(E,L,w)}function r_(s){return function Gi(s,l){return s[l]}(function La(){return Ft.lFrame.contextLView}(),22+s)}function i_(s,l,c){const d=xe();return ki(d,Va(),l)&&_i(Xt(),Vn(),d,s,l,d[11],c,!1),i_}function yh(s,l,c,d,f){const y=f?"class":"style";Yg(s,c,l.inputs[y],y,d)}function Mp(s,l,c,d){const f=xe(),p=Xt(),y=22+s,w=f[11],E=f[y]=Uf(w,l,function ou(){return Ft.lFrame.currentNamespace}()),A=p.firstCreatePass?function jC(s,l,c,d,f,p,y){const w=l.consts,A=ul(l,s,2,f,Si(w,p));return ch(l,c,A,Si(w,y)),null!==A.attrs&&Mu(A,A.attrs,!1),null!==A.mergedAttrs&&Mu(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(y,p,f,0,l,c,d):p.data[y];Jr(A,!0);const R=A.mergedAttrs;null!==R&&vs(w,E,R);const L=A.classes;null!==L&&hg(w,E,L);const Z=A.styles;return null!==Z&&dg(w,E,Z),64!=(64&A.flags)&&cg(p,f,E,A),0===function Na(){return Ft.lFrame.elementDepthCount}()&&_(E,f),function xd(){Ft.lFrame.elementDepthCount++}(),Oo(A)&&($g(p,f,A),xv(p,A,f)),null!==d&&zg(f,A),Mp}function _a(){let s=ur();Fl()?$o():(s=s.parent,Jr(s,!1));const l=s;!function Pa(){Ft.lFrame.elementDepthCount--}();const c=Xt();return c.firstCreatePass&&(Ll(c,s),ps(s)&&c.queries.elementEnd(s)),null!=l.classesWithoutHost&&function Vl(s){return 0!=(16&s.flags)}(l)&&yh(c,l,xe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ul(s){return 0!=(32&s.flags)}(l)&&yh(c,l,xe(),l.stylesWithoutHost,!1),_a}function s_(s,l,c,d){return Mp(s,l,c,d),_a(),s_}function xp(s,l,c){const d=xe(),f=Xt(),p=s+22,y=f.firstCreatePass?function $C(s,l,c,d,f){const p=l.consts,y=Si(p,d),w=ul(l,s,8,"ng-container",y);return null!==y&&Mu(w,y,!0),ch(l,c,w,Si(p,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(p,f,d,l,c):f.data[p];Jr(y,!0);const w=d[p]=d[11].createComment("");return cg(f,d,w,y),_(w,d),Oo(y)&&($g(f,d,y),xv(f,y,d)),null!=c&&zg(d,y),xp}function kp(){let s=ur();const l=Xt();return Fl()?$o():(s=s.parent,Jr(s,!1)),l.firstCreatePass&&(Ll(l,s),ps(s)&&l.queries.elementEnd(s)),kp}function vh(s,l,c){return xp(s,l,c),kp(),vh}function ts(){return xe()}function o_(s){return!!s&&"function"==typeof s.then}function Qv(s){return!!s&&"function"==typeof s.subscribe}const Bu=Qv;function Xv(s,l,c,d){const f=xe(),p=Xt(),y=ur();return function GC(s,l,c,d,f,p,y,w){const E=Oo(d),R=s.firstCreatePass&&ga(s),L=l[8],Z=fc(l);let se=!0;if(3&d.type||w){const Ze=Tr(d,l),dt=w?w(Ze):Ze,At=Z.length,ke=w?yn=>w(zn(yn[d.index])):d.index;let Pt=null;if(!w&&E&&(Pt=function Jv(s,l,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=l[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,l,f,d.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=p,Pt.__ngLastListenerFn__=p,se=!1;else{p=eb(d,l,L,p,!1);const yn=c.listen(dt,f,p);Z.push(p,yn),R&&R.push(f,ke,At,At+1)}}else p=eb(d,l,L,p,!1);const Ee=d.outputs;let je;if(se&&null!==Ee&&(je=Ee[f])){const Ze=je.length;if(Ze)for(let dt=0;dt<Ze;dt+=2){const or=l[je[dt]][je[dt+1]].subscribe(p),Tl=Z.length;Z.push(p,or),R&&R.push(f,d.index,Tl,-(Tl+1))}}}(p,f,f[11],y,s,l,0,d),Xv}function qC(s,l,c,d){try{return!1!==c(d)}catch(f){return bp(s,f),!1}}function eb(s,l,c,d,f){return function p(y){if(y===Function)return d;Hv(2&s.flags?cn(s.index,l):l);let E=qC(l,0,d,y),A=p.__ngNextListenerFn__;for(;A;)E=qC(l,0,A,y)&&E,A=A.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function WC(s=1){return function Fs(s){return(Ft.lFrame.contextLView=function Pd(s,l){for(;s>0;)l=l[15],s--;return l}(s,Ft.lFrame.contextLView))[8]}(s)}function a_(s,l){let c=null;const d=function kR(s){const l=s.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(s);for(let f=0;f<l.length;f++){const p=l[f];if("*"!==p){if(null===d?tp(s,p,!0):_S(d,p))return f}else c=f}return c}function ZC(s){const l=xe()[16][6];if(!l.projection){const d=l.projection=po(s?s.length:1,null),f=d.slice();let p=l.child;for(;null!==p;){const y=s?a_(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function tb(s,l=0,c){const d=xe(),f=Xt(),p=ul(f,22+s,16,null,c||null);null===p.projection&&(p.projection=l),$o(),64!=(64&p.flags)&&function wI(s,l,c){Jd(l[11],0,l,c,Iw(s,c,l),Ky(c.parent||l[6],c,l))}(f,d,p)}function Vr(s,l,c){return gc(s,"",l,"",c),Vr}function gc(s,l,c,d,f){const p=xe(),y=Ru(p,l,c,d);return y!==qt&&_i(Xt(),Vn(),p,s,y,p[11],f,!1),gc}function me(s,l,c,d,f){const p=s[c+1],y=null===l;let w=d?Gs(p):pa(p),E=!1;for(;0!==w&&(!1===E||y);){const R=s[w+1];Fe(s[w],l)&&(E=!0,s[w+1]=d?ap(R):bv(R)),w=d?Gs(R):pa(R)}E&&(s[c+1]=d?bv(p):ap(p))}function Fe(s,l){return null===s||null==l||(Array.isArray(s)?s[1]:s)===l||!(!Array.isArray(s)||"string"!=typeof l)&&Yi(s,l)>=0}const on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nb(s){return s.substring(on.key,on.keyEnd)}function KC(s,l){const c=on.textEnd;return c===l?-1:(l=on.keyEnd=function BR(s,l,c){for(;l<c&&s.charCodeAt(l)>32;)l++;return l}(s,on.key=l,c),bh(s,l,c))}function bh(s,l,c){for(;l<c&&s.charCodeAt(l)<=32;)l++;return l}function qn(s,l,c){return Ge(s,l,c,!1),qn}function Et(s,l){return Ge(s,l,null,!0),Et}function XC(s){rs(nt,Sn,s,!0)}function Sn(s,l){for(let c=function YS(s){return function rb(s){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=s.length}(s),KC(s,bh(s,0,on.textEnd))}(l);c>=0;c=KC(l,c))nt(s,nb(l),!0)}function Ge(s,l,c,d){const f=xe(),p=Xt(),y=_s(2);p.firstUpdatePass&&yc(p,s,y,d),l!==qt&&ki(f,y,l)&&sb(p,p.data[Hn()],f,f[11],s,f[y+1]=function he(s,l){return null==s||("string"==typeof l?s+=l:"object"==typeof s&&(s=fe(ua(s)))),s}(l,c),d,y)}function rs(s,l,c,d){const f=Xt(),p=_s(2);f.firstUpdatePass&&yc(f,null,p,d);const y=xe();if(c!==qt&&ki(y,p,c)){const w=f.data[Hn()];if(Op(w,d)&&!u_(f,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=ye(E,c||"")),yh(f,w,y,c,d)}else!function JC(s,l,c,d,f,p,y,w){f===qt&&(f=xt);let E=0,A=0,R=0<f.length?f[0]:null,L=0<p.length?p[0]:null;for(;null!==R||null!==L;){const Z=E<f.length?f[E+1]:void 0,se=A<p.length?p[A+1]:void 0;let je,Ee=null;R===L?(E+=2,A+=2,Z!==se&&(Ee=L,je=se)):null===L||null!==R&&R<L?(E+=2,Ee=R):(A+=2,Ee=L,je=se),null!==Ee&&sb(s,l,c,d,Ee,je,y,w),R=E<f.length?f[E]:null,L=A<p.length?p[A]:null}}(f,w,y,y[11],y[p+1],y[p+1]=function Es(s,l,c){if(null==c||""===c)return xt;const d=[],f=ua(c);if(Array.isArray(f))for(let p=0;p<f.length;p++)s(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&s(d,p,f[p]);else"string"==typeof f&&l(d,f);return d}(s,l,c),d,p)}}function u_(s,l){return l>=s.expandoStartIndex}function yc(s,l,c,d){const f=s.data;if(null===f[c+1]){const p=f[Hn()],y=u_(s,c);Op(p,d)&&null===l&&!y&&(l=!1),l=function JS(s,l,c,d){const f=tu(s);let p=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=wh(c=h_(null,s,l,c,d),l.attrs,d),p=null);else{const y=l.directiveStylingLast;if(-1===y||s[y]!==f)if(c=h_(f,s,l,c,d),null===p){let E=function d_(s,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==pa(d))return s[Gs(d)]}(s,l,d);void 0!==E&&Array.isArray(E)&&(E=h_(null,s,l,E[1],d),E=wh(E,l.attrs,d),function eA(s,l,c,d){s[Gs(c?l.classBindings:l.styleBindings)]=d}(s,l,d,E))}else p=function Rp(s,l,c){let d;const f=l.directiveEnd;for(let p=1+l.directiveStylingLast;p<f;p++)d=wh(d,s[p].hostAttrs,c);return wh(d,l.attrs,c)}(s,l,d)}return void 0!==p&&(d?l.residualClasses=p:l.residualStyles=p),c}(f,p,l,d),function WS(s,l,c,d,f,p){let y=p?l.classBindings:l.styleBindings,w=Gs(y),E=pa(y);s[d]=c;let R,A=!1;if(Array.isArray(c)){const L=c;R=L[1],(null===R||Yi(L,R)>0)&&(A=!0)}else R=c;if(f)if(0!==E){const Z=Gs(s[w+1]);s[d+1]=cl(Z,w),0!==Z&&(s[Z+1]=oh(s[Z+1],d)),s[w+1]=function fC(s,l){return 131071&s|l<<17}(s[w+1],d)}else s[d+1]=cl(w,0),0!==w&&(s[w+1]=oh(s[w+1],d)),w=d;else s[d+1]=cl(E,0),0===w?w=d:s[E+1]=oh(s[E+1],d),E=d;A&&(s[d+1]=bv(s[d+1])),me(s,R,d,!0),me(s,R,d,!1),function Qe(s,l,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof l&&Yi(p,l)>=0&&(c[d+1]=ap(c[d+1]))}(l,R,s,d,p),y=cl(w,E),p?l.classBindings=y:l.styleBindings=y}(f,p,l,c,y,d)}}function h_(s,l,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=l[w],d=wh(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function wh(s,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let p=0;p<l.length;p++){const y=l[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nt(s,y,!!c||l[++p]))}return void 0===s?null:s}function sb(s,l,c,d,f,p,y,w){if(!(3&l.type))return;const E=s.data,A=E[w+1];Ch(function Pg(s){return 1==(1&s)}(A)?ml(E,l,c,f,pa(A),y):void 0)||(Ch(p)||function Ng(s){return 2==(2&s)}(A)&&(p=ml(E,null,c,f,w,y)),function EI(s,l,c,d,f){if(l)f?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:Xi.DashCase;null==f?s.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=Xi.Important),s.setStyle(c,d,f,p))}}(d,y,Li(Hn(),c),f,p))}function ml(s,l,c,d,f,p){const y=null===l;let w;for(;f>0;){const E=s[f],A=Array.isArray(E),R=A?E[1]:E,L=null===R;let Z=c[f+1];Z===qt&&(Z=L?xt:void 0);let se=L?pu(Z,d):R===d?Z:void 0;if(A&&!Ch(se)&&(se=pu(E,d)),Ch(se)&&(w=se,y))return w;const Ee=s[f+1];f=y?Gs(Ee):pa(Ee)}if(null!==l){let E=p?l.residualClasses:l.residualStyles;null!=E&&(w=pu(E,d))}return w}function Ch(s){return void 0!==s}function Op(s,l){return 0!=(s.flags&(l?16:32))}function Zs(s,l=""){const c=xe(),d=Xt(),f=s+22,p=d.firstCreatePass?ul(d,f,1,l,null):d.data[f],y=c[f]=function ag(s,l){return s.createText(l)}(c[11],l);cg(d,c,y,p),Jr(p,!1)}function ob(s){return vc("",s,""),ob}function vc(s,l,c){const d=xe(),f=Ru(d,s,l,c);return f!==qt&&function Cn(s,l,c){const d=Li(l,s);!function Gy(s,l,c){s.setValue(l,c)}(s[11],d,c)}(d,Hn(),f),vc}function rE(s,l,c){rs(nt,Sn,Ru(xe(),s,l,c),!0)}function Bp(s,l,c){const d=xe();return ki(d,Va(),l)&&_i(Xt(),Vn(),d,s,l,d[11],c,!0),Bp}function $u(s,l,c){const d=xe();if(ki(d,Va(),l)){const p=Xt(),y=Vn();_i(p,y,d,s,l,function vp(s,l,c){return(null===s||li(s))&&(c=function Md(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[l.index])),c[11]}(tu(p.data),y,d),c,!0)}return $u}const Ic=void 0;var g_=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lE(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ya={};function ub(s){const l=function cE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=hb(l);if(c)return c;const d=l.split("-")[0];if(c=hb(d),c)return c;if("en"===d)return g_;throw new Te(701,!1)}function db(s){return ub(s)[Mt.PluralCase]}function hb(s){return s in ya||(ya[s]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[s]),ya[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const mn="en-US";let fb=mn;function Er(s,l,c,d,f){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Er(s[p],l,c,d,f);else{const p=Xt(),y=xe();let w=Eu(s)?s:X(s.provide),E=qw(s);const A=ur(),R=1048575&A.providerIndexes,L=A.directiveStart,Z=A.providerIndexes>>20;if(Eu(s)||!s.multi){const se=new Ai(E,f,uc),Ee=D_(w,l,f?R:R+Z,L);-1===Ee?(co(bs(A,y),p,w),dn(p,s,l.length),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(se),y.push(se)):(c[Ee]=se,y[Ee]=se)}else{const se=D_(w,l,R+Z,L),Ee=D_(w,l,R,R+Z),je=se>=0&&c[se],Ze=Ee>=0&&c[Ee];if(f&&!Ze||!f&&!je){co(bs(A,y),p,w);const dt=function RE(s,l,c,d,f){const p=new Ai(s,c,uc);return p.multi=[],p.index=l,p.componentProviders=0,Ib(p,f,d&&!c),p}(f?gA:xc,c.length,f,d,E);!f&&Ze&&(c[Ee].providerFactory=dt),dn(p,s,l.length,0),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(dt),y.push(dt)}else dn(p,s,se>-1?se:Ee,Ib(c[f?Ee:se],E,!f&&d));!f&&d&&Ze&&c[Ee].componentProviders++}}}function dn(s,l,c,d){const f=Eu(l),p=function YI(s){return!!s.useClass}(l);if(f||p){const E=(p?X(l.useClass):l).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(c);-1===R?A.push(c,[d,E]):A[R+1].push(d,E)}else A.push(c,E)}}}function Ib(s,l,c){return c&&s.componentProviders++,s.multi.push(l)-1}function D_(s,l,c,d){for(let f=c;f<d;f++)if(l[f]===s)return f;return-1}function xc(s,l,c,d){return Oi(this.multi,[])}function gA(s,l,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Wi(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Oi(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],Oi(f,p);return p}function Oi(s,l){for(let c=0;c<s.length;c++)l.push((0,s[c])());return l}function Nh(s,l=[]){return c=>{c.providersResolver=(d,f)=>function mA(s,l,c){const d=Xt();if(d.firstCreatePass){const f=li(s);Er(c,d.data,d.blueprint,f,!0),Er(l,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,l)}}class Qu{}class Co{}function OE(s,l){return new NE(s,l??null)}class NE extends Qu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kg(this);const d=at(l);this._bootstrapComponents=ha(d.bootstrap),this._r3Injector=be(l,c,[{provide:Qu,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Sb extends Co{constructor(l){super(),this.moduleType=l}create(l){return new NE(this.moduleType,l)}}class Qt extends Qu{constructor(l,c,d){super(),this.componentFactoryResolver=new Kg(this),this.instance=null;const f=new hv([...l,{provide:Qu,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],c||Xf(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Ab(s,l,c=null){return new Qt(s,l,c).injector}let I_=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=jw(0,c.type),f=d.length>0?Ab([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=sn({token:s,providedIn:"environment",factory:()=>new s(hn(ic))}),s})();function Ph(s){s.getStandaloneInjector=l=>l.get(I_).getOrCreateStandaloneInjector(s)}function Eo(s,l,c,d){return function A_(s,l,c,d,f,p){const y=l+c;return ki(s,y,f)?Ji(s,y+1,p?d.call(p,f):d(f)):vl(s,y+1)}(xe(),dr(),s,l,c,d)}function S_(s,l,c,d,f){return function GE(s,l,c,d,f,p,y){const w=l+c;return function Un(s,l,c,d){const f=ki(s,l,c);return ki(s,l+1,d)||f}(s,w,f,p)?Ji(s,w+2,y?d.call(y,f,p):d(f,p)):vl(s,w+2)}(xe(),dr(),s,l,c,d,f)}function vl(s,l){const c=s[l];return c===qt?void 0:c}function yi(s){return l=>{setTimeout(s,void 0,l)}}const ba=class ZE extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,p=c||(()=>null),y=d;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=yi(p),f&&(f=yi(f)),y&&(y=yi(y)));const w=super.subscribe({next:f,error:p,complete:y});return l instanceof j.w0&&l.add(w),w}};function YE(){return this._results[ku()]()}class Ds{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ku(),d=Ds.prototype;d[c]||(d[c]=YE)}get changes(){return this._changes||(this._changes=new ba)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Tn(l);(this._changesDetected=!function Lt(s,l,c){if(s.length!==l.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=l[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vh=(()=>{class s{}return s.__NG_ELEMENT_ID__=DA,s})();const x_=Vh,KE=class extends x_{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Ug(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Hg(d,f,l),new dl(f)}};function DA(){return k_(ur(),xe())}function k_(s,l){return 4&s.type?new KE(l,s,oc(s,l)):null}let R_=(()=>{class s{}return s.__NG_ELEMENT_ID__=TA,s})();function TA(){return JE(ur(),xe())}const IA=R_,QE=class extends IA{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Wa(this._hostTNode,this._hostLView);if(Ef(l)){const c=Ls(l,this._hostLView),d=hr(l);return new Jo(c[1].data[d+8],c)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=XE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=l.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(l,c,d,f,p){const y=l&&!function ws(s){return"function"==typeof s}(l);let w;if(y)w=c;else{const L=c||{};w=L.index,d=L.injector,f=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const E=y?l:new wp(k(l)),A=d||this.parentInjector;if(!p&&null==E.ngModule){const Z=(y?A:this.parentInjector).get(ic,null);Z&&(p=Z)}const R=E.create(A,f,void 0,p);return this.insert(R.hostView,w),R}insert(l,c){const d=l._lView,f=d[1];if(function Jc(s){return Ei(s[3])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const L=d[3],Z=new QE(L,L[6],L[3]);Z.detach(Z.indexOf(l))}}const p=this._adjustIndex(c),y=this._lContainer;!function _I(s,l,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=l),d<p-10?(l[4]=c[f],fo(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const y=l[17];null!==y&&c!==y&&function yI(s,l){const c=s[9];l[16]!==l[3][3][16]&&(s[2]=!0),null===c?s[9]=[l]:c.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(s),l[2]|=64}(f,d,y,p);const w=Hf(p,y),E=d[11],A=$s(E,y[7]);return null!==A&&function lg(s,l,c,d,f,p){d[0]=f,d[6]=l,wu(s,d,c,1,f,p)}(f,y[6],E,d,A,w),l.attachToViewContainerRef(),fo(Pb(y),p,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=XE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=qy(this._lContainer,c);d&&(Kn(Pb(this._lContainer),c),Tw(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=qy(this._lContainer,c);return d&&null!=Kn(Pb(this._lContainer),c)?new dl(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function XE(s){return s[8]}function Pb(s){return s[8]||(s[8]=[])}function JE(s,l){let c;const d=l[s.index];if(Ei(d))c=d;else{let f;if(8&s.type)f=zn(d);else{const p=l[11];f=p.createComment("");const y=Tr(s,l);ec(p,$s(p,y),f,function Xd(s,l){return s.nextSibling(l)}(p,y),!1)}l[s.index]=c=Uv(d,l,f,s),ph(l,c)}return new QE(c,s,l)}class Fb{constructor(l){this.queryList=l,this.matches=null}clone(){return new Fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new Lb(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==kc(l,c).matches&&this.queries[c].setDirty()}}class eD{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class O_{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(l,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new O_(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Bb{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Bb(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(l,c,tD(c,p)),this.matchTNodeWithReadOption(l,c,Ya(c,l,p,!1,!1))}else d===Vh?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Ya(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Du||f===R_||f===Vh&&4&c.type)this.addMatch(c.index,-2);else{const p=Ya(c,l,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function tD(s,l){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function MA(s,l,c,d){return-1===c?function nD(s,l){return 11&s.type?oc(s,l):4&s.type?k_(s,l):null}(l,s):-2===c?function Vb(s,l,c){return c===Du?oc(l,s):c===Vh?k_(l,s):c===R_?JE(l,s):void 0}(s,l,d):Wi(s,s[1],c,l)}function qr(s,l,c,d){const f=l[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:MA(l,p[A],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function Zp(s,l,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=qr(s,l,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const A=p[w+1],R=l[-E];for(let L=10;L<R.length;L++){const Z=R[L];Z[17]===Z[3]&&Zp(Z[1],Z,A,d)}if(null!==R[9]){const L=R[9];for(let Z=0;Z<L.length;Z++){const se=L[Z];Zp(se[1],se,A,d)}}}}}return d}function N_(s){const l=xe(),c=Xt(),d=Ua();nu(d+1);const f=kc(c,d);if(s.dirty&&function Xc(s){return 4==(4&s[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?Zp(c,l,d,[]):qr(c,l,f,d);s.reset(p,iS),s.notifyOnChanges()}return!0}return!1}function P_(s,l,c){const d=Xt();d.firstCreatePass&&(Yp(d,new eD(s,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Hb(d,xe(),l)}function bl(s,l,c,d){const f=Xt();if(f.firstCreatePass){const p=ur();Yp(f,new eD(l,c,d),p.index),function Ju(s,l){const c=s.contentQueries||(s.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,l)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}Hb(f,xe(),c)}function Ub(){return function xA(s,l){return s[19].queries[l].queryList}(xe(),Ua())}function Hb(s,l,c){const d=new Ds(4==(4&c));IC(s,l,d,d.destroy),null===l[19]&&(l[19]=new Lb),l[19].queries.push(new Fb(d))}function Yp(s,l,c){null===s.queries&&(s.queries=new O_),s.queries.track(new Bb(l,c))}function kc(s,l){return s.queries.getByIndex(l)}function Xp(...s){}const Jb=new Pn("Application Initializer");let z_=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Xp,this.reject=Xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(o_(p))c.push(p);else if(Bu(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(hn(Jb,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const e0=new Pn("AppId",{providedIn:"root",factory:function Nc(){return`${q_()}${q_()}${q_()}`}});function q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const t0=new Pn("Platform Initializer"),UA=new Pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),n0=new Pn("appBootstrapListener"),HA=new Pn("AnimationModuleType");let r0=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const W_=new Pn("LocaleId",{providedIn:"root",factory:()=>vr(W_,et.Optional|et.SkipSelf)||function ri(){return typeof $localize<"u"&&$localize.locale||mn}()}),jA=new Pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zA{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Z_=(()=>{class s{compileModuleSync(c){return new Sb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=ha(at(c).declarations).reduce((y,w)=>{const E=k(w);return E&&y.push(new wp(E)),y},[]);return new zA(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const a0=(()=>Promise.resolve(0))();function K_(s){typeof Zone>"u"?a0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Is{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function WA(){let s=Ot.requestAnimationFrame,l=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&l){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function uD(s){const l=()=>{!function ZA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,l0(s),s.isCheckStableRunning=!0,Jp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),l0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return c0(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&l(),dD(s)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return c0(s),c.invoke(f,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&l(),dD(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,l0(s),Jp(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new Te(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,l,cD,Xp,Xp);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const cD={};function Jp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function l0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function c0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function dD(s){s._nesting--,Jp(s)}class Gh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const ld=new Pn(""),Q_=new Pn("");let J_,X_=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J_||(function hD(s){J_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),K_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())K_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(hn(Is),hn(u0),hn(Q_))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),u0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return J_?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Pc=null;const ey=new Pn("AllowMultipleToken"),d0=new Pn("PlatformDestroyListeners");class ty{constructor(l,c){this.name=l,this.token=c}}function iy(s,l,c=[]){const d=`Platform: ${l}`,f=new Pn(d);return(p=[])=>{let y=f0();if(!y||y.injector.get(ey,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function em(s){if(Pc&&!Pc.get(ey,!1))throw new Te(400,!1);Pc=s;const l=s.get(_D);(function ry(s){const l=s.get(t0,null);l&&l.forEach(c=>c())})(s)}(function gD(s=[],l){return xr.create({name:l,providers:[{provide:dv,useValue:"platform"},{provide:d0,useValue:new Set([()=>Pc=null])},...s]})}(w,d))}return function mD(s){const l=f0();if(!l)throw new Te(401,!1);return l}()}}function f0(){return Pc?.get(_D)??null}let _D=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function p0(s,l){let c;return c="noop"===s?new Gh:("zone.js"===s?void 0:s)||new Is(l),c}(d?.ngZone,function yD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Is,useValue:f}];return f.run(()=>{const y=xr.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(Tu,null);if(!E)throw new Te(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{E.handleError(R)}});w.onDestroy(()=>{nm(this._modules,w),A.unsubscribe()})}),function tm(s,l,c){try{const d=c();return o_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const A=w.injector.get(z_);return A.runInitializers(),A.donePromise.then(()=>(function pb(s){Zt(s,"Expected localeId to be defined"),"string"==typeof s&&(fb=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(W_,mn)||mn),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=qh({},d);return function fD(s,l,c){const d=new Sb(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(Wh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Te(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(d0,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(hn(xr))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function qh(s,l){return Array.isArray(l)?l.reduce(qh,s):{...s,...l}}let Wh=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new O.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),K_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(p,y.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof tS;if(!this._injector.get(z_).done)throw!f&&Pe(c),new Te(405,false);let y;y=f?c:this._injector.get(sc).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function h0(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Qu),A=y.create(xr.NULL,[],d||y.selector,w),R=A.location.nativeElement,L=A.injector.get(ld,null);return L?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),nm(this.components,A),L?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;nm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(n0,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>nm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(hn(Is),hn(ic),hn(Tu))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function nm(s,l){const c=s.indexOf(l);c>-1&&s.splice(c,1)}let bD=!0,wD=!1;function m0(){return wD=!0,bD}function XA(){if(wD)throw new Error("Cannot enable prod mode after platform setup.");bD=!1}let Zh=(()=>{class s{}return s.__NG_ELEMENT_ID__=g0,s})();function g0(s){return function ay(s,l,c){if(Ro(s)&&!c){const d=cn(s.index,l);return new dl(d,d)}return 47&s.type?new dl(l[16],l):null}(ur(),xe(),16==(16&s))}class SD{constructor(){}supports(l){return mc(l)}create(l){return new rM(l)}}const v0=(s,l)=>l;class rM{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||v0}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<AD(d,f,p)?c:d,w=AD(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const A=w-f,R=E-f;if(A!=R){for(let Z=0;Z<A;Z++){const se=Z<p.length?p[Z]:p[Z]=0,Ee=se+Z;R<=Ee&&Ee<A&&(p[Z]=se+1)}p[y.previousIndex]=R-A}}w!==E&&l(y,w,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!mc(l))throw new Te(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)p=l[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function e_(s,l){if(Array.isArray(s))for(let c=0;c<s.length;c++)l(s[c]);else{const c=s[ku()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let p;return null===l?p=this._itTail:(p=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,p,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,p,f)):l=this._addAfter(new b0(c,d),p,f),l}_verifyReinsertion(l,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?l=this._reinsertAfter(p,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,p=l._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new uy),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uy),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class b0{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iM{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class uy{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new iM,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AD(s,l,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class dy{constructor(){}supports(l){return l instanceof Map||Dp(l)}create(){return new MD}}class MD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Dp(l)))throw new Te(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new w0(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class w0{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hy(){return new sm([new SD])}let sm=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||hy()),deps:[[s,new ut,new Ce]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:hy}),s})();function Dl(){return new am([new dy])}let am=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Dl()),deps:[[s,new ut,new Ce]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Dl}),s})();const oM=iy(null,"core",[]);let aM=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(hn(Wh))},s.\u0275mod=tn({type:s}),s.\u0275inj=Ht({}),s})();function C0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ft,Se,F)=>{F.d(Se,{Z:()=>Te});var a=F(2090),j=F(4859),O=F(9681),ae=F(1877);class ue{constructor(we,ge){this._delegate=we,this.firebase=ge,(0,O._addComponent)(we,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(we,ge=O._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(we);return!Je.isInitialized()&&"EXPLICIT"===(null===(Xe=Je.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:ge})}_removeServiceInstance(we,ge=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ge)}_addComponent(we){(0,O._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,O._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ye(){const ot=function fe(ot){const we={},ge={__esModule:!0,initializeApp:function Oe(oe,de={}){const ve=O.initializeApp(oe,de);if((0,a.r3)(we,ve.name))return we[ve.name];const Q=new ot(ve,ge);return we[ve.name]=Q,Q},app:Je,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(oe){const de=oe.name,ve=de.replace("-compat","");if(O._registerComponent(oe)&&"PUBLIC"===oe.type){const Q=(J=Je())=>{if("function"!=typeof J[ve])throw ie.create("invalid-app-argument",{appName:de});return J[ve]()};void 0!==oe.serviceProps&&(0,a.ZB)(Q,oe.serviceProps),ge[ve]=Q,ot.prototype[ve]=function(...J){return this._getService.bind(this,de).apply(this,oe.multipleInstances?J:[])}}return"PUBLIC"===oe.type?ge[ve]:null},removeApp:function Xe(oe){delete we[oe]},useAsService:function ze(oe,de){return"serverAuth"===de?null:de},modularAPIs:O}};function Je(oe){if(!(0,a.r3)(we,oe=oe||O._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:oe});return we[oe]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Me(){return Object.keys(we).map(oe=>we[oe])}}),Je.App=ot,ge}(ue);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function we(ge){(0,a.ZB)(ot,ge)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ot}(),q=new ae.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=W;!function Re(ot){(0,O.registerVersion)("@firebase/app-compat","0.2.1",ot)}()},9681:(ft,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ls,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>sn,_apps:()=>vn,_clearComponents:()=>zi,_components:()=>kn,_getProvider:()=>Ht,_registerComponent:()=>Yt,_removeServiceInstance:()=>Hr,deleteApp:()=>cs,getApp:()=>tr,getApps:()=>Fi,initializeApp:()=>Qr,onLog:()=>nr,registerVersion:()=>ar,setLogLevel:()=>Mn});var a=F(5861),j=F(4859),O=F(1877),ae=F(2090),ue=F(8766);class _e{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function ie(rt){return"VERSION"===rt.getComponent()?.type}(it)){const It=it.getImmediate();return`${It.library}/${It.version}`}return null}).filter(it=>it).join(" ")}}const fe="@firebase/app",W=new O.Yd("@firebase/app"),Zt="[DEFAULT]",qe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,kn=new Map;function rn(rt,Ie){try{rt.container.addComponent(Ie)}catch(it){W.debug(`Component ${Ie.name} failed to register with FirebaseApp ${rt.name}`,it)}}function sn(rt,Ie){rt.container.addOrOverwriteComponent(Ie)}function Yt(rt){const Ie=rt.name;if(kn.has(Ie))return W.debug(`There were multiple attempts to register component ${Ie}.`),!1;kn.set(Ie,rt);for(const it of vn.values())rn(it,rt);return!0}function Ht(rt,Ie){const it=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),rt.container.getProvider(Ie)}function Hr(rt,Ie,it=Zt){Ht(rt,Ie).clearInstance(it)}function zi(){kn.clear()}const $n=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class as{constructor(Ie,it,It){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const ls="9.16.0";function Qr(rt,Ie={}){let it=rt;"object"!=typeof Ie&&(Ie={name:Ie});const It=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Ie),kt=It.name;if("string"!=typeof kt||!kt)throw $n.create("bad-app-name",{appName:String(kt)});if(it||(it=(0,ae.aH)()),!it)throw $n.create("no-options");const tn=vn.get(kt);if(tn){if((0,ae.vZ)(it,tn.options)&&(0,ae.vZ)(It,tn.config))return tn;throw $n.create("duplicate-app",{appName:kt})}const G=new j.H0(kt);for(const Y of kn.values())G.addComponent(Y);const $=new as(it,It,G);return vn.set(kt,$),$}function tr(rt=Zt){const Ie=vn.get(rt);if(!Ie&&rt===Zt)return Qr();if(!Ie)throw $n.create("no-app",{appName:rt});return Ie}function Fi(){return Array.from(vn.values())}function cs(rt){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(rt){const Ie=rt.name;vn.has(Ie)&&(vn.delete(Ie),yield Promise.all(rt.container.getProviders().map(it=>it.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function ar(rt,Ie,it){var It;let kt=null!==(It=qe[rt])&&void 0!==It?It:rt;it&&(kt+=`-${it}`);const tn=kt.match(/\s|\//),G=Ie.match(/\s|\//);if(tn||G){const $=[`Unable to register library "${kt}" with version "${Ie}":`];return tn&&$.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),tn&&G&&$.push("and"),G&&$.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void W.warn($.join(" "))}Yt(new j.wA(`${kt}-version`,()=>({library:kt,version:Ie}),"VERSION"))}function nr(rt,Ie){if(null!==rt&&"function"!=typeof rt)throw $n.create("invalid-log-argument");(0,O.Am)(rt,Ie)}function Mn(rt){(0,O.Ub)(rt)}const Rn="firebase-heartbeat-store";let On=null;function En(){return On||(On=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(rt,Ie)=>{0===Ie&&rt.createObjectStore(Rn)}}).catch(rt=>{throw $n.create("idb-open",{originalErrorMessage:rt.message})})),On}function gt(){return(gt=(0,a.Z)(function*(rt){try{return(yield En()).transaction(Rn).objectStore(Rn).get(lr(rt))}catch(Ie){if(Ie instanceof ae.ZR)W.warn(Ie.message);else{const it=$n.create("idb-get",{originalErrorMessage:Ie?.message});W.warn(it.message)}}})).apply(this,arguments)}function Ot(rt,Ie){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(rt,Ie){try{const It=(yield En()).transaction(Rn,"readwrite");return yield It.objectStore(Rn).put(Ie,lr(rt)),It.done}catch(it){if(it instanceof ae.ZR)W.warn(it.message);else{const It=$n.create("idb-set",{originalErrorMessage:it?.message});W.warn(It.message)}}})).apply(this,arguments)}function lr(rt){return`${rt.name}!${rt.options.appId}`}class Xr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new Jt(it),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ie=this;return(0,a.Z)(function*(){const It=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Vt();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Ie._heartbeatsCache.heartbeats.some(tn=>tn.date===kt))return Ie._heartbeatsCache.heartbeats.push({date:kt,agent:It}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(tn=>{const G=new Date(tn.date).valueOf();return Date.now()-G<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,a.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const it=Vt(),{heartbeatsToSend:It,unsentEntries:kt}=function wi(rt,Ie=1024){const it=[];let It=rt.slice();for(const kt of rt){const tn=it.find(G=>G.agent===kt.agent);if(tn){if(tn.dates.push(kt.date),yr(it)>Ie){tn.dates.pop();break}}else if(it.push({agent:kt.agent,dates:[kt.date]}),yr(it)>Ie){it.pop();break}It=It.slice(1)}return{heartbeatsToSend:it,unsentEntries:It}}(Ie._heartbeatsCache.heartbeats),tn=(0,ae.L)(JSON.stringify({version:2,heartbeats:It}));return Ie._heartbeatsCache.lastSentHeartbeatDate=it,kt.length>0?(Ie._heartbeatsCache.heartbeats=kt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),tn})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,a.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function mt(rt){return gt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var it=this;return(0,a.Z)(function*(){var It;if(yield it._canUseIndexedDBPromise){const tn=yield it.read();return Ot(it.app,{lastSentHeartbeatDate:null!==(It=Ie.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var it=this;return(0,a.Z)(function*(){var It;if(yield it._canUseIndexedDBPromise){const tn=yield it.read();return Ot(it.app,{lastSentHeartbeatDate:null!==(It=Ie.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Ie.heartbeats]})}})()}}function yr(rt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Bn(rt){Yt(new j.wA("platform-logger",Ie=>new _e(Ie),"PRIVATE")),Yt(new j.wA("heartbeat",Ie=>new Xr(Ie),"PRIVATE")),ar(fe,"0.9.1",rt),ar(fe,"0.9.1","esm2017"),ar("fire-js","")}("")},4859:(ft,Se,F)=>{F.d(Se,{H0:()=>fe,wA:()=>O});var a=F(5861),j=F(2090);class O{constructor(W,q,X){this.name=W,this.instanceFactory=q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ae="[DEFAULT]";class ue{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const X=new j.BH;if(this.instancesDeferred.set(q,X),this.isInitialized(q)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:q});$e&&X.resolve($e)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const X=this.normalizeInstanceIdentifier(W?.identifier),$e=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Re){if($e)return null;throw Re}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ie(ye){return"EAGER"===ye.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[q,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(q);try{const Re=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(Re)}catch{}}}}clearInstance(W=ae){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,a.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...q.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ae){return this.instances.has(W)}getOptions(W=ae){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,X=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:q});for(const[Re,Te]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Re)&&Te.resolve($e);return $e}onInit(W,q){var X;const $e=this.normalizeInstanceIdentifier(q),Re=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;Re.add(W),this.onInitCallbacks.set($e,Re);const Te=this.instances.get($e);return Te&&W(Te,$e),()=>{Re.delete(W)}}invokeOnInitCallbacks(W,q){const X=this.onInitCallbacks.get(q);if(X)for(const $e of X)try{$e(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let X=this.instances.get(W);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=W,ye===ae?void 0:ye),options:q}),this.instances.set(W,X),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(X,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,X)}catch{}var ye;return X||null}normalizeInstanceIdentifier(W=ae){return this.component?this.component.multipleInstances?W:ae:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new ue(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Se,F)=>{F.d(Se,{Am:()=>ye,Ub:()=>fe,Yd:()=>ie,in:()=>j});const a=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ae=j.INFO,ue={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},_e=(W,q,...X)=>{if(q<W.logLevel)return;const $e=(new Date).toISOString(),Re=ue[q];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Re](`[${$e}]  ${W.name}:`,...X)};class ie{constructor(q){this.name=q,this._logLevel=ae,this._logHandler=_e,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function fe(W){a.forEach(q=>{q.setLogLevel(W)})}function ye(W,q){for(const X of a){let $e=null;q&&q.level&&($e=O[q.level]),X.userLogHandler=null===W?null:(Re,Te,...ot)=>{const we=ot.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Te>=($e??Re.logLevel)&&W({level:j[Te].toLowerCase(),message:we,args:ot,type:Re.name})}}}},259:(ft,Se,F)=>{F.d(Se,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=F(9681);(0,a.registerVersion)("firebase","9.16.0","app")},9260:(ft,Se,F)=>{F.d(Se,{Z:()=>a.Z});var a=F(3942);a.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(ft,Se,F)=>{F.r(Se);var a=F(5861),j=F(3942),O=F(1808),ae=F(2090),ie=(F(9681),F(1877),F(4859));function fe(){return window}function q(){return(q=(0,a.Z)(function*(U,k,B){var re;const{BuildInfo:Pe}=fe();(0,O.ap)(k.sessionId,"AuthEvent did not contain a session ID");const at=yield ge(k.sessionId),ht={};return(0,O.aq)()?ht.ibi=Pe.packageName:(0,O.ar)()?ht.apn=Pe.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),Pe.displayName&&(ht.appDisplayName=Pe.displayName),ht.sessionId=at,(0,O.at)(U,B,k.type,void 0,null!==(re=k.eventId)&&void 0!==re?re:void 0,ht)})).apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(U){const{BuildInfo:k}=fe(),B={};(0,O.aq)()?B.iosBundleId=k.packageName:(0,O.ar)()?B.androidPackageName=k.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),yield(0,O.au)(U,B)})).apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(U,k,B){const{cordova:re}=fe();let Pe=()=>{};try{yield new Promise((at,ht)=>{let Ae=null;function Le(){var Bt;at();const wn=null===(Bt=re.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof wn&&wn(),"function"==typeof B?.close&&B.close()}function Nt(){Ae||(Ae=window.setTimeout(()=>{ht((0,O.aw)(U,"redirect-cancelled-by-user"))},2e3))}function bn(){"visible"===document?.visibilityState&&Nt()}k.addPassiveListener(Le),document.addEventListener("resume",Nt,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",bn,!1),Pe=()=>{k.removePassiveListener(Le),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",bn,!1),Ae&&window.clearTimeout(Ae)}})}finally{Pe()}})).apply(this,arguments)}function ge(U){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(U){const k=Je(U),B=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(B)).map(Pe=>Pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(U){if((0,O.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const k=new ArrayBuffer(U.length),B=new Uint8Array(k);for(let re=0;re<U.length;re++)B[re]=U.charCodeAt(re);return B}class Me extends O.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(k)),super.onEvent(k)}initialized(){var k=this;return(0,a.Z)(function*(){yield k.initPromise})()}}function oe(U){return de.apply(this,arguments)}function de(){return(de=(0,a.Z)(function*(U){const k=yield J()._get(pe(U));return k&&(yield J()._remove(pe(U))),k})).apply(this,arguments)}function Q(){const U=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const re=Math.floor(Math.random()*k.length);U.push(k.charAt(re))}return U.join("")}function J(){return(0,O.az)(O.b)}function pe(U){return(0,O.aA)("authEvent",U.config.apiKey,U.name)}function Ue(U){if(!U?.includes("?"))return{};const[k,...B]=U.split("?");return(0,ae.zd)(B.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Yt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function Hr(U=(0,ae.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function ls(){try{const U=self.localStorage,k=O.aI();if(U)return U.setItem(k,"1"),U.removeItem(k),!function as(U=(0,ae.z$)()){return function Kr(){return(0,ae.w1)()&&11===document?.documentMode}()||function $n(U=(0,ae.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,ae.hl)()}catch{return Qr()&&(0,ae.hl)()}return!1}function Qr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tr(){return(function Ht(){return"http:"===Yt()||"https:"===Yt()}()||(0,ae.ru)()||Hr())&&!function zi(){return(0,ae.b$)()||(0,ae.UG)()}()&&ls()&&!Qr()}function Fi(){return Hr()&&typeof document<"u"}function et(){return(et=(0,a.Z)(function*(){return!!Fi()&&new Promise(U=>{const k=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),U(!0)})})})).apply(this,arguments)}const nr={LOCAL:"local",NONE:"none",SESSION:"session"},Mn=O.ax,Dr="persistence";function Rn(U){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(U){yield U._initializationPromise;const k=mt(),B=O.aA(Dr,U.config.apiKey,U.name);k&&k.setItem(B,U._getPersistence())})).apply(this,arguments)}function mt(){var U;try{return(null===(U=function ar(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const gt=O.ax;class Ot{constructor(){this.browserResolver=O.az(O.k),this.cordovaResolver=O.az(class ln{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(k){var B=this;return(0,a.Z)(function*(){const re=k._key();let Pe=B.eventManagers.get(re);return Pe||(Pe=new Me(k),B.eventManagers.set(re,Pe),B.attachCallbackListeners(k,Pe)),Pe})()}_openPopup(k){(0,O.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,B,re,Pe){var at=this;return(0,a.Z)(function*(){!function we(U){var k,B,re,Pe,at,ht,Ae,Le,Nt,bn;const Bt=fe();(0,O.ax)("function"==typeof(null===(k=Bt?.universalLinks)||void 0===k?void 0:k.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(B=Bt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(at=null===(Pe=null===(re=Bt?.cordova)||void 0===re?void 0:re.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===at?void 0:at.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Le=null===(Ae=null===(ht=Bt?.cordova)||void 0===ht?void 0:ht.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Le?void 0:Le.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(bn=null===(Nt=Bt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===bn?void 0:bn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const ht=yield at._initialize(k);yield ht.initialized(),ht.resetRedirect(),(0,O.aD)(),yield at._originValidation(k);const Ae=function De(U,k,B=null){return{type:k,eventId:B,urlResponse:null,sessionId:Q(),postBody:null,tenantId:U.tenantId,error:(0,O.aw)(U,"no-auth-event")}}(k,re,Pe);yield function ze(U,k){return J()._set(pe(U),k)}(k,Ae);const Le=yield function W(U,k,B){return q.apply(this,arguments)}(k,Ae,B),Nt=yield function Re(U){const{cordova:k}=fe();return new Promise(B=>{k.plugins.browsertab.isAvailable(re=>{let Pe=null;re?k.plugins.browsertab.openUrl(U):Pe=k.InAppBrowser.open(U,(0,O.av)()?"_blank":"_system","location=yes"),B(Pe)})})}(Le);return function Te(U,k,B){return ot.apply(this,arguments)}(k,ht,Nt)})()}_isIframeWebStorageSupported(k,B){throw new Error("Method not implemented.")}_originValidation(k){const B=k._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function X(U){return $e.apply(this,arguments)}(k)),this.originValidationPromises[B]}attachCallbackListeners(k,B){const{universalLinks:re,handleOpenURL:Pe,BuildInfo:at}=fe(),ht=setTimeout((0,a.Z)(function*(){yield oe(k),B.onEvent(qe())}),500),Ae=function(){var bn=(0,a.Z)(function*(Bt){clearTimeout(ht);const wn=yield oe(k);let us=null;wn&&Bt?.url&&(us=function ve(U,k){var B,re;const Pe=function Ve(U){const k=Ue(U),B=k.link?decodeURIComponent(k.link):void 0,re=Ue(B).link,Pe=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return Ue(Pe).link||Pe||re||B||U}(k);if(Pe.includes("/__/auth/callback")){const at=Ue(Pe),ht=at.firebaseError?function ce(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,Ae=null===(re=null===(B=ht?.code)||void 0===B?void 0:B.split("auth/"))||void 0===re?void 0:re[1],Le=Ae?(0,O.aw)(Ae):null;return Le?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Pe,postBody:null}}return null}(wn,Bt.url)),B.onEvent(us||qe())});return function(wn){return bn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Ae);const Le=Pe,Nt=`${at.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var bn=(0,a.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Nt)&&Ae({url:Bt}),"function"==typeof Le)try{Le(Bt)}catch(wn){console.error(wn)}});return function(Bt){return bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(k){var B=this;return(0,a.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,B,re,Pe){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(k,B,re,Pe)})()}_openRedirect(k,B,re,Pe){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(k,B,re,Pe)})()}_isIframeWebStorageSupported(k,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,B)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Fi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,a.Z)(function*(){if(k.underlyingResolver)return;const B=yield function cs(){return et.apply(this,arguments)}();k.underlyingResolver=B?k.cordovaResolver:k.browserResolver})()}}function oi(U){return U.unwrap()}function jr(U){return Xr(U)}function Xr(U){const{_tokenResponse:k}=U instanceof ae.ZR?U.customData:U;if(!k)return null;if(!(U instanceof ae.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return O.P.credentialFromResult(U);const B=k.providerId;if(!B||B===O.o.PASSWORD)return null;let re;switch(B){case O.o.GOOGLE:re=O.Q;break;case O.o.FACEBOOK:re=O.N;break;case O.o.GITHUB:re=O.T;break;case O.o.TWITTER:re=O.W;break;default:const{oauthIdToken:Pe,oauthAccessToken:at,oauthTokenSecret:ht,pendingToken:Ae,nonce:Le}=k;return at||ht||Pe||Ae?Ae?B.startsWith("saml.")?O.aL._create(B,Ae):O.J._fromParams({providerId:B,signInMethod:B,pendingToken:Ae,idToken:Pe,accessToken:at}):new O.U(B).credential({idToken:Pe,accessToken:at,rawNonce:Le}):null}return U instanceof ae.ZR?re.credentialFromError(U):re.credentialFromResult(U)}function Vt(U,k){return k.catch(B=>{throw B instanceof ae.ZR&&function xt(U,k){var B;const re=null===(B=k.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new yr(U,O.an(U,k));else if(re){const Pe=Xr(k),at=k;Pe&&(at.credential=Pe,at.tenantId=re.tenantId||void 0,at.email=re.email||void 0,at.phoneNumber=re.phoneNumber||void 0)}}(U,B),B}).then(B=>{const Pe=B.user;return{operationType:B.operationType,credential:jr(B),additionalUserInfo:O.al(B),user:Bn.getOrCreate(Pe)}})}function wi(U,k){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(U,k){const B=yield k;return{verificationId:B.verificationId,confirm:re=>Vt(U,B.confirm(re))}})).apply(this,arguments)}class yr{constructor(k,B){this.resolver=B,this.auth=function lr(U){return U.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Vt(oi(this.auth),this.resolver.resolveSignIn(k))}}class Bn{constructor(k){this._delegate=k,this.multiFactor=O.ao(k)}static getOrCreate(k){return Bn.USER_MAP.has(k)||Bn.USER_MAP.set(k,new Bn(k)),Bn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var B=this;return(0,a.Z)(function*(){return Vt(B.auth,O.Z(B._delegate,k))})()}linkWithPhoneNumber(k,B){var re=this;return(0,a.Z)(function*(){return wi(re.auth,O.l(re._delegate,k,B))})()}linkWithPopup(k){var B=this;return(0,a.Z)(function*(){return Vt(B.auth,O.d(B._delegate,k,Ot))})()}linkWithRedirect(k){var B=this;return(0,a.Z)(function*(){return yield Rn(O.aE(B.auth)),O.g(B._delegate,k,Ot)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var B=this;return(0,a.Z)(function*(){return Vt(B.auth,O._(B._delegate,k))})()}reauthenticateWithPhoneNumber(k,B){return wi(this.auth,O.r(this._delegate,k,B))}reauthenticateWithPopup(k){return Vt(this.auth,O.e(this._delegate,k,Ot))}reauthenticateWithRedirect(k){var B=this;return(0,a.Z)(function*(){return yield Rn(O.aE(B.auth)),O.h(B._delegate,k,Ot)})()}sendEmailVerification(k){return O.ab(this._delegate,k)}unlink(k){var B=this;return(0,a.Z)(function*(){return yield O.ak(B._delegate,k),B})()}updateEmail(k){return O.ag(this._delegate,k)}updatePassword(k){return O.ah(this._delegate,k)}updatePhoneNumber(k){return O.u(this._delegate,k)}updateProfile(k){return O.af(this._delegate,k)}verifyBeforeUpdateEmail(k,B){return O.ac(this._delegate,k,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const rt=O.ax;let Ie=(()=>{class U{constructor(B,re){if(this.app=B,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Pe}=B.options;rt(Pe,"invalid-api-key",{appName:B.name}),rt(Pe,"invalid-api-key",{appName:B.name});const at=typeof window<"u"?Ot:void 0;this._delegate=re.initialize({options:{persistence:It(Pe,B.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,re){O.G(this._delegate,B,re)}applyActionCode(B){return O.a2(this._delegate,B)}checkActionCode(B){return O.a3(this._delegate,B)}confirmPasswordReset(B,re){return O.a1(this._delegate,B,re)}createUserWithEmailAndPassword(B,re){var Pe=this;return(0,a.Z)(function*(){return Vt(Pe._delegate,O.a5(Pe._delegate,B,re))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return O.aa(this._delegate,B)}isSignInWithEmailLink(B){return O.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,a.Z)(function*(){rt(tr(),B._delegate,"operation-not-supported-in-this-environment");const re=yield O.j(B._delegate,Ot);return re?Vt(B._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function vn(U,k){(0,O.aE)(U)._logFramework(k)}(this._delegate,B)}onAuthStateChanged(B,re,Pe){const{next:at,error:ht,complete:Ae}=it(B,re,Pe);return this._delegate.onAuthStateChanged(at,ht,Ae)}onIdTokenChanged(B,re,Pe){const{next:at,error:ht,complete:Ae}=it(B,re,Pe);return this._delegate.onIdTokenChanged(at,ht,Ae)}sendSignInLinkToEmail(B,re){return O.a7(this._delegate,B,re)}sendPasswordResetEmail(B,re){return O.a0(this._delegate,B,re||void 0)}setPersistence(B){var re=this;return(0,a.Z)(function*(){let Pe;switch(function Ks(U,k){Mn(Object.values(nr).includes(k),U,"invalid-persistence-type"),(0,ae.b$)()?Mn(k!==nr.SESSION,U,"unsupported-persistence-type"):(0,ae.UG)()?Mn(k===nr.NONE,U,"unsupported-persistence-type"):Qr()?Mn(k===nr.NONE||k===nr.LOCAL&&(0,ae.hl)(),U,"unsupported-persistence-type"):Mn(k===nr.NONE||ls(),U,"unsupported-persistence-type")}(re._delegate,B),B){case nr.SESSION:Pe=O.a;break;case nr.LOCAL:Pe=(yield O.az(O.i)._isAvailable())?O.i:O.b;break;case nr.NONE:Pe=O.L;break;default:return O.as("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Pe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Vt(this._delegate,O.X(this._delegate))}signInWithCredential(B){return Vt(this._delegate,O.Y(this._delegate,B))}signInWithCustomToken(B){return Vt(this._delegate,O.$(this._delegate,B))}signInWithEmailAndPassword(B,re){return Vt(this._delegate,O.a6(this._delegate,B,re))}signInWithEmailLink(B,re){return Vt(this._delegate,O.a9(this._delegate,B,re))}signInWithPhoneNumber(B,re){return wi(this._delegate,O.s(this._delegate,B,re))}signInWithPopup(B){var re=this;return(0,a.Z)(function*(){return rt(tr(),re._delegate,"operation-not-supported-in-this-environment"),Vt(re._delegate,O.c(re._delegate,B,Ot))})()}signInWithRedirect(B){var re=this;return(0,a.Z)(function*(){return rt(tr(),re._delegate,"operation-not-supported-in-this-environment"),yield Rn(re._delegate),O.f(re._delegate,B,Ot)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return O.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=nr,U})();function it(U,k,B){let re=U;"function"!=typeof U&&({next:re,error:k,complete:B}=U);const Pe=re;return{next:ht=>Pe(ht&&Bn.getOrCreate(ht)),error:k,complete:B}}function It(U,k){const B=function En(U,k){const B=mt();if(!B)return[];const re=O.aA(Dr,U,k);switch(B.getItem(re)){case nr.NONE:return[O.L];case nr.LOCAL:return[O.i,O.a];case nr.SESSION:return[O.a];default:return[]}}(U,k);if(typeof self<"u"&&!B.includes(O.i)&&B.push(O.i),typeof window<"u")for(const re of[O.b,O.a])B.includes(re)||B.push(re);return B.includes(O.L)||B.push(O.L),B}class kt{constructor(){this.providerId="phone",this._delegate=new O.P(oi(j.Z.auth()))}static credential(k,B){return O.P.credential(k,B)}verifyPhoneNumber(k,B){return this._delegate.verifyPhoneNumber(k,B)}unwrap(){return this._delegate}}kt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,kt.PROVIDER_ID=O.P.PROVIDER_ID;const tn=O.ax;class G{constructor(k,B,re=j.Z.app()){var Pe;tn(null===(Pe=re.options)||void 0===Pe?void 0:Pe.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new O.R(k,B,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(U){U.INTERNAL.registerComponent(new ie.wA("auth-compat",k=>{const B=k.getProvider("app-compat").getImmediate(),re=k.getProvider("auth");return new Ie(B,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:kt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:G,TwitterAuthProvider:O.W,Auth:Ie,AuthCredential:O.H,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.3.1")}(j.Z)},8766:(ft,Se,F)=>{F.d(Se,{Lj:()=>Oe,X3:()=>Je});var a=F(5861);let O,ae;const ie=new WeakMap,fe=new WeakMap,ye=new WeakMap,W=new WeakMap,q=new WeakMap;let Re={get(de,ve,Q){if(de instanceof IDBTransaction){if("done"===ve)return fe.get(de);if("objectStoreNames"===ve)return de.objectStoreNames||ye.get(de);if("store"===ve)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ge(de[ve])},set:(de,ve,Q)=>(de[ve]=Q,!0),has:(de,ve)=>de instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in de};function we(de){return"function"==typeof de?function ot(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ve){return de.apply(Xe(this),ve),ge(ie.get(this))}:function(...ve){return ge(de.apply(Xe(this),ve))}:function(ve,...Q){const J=de.call(Xe(this),ve,...Q);return ye.set(J,ve.sort?ve.sort():[ve]),ge(J)}}(de):(de instanceof IDBTransaction&&function $e(de){if(fe.has(de))return;const ve=new Promise((Q,J)=>{const pe=()=>{de.removeEventListener("complete",ce),de.removeEventListener("error",Ve),de.removeEventListener("abort",Ve)},ce=()=>{Q(),pe()},Ve=()=>{J(de.error||new DOMException("AbortError","AbortError")),pe()};de.addEventListener("complete",ce),de.addEventListener("error",Ve),de.addEventListener("abort",Ve)});fe.set(de,ve)}(de),((de,ve)=>ve.some(Q=>de instanceof Q))(de,function ue(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Re):de)}function ge(de){if(de instanceof IDBRequest)return function X(de){const ve=new Promise((Q,J)=>{const pe=()=>{de.removeEventListener("success",ce),de.removeEventListener("error",Ve)},ce=()=>{Q(ge(de.result)),pe()},Ve=()=>{J(de.error),pe()};de.addEventListener("success",ce),de.addEventListener("error",Ve)});return ve.then(Q=>{Q instanceof IDBCursor&&ie.set(Q,de)}).catch(()=>{}),q.set(ve,de),ve}(de);if(W.has(de))return W.get(de);const ve=we(de);return ve!==de&&(W.set(de,ve),q.set(ve,de)),ve}const Xe=de=>q.get(de);function Je(de,ve,{blocked:Q,upgrade:J,blocking:pe,terminated:ce}={}){const Ve=indexedDB.open(de,ve),Ue=ge(Ve);return J&&Ve.addEventListener("upgradeneeded",pt=>{J(ge(Ve.result),pt.oldVersion,pt.newVersion,ge(Ve.transaction))}),Q&&Ve.addEventListener("blocked",()=>Q()),Ue.then(pt=>{ce&&pt.addEventListener("close",()=>ce()),pe&&pt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Ue}function Oe(de,{blocked:ve}={}){const Q=indexedDB.deleteDatabase(de);return ve&&Q.addEventListener("blocked",()=>ve()),ge(Q).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],ze=new Map;function oe(de,ve){if(!(de instanceof IDBDatabase)||ve in de||"string"!=typeof ve)return;if(ze.get(ve))return ze.get(ve);const Q=ve.replace(/FromIndex$/,""),J=ve!==Q,pe=De.includes(Q);if(!(Q in(J?IDBIndex:IDBObjectStore).prototype)||!pe&&!Me.includes(Q))return;const ce=function(){var Ve=(0,a.Z)(function*(Ue,...pt){const ln=this.transaction(Ue,pe?"readwrite":"readonly");let Zt=ln.store;return J&&(Zt=Zt.index(pt.shift())),(yield Promise.all([Zt[Q](...pt),pe&&ln.done]))[0]});return function(pt){return Ve.apply(this,arguments)}}();return ze.set(ve,ce),ce}!function Te(de){Re=de(Re)}(de=>({...de,get:(ve,Q,J)=>oe(ve,Q)||de.get(ve,Q,J),has:(ve,Q)=>!!oe(ve,Q)||de.has(ve,Q)}))},5861:(ft,Se,F)=>{function a(O,ae,ue,_e,ie,fe,ye){try{var W=O[fe](ye),q=W.value}catch(X){return void ue(X)}W.done?ae(q):Promise.resolve(q).then(_e,ie)}function j(O){return function(){var ae=this,ue=arguments;return new Promise(function(_e,ie){var fe=O.apply(ae,ue);function ye(q){a(fe,_e,ie,ye,W,"next",q)}function W(q){a(fe,_e,ie,ye,W,"throw",q)}ye(void 0)})}}F.d(Se,{Z:()=>j})}},ft=>{ft(ft.s=8982)}]);